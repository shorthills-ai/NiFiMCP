{"flowContents":{"identifier":"13798834-14cc-35fd-8606-332cbd2befaa","instanceIdentifier":"59b96417-0197-1000-ffff-ffffdc818fb9","name":"Embedding_Custom_Processor","comments":"","position":{"x":-456.0,"y":448.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"fd01addb-bb9c-33b1-a167-2d134c636de9","instanceIdentifier":"d4c38dfe-cfdd-3128-b769-e3dd23230458","name":"ExecuteStreamCommand","comments":"","position":{"x":792.0,"y":120.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/Custom_processor/Embeddings","Command Path":"/home/nifi/nifi2/users/Custom_processor/Embeddings/embeddings/bin/python3","Output Destination Attribute":null,"EMBEDDING_PROVIDER":"#{EMBEDDING_PROVIDER}","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/Custom_processor/Embeddings/embeddings.py","EMBEDDING_MODEL":"#{EMBEDDING_MODEL}"},"propertyDescriptors":{"AWS_REGION":{"name":"AWS_REGION","displayName":"AWS_REGION","identifiesControllerService":false,"sensitive":true,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AWS_SECRET_ACCESS_KEY":{"name":"AWS_SECRET_ACCESS_KEY","displayName":"AWS_SECRET_ACCESS_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"AZURE_OPENAI_KEY":{"name":"AZURE_OPENAI_KEY","displayName":"AZURE_OPENAI_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_ENDPOINT":{"name":"AZURE_OPENAI_ENDPOINT","displayName":"AZURE_OPENAI_ENDPOINT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"AZURE_OPENAI_DEPLOYMENT":{"name":"AZURE_OPENAI_DEPLOYMENT","displayName":"AZURE_OPENAI_DEPLOYMENT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AWS_ACCESS_KEY_ID":{"name":"AWS_ACCESS_KEY_ID","displayName":"AWS_ACCESS_KEY_ID","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"EMBEDDING_PROVIDER":{"name":"EMBEDDING_PROVIDER","displayName":"EMBEDDING_PROVIDER","identifiesControllerService":false,"sensitive":false,"dynamic":true},"EMBEDDING_MODEL":{"name":"EMBEDDING_MODEL","displayName":"EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_API_VERSION":{"name":"AZURE_OPENAI_API_VERSION","displayName":"AZURE_OPENAI_API_VERSION","identifiesControllerService":false,"sensitive":true,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"13798834-14cc-35fd-8606-332cbd2befaa"},{"identifier":"9168e3c7-2a68-3848-94bb-41e6bed92860","instanceIdentifier":"ed84895d-41ea-32da-b950-d79fed7cabf6","name":"GetFile","comments":"","position":{"x":312.0,"y":112.0},"type":"org.apache.nifi.processors.standard.GetFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Keep Source File":"false","Minimum File Age":"0 sec","Polling Interval":"0 sec","Input Directory":"/home/nifi/nifi2/users/Custom_processor/Embeddings/sample_input","Maximum File Age":null,"Batch Size":"10","Maximum File Size":null,"Minimum File Size":"0 B","Ignore Hidden Files":"true","Recurse Subdirectories":"true","File Filter":"[^\\.].*","Path Filter":null},"propertyDescriptors":{"Keep Source File":{"name":"Keep Source File","displayName":"Keep Source File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Minimum File Age":{"name":"Minimum File Age","displayName":"Minimum File Age","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Polling Interval":{"name":"Polling Interval","displayName":"Polling Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Input Directory":{"name":"Input Directory","displayName":"Input Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum File Age":{"name":"Maximum File Age","displayName":"Maximum File Age","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum File Size":{"name":"Maximum File Size","displayName":"Maximum File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Minimum File Size":{"name":"Minimum File Size","displayName":"Minimum File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore Hidden Files":{"name":"Ignore Hidden Files","displayName":"Ignore Hidden Files","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Recurse Subdirectories":{"name":"Recurse Subdirectories","displayName":"Recurse Subdirectories","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Filter":{"name":"File Filter","displayName":"File Filter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Filter":{"name":"Path Filter","displayName":"Path Filter","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"13798834-14cc-35fd-8606-332cbd2befaa"},{"identifier":"74bb67ef-2601-3dbd-91b1-478fae044a86","instanceIdentifier":"b4889519-f752-348a-915c-314bcef52268","name":"LogAttribute","comments":"","position":{"x":784.0,"y":352.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"13798834-14cc-35fd-8606-332cbd2befaa"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"1ee8e47a-bd47-3904-a1a9-8e2e158f4587","instanceIdentifier":"df2b5a50-ffd3-31bc-8b87-3ceaa3ff32b0","name":"","source":{"id":"9168e3c7-2a68-3848-94bb-41e6bed92860","type":"PROCESSOR","groupId":"13798834-14cc-35fd-8606-332cbd2befaa","name":"GetFile","comments":"","instanceIdentifier":"ed84895d-41ea-32da-b950-d79fed7cabf6"},"destination":{"id":"fd01addb-bb9c-33b1-a167-2d134c636de9","type":"PROCESSOR","groupId":"13798834-14cc-35fd-8606-332cbd2befaa","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"d4c38dfe-cfdd-3128-b769-e3dd23230458"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"13798834-14cc-35fd-8606-332cbd2befaa"},{"identifier":"7cdc69c9-6535-3433-9932-183a7f2f0cff","instanceIdentifier":"361ab297-10f9-34fd-8fa7-2f48c50d1f76","name":"","source":{"id":"fd01addb-bb9c-33b1-a167-2d134c636de9","type":"PROCESSOR","groupId":"13798834-14cc-35fd-8606-332cbd2befaa","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"d4c38dfe-cfdd-3128-b769-e3dd23230458"},"destination":{"id":"74bb67ef-2601-3dbd-91b1-478fae044a86","type":"PROCESSOR","groupId":"13798834-14cc-35fd-8606-332cbd2befaa","name":"LogAttribute","comments":"","instanceIdentifier":"b4889519-f752-348a-915c-314bcef52268"},"labelIndex":1,"zIndex":0,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"13798834-14cc-35fd-8606-332cbd2befaa"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"Embeddings","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","logFileSuffix":"","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{"Embeddings":{"name":"Embeddings","parameters":[{"name":"EMBEDDING_PROVIDER","description":"","sensitive":false,"provided":false,"value":"aws"},{"name":"EMBEDDING_MODEL","description":"","sensitive":false,"provided":false,"value":"amazon.titan-embed-text-v2:0"}],"inheritedParameterContexts":[],"componentType":"PARAMETER_CONTEXT"}},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}