{"flowContents":{"identifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc","instanceIdentifier":"b0b04c30-0197-1000-ffff-ffffde21f7c5","name":"Integeration_of_pipelines","comments":"","position":{"x":-2592.0,"y":-648.0},"processGroups":[{"identifier":"6f869720-789e-3f1f-0000-000057c3d508","instanceIdentifier":"ec73c339-3b39-301b-8a77-44f62975350f","name":"keyword_extractor","comments":"","position":{"x":-536.0,"y":-1216.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"2f62a893-4773-354d-0000-0000167bc57e","instanceIdentifier":"38e0cb49-c740-3280-a3ff-99e8e4e79594","name":"LogAttribute","comments":"","position":{"x":-632.0,"y":-448.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"14d9c162-578d-38a7-0000-000057c3d508","instanceIdentifier":"9fc25c0f-dc07-34d7-917b-8805b8cb6fad","name":"ExecuteGroovyScript","comments":"","position":{"x":-80.0,"y":-496.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport java.nio.charset.StandardCharsets\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef apiKey = \"\"\ndef apiVersion = \"2024-08-01-preview\"\ndef endpoint = \"https://us-tax-law-rag-demo.openai.azure.com/\"\ndef deployment = \"gpt-4o-mini\"\n\nif (!apiKey || !apiVersion || !endpoint || !deployment) {\n    flowFile = session.putAttribute(flowFile, \"extract_keywords.error\", \"Missing Azure OpenAI environment variables\")\n    session.transfer(flowFile, REL_FAILURE)\n    return\n}\n\ndef systemPrompt = \"\"\"You are an AI assistant that extracts the most relevant and specific keywords from job descriptions.\n\nFocus on extracting:\n1.  Required technical skills and technologies\n2.  Programming languages\n3.  Tools and frameworks\n4.  Key responsibilities that indicate required skills\n\nImportant rules:\n- If the job description is just a job title or is very short/generic (e.g., 'Software Engineer', 'Frontend Developer'), you MUST infer and expand with the most relevant and common skills, technologies, and responsibilities for that role. For example, for 'Frontend Developer', include keywords like 'HTML', 'CSS', 'JavaScript', 'React', etc. For 'Software Engineer', include programming languages, backend frameworks, databases, etc.\n- For longer, detailed job descriptions, extract ONLY keywords that are explicitly mentioned.\n- Return a JSON object with a single array field named 'keywords'.\n- Keep the list focused and specific.\n- Avoid generic terms unless explicitly required or inferred for short/generic job titles.\n\"\"\"\n\ntry {\n    flowFile = session.write(flowFile, { inputStream, outputStream ->\n        def jobDescription = inputStream.getText(StandardCharsets.UTF_8.name())\n\n        def userPrompt = \"\"\"Extract ONLY the explicitly mentioned technical keywords from this job description. \nReturn a JSON object with a 'keywords' array.\n\nJob Description:\n${jobDescription}\n\"\"\"\n\n        // Build HTTP request to Azure OpenAI\n        def url = \"${endpoint}/openai/deployments/${deployment}/chat/completions?api-version=${apiVersion}\"\n        def payload = [\n            \"messages\": [\n                [\"role\": \"system\", \"content\": systemPrompt],\n                [\"role\": \"user\", \"content\": userPrompt]\n            ],\n            \"temperature\": 0.1,\n            \"response_format\": [\"type\": \"json_object\"]\n        ]\n        def conn = new URL(url).openConnection()\n        conn.setRequestMethod(\"POST\")\n        conn.setDoOutput(true)\n        conn.setRequestProperty(\"Content-Type\", \"application/json\")\n        conn.setRequestProperty(\"api-key\", apiKey)\n        conn.getOutputStream().write(JsonOutput.toJson(payload).getBytes(StandardCharsets.UTF_8))\n\n        def responseText = conn.inputStream.getText(StandardCharsets.UTF_8.name())\n        def responseJson = new JsonSlurper().parseText(responseText)\n        def keywordsText = responseJson?.choices?.getAt(0)?.message?.content?.trim() ?: \"{}\"\n\n        def result\n        try {\n            def keywordsObj = new JsonSlurper().parseText(keywordsText)\n            def keywords = keywordsObj.keywords ?: []\n\n            // Get identifier and identifier_type from flow file attributes\n            def identifier = flowFile.getAttribute(\"identifier\") ?: \"\"\n            def identifierType = flowFile.getAttribute(\"identifier_type\") ?: \"\"\n\n            result = [\n                identifier: identifier,\n                identifier_type: identifierType,\n                keywords: keywords\n            ]\n        } catch (Exception e) {\n            result = [\n                identifier: flowFile.getAttribute(\"identifier\") ?: \"\",\n                identifier_type: flowFile.getAttribute(\"identifier_type\") ?: \"\",\n                error: e.toString(),\n                keywords: []\n            ]\n        }\n\n\n        outputStream.write(JsonOutput.toJson(result).getBytes(StandardCharsets.UTF_8))\n    } as StreamCallback)\n\n    session.transfer(flowFile, REL_SUCCESS)\n} catch (Exception e) {\n    flowFile = session.putAttribute(flowFile, \"extract_keywords.error\", e.toString())\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"azure_api_version":"#{AZURE_API_VERSION}","azure_api_key":"#{AZURE_API_KEY}","azure_endpoint":"#{AZURE_ENDPOINT}","azure_deployment":"#{AZURE_DEPLOYMENT}","groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"azure_api_version":{"name":"azure_api_version","displayName":"azure_api_version","identifiesControllerService":false,"sensitive":false,"dynamic":true},"azure_api_key":{"name":"azure_api_key","displayName":"azure_api_key","identifiesControllerService":false,"sensitive":false,"dynamic":true},"azure_endpoint":{"name":"azure_endpoint","displayName":"azure_endpoint","identifiesControllerService":false,"sensitive":false,"dynamic":true},"azure_deployment":{"name":"azure_deployment","displayName":"azure_deployment","identifiesControllerService":false,"sensitive":false,"dynamic":true},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"af95f280-2a65-3277-0000-000057c3d508","instanceIdentifier":"56064c73-c94f-3fbf-abf7-73207dfe3ae1","name":"EvaluateJsonPath","comments":"","position":{"x":-192.0,"y":-704.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","job_description":"$.job_description","Max String Length":"20 MB","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"job_description":{"name":"job_description","displayName":"job_description","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"}],"inputPorts":[{"identifier":"55894517-9553-399b-8786-67d1aaff3f15","instanceIdentifier":"e8fe73d4-0197-1000-0000-0000374a8fb8","name":"Input JD","position":{"x":-600.0,"y":-656.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"}],"outputPorts":[{"identifier":"cf3fe6cd-bd79-319f-0000-000057c3d508","instanceIdentifier":"251331af-8527-35ac-a290-88ddef15cbac","name":"Keywords Output","position":{"x":-32.0,"y":-248.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"}],"connections":[{"identifier":"47952fa3-a425-3a36-975b-c0df38397f90","instanceIdentifier":"e8fe8d62-0197-1000-ffff-ffff8ff25ce1","name":"","source":{"id":"55894517-9553-399b-8786-67d1aaff3f15","type":"INPUT_PORT","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"Input JD","instanceIdentifier":"e8fe73d4-0197-1000-0000-0000374a8fb8"},"destination":{"id":"af95f280-2a65-3277-0000-000057c3d508","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"56064c73-c94f-3fbf-abf7-73207dfe3ae1"},"labelIndex":0,"zIndex":21,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"24ce13b6-0491-30c7-0000-000057c3d508","instanceIdentifier":"c7de2894-db0a-35e2-bda5-fe51b8ebf3f9","name":"","source":{"id":"af95f280-2a65-3277-0000-000057c3d508","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"56064c73-c94f-3fbf-abf7-73207dfe3ae1"},"destination":{"id":"14d9c162-578d-38a7-0000-000057c3d508","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9fc25c0f-dc07-34d7-917b-8805b8cb6fad"},"labelIndex":0,"zIndex":20,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"af3a2449-396f-355e-0000-000057c3d508","instanceIdentifier":"bd086006-4ee9-3640-a55d-db2e3961e7f1","source":{"id":"14d9c162-578d-38a7-0000-000057c3d508","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9fc25c0f-dc07-34d7-917b-8805b8cb6fad"},"destination":{"id":"cf3fe6cd-bd79-319f-0000-000057c3d508","type":"OUTPUT_PORT","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"Keywords Output","instanceIdentifier":"251331af-8527-35ac-a290-88ddef15cbac"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"0ebc5409-ed2d-34fa-b71f-385c8418a648","instanceIdentifier":"17b1f619-0198-1000-ffff-ffffe9a9a1b6","name":"","source":{"id":"af95f280-2a65-3277-0000-000057c3d508","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"56064c73-c94f-3fbf-abf7-73207dfe3ae1"},"destination":{"id":"2f62a893-4773-354d-0000-0000167bc57e","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"LogAttribute","comments":"","instanceIdentifier":"38e0cb49-c740-3280-a3ff-99e8e4e79594"},"labelIndex":0,"zIndex":23,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"020f34d6-1238-3d2d-b6ab-d4d6fe939e3f","instanceIdentifier":"17b1e07e-0198-1000-0000-0000596b1385","name":"","source":{"id":"14d9c162-578d-38a7-0000-000057c3d508","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9fc25c0f-dc07-34d7-917b-8805b8cb6fad"},"destination":{"id":"2f62a893-4773-354d-0000-0000167bc57e","type":"PROCESSOR","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"LogAttribute","comments":"","instanceIdentifier":"38e0cb49-c740-3280-a3ff-99e8e4e79594"},"labelIndex":0,"zIndex":22,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"007a0c0b-fe83-36c4-0000-000057c3d508","instanceIdentifier":"2b0983bd-5a62-358e-b4bf-43ab0ee9dde4","name":"MongoDBControllerService","comments":"","type":"org.apache.nifi.mongodb.MongoDBControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-mongodb-services-nar","version":"2.4.0"},"properties":{"SSL Context Service":null,"Mongo URI":"mongodb+srv://utkarshsingh:Ns3McTjm3b0kiEsk@clusterforresumes.trfczld.mongodb.net/","Database User":null,"Write Concern":"ACKNOWLEDGED"},"propertyDescriptors":{"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Mongo URI":{"name":"Mongo URI","displayName":"Mongo URI","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Write Concern":{"name":"Write Concern","displayName":"Write Concern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.mongodb.MongoDBClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-mongodb-client-service-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"642adffc-0408-3a27-0000-000057c3d508","instanceIdentifier":"09fc0551-5b19-33f9-940f-41ae4becb7c7","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.4.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"schema-text-property","schema-version":null,"schema-text":"{\n  \"type\": \"record\",\n  \"name\": \"Resume\",\n  \"fields\": [\n    { \"name\": \"name\", \"type\": \"string\" },\n    { \"name\": \"email\", \"type\": \"string\" },\n    { \"name\": \"phone\", \"type\": \"string\" },\n    { \"name\": \"location\", \"type\": \"string\" },\n    { \"name\": \"summary\", \"type\": \"string\" },\n    {\n      \"name\": \"education\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"Education\",\n          \"fields\": [\n            { \"name\": \"degree\", \"type\": \"string\" },\n            { \"name\": \"institution\", \"type\": \"string\" },\n            { \"name\": \"year\", \"type\": [\"string\", \"int\"] }\n          ]\n        }\n      }\n    },\n    {\n      \"name\": \"experience\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"Experience\",\n          \"fields\": [\n            { \"name\": \"title\", \"type\": \"string\" },\n            { \"name\": \"company\", \"type\": \"string\" },\n            { \"name\": \"duration\", \"type\": \"string\" },\n            { \"name\": \"location\", \"type\": \"string\" },\n            { \"name\": \"description\", \"type\": \"string\" }\n          ]\n        }\n      }\n    },\n    {\n      \"name\": \"skills\",\n      \"type\": { \"type\": \"array\", \"items\": \"string\" }\n    },\n    {\n      \"name\": \"projects\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"Project\",\n          \"fields\": [\n            { \"name\": \"title\", \"type\": \"string\" },\n            { \"name\": \"description\", \"type\": \"string\" },\n            { \"name\": \"link\", \"type\": \"string\" }\n          ]\n        }\n      }\n    },\n    {\n      \"name\": \"certifications\",\n      \"type\": { \"type\": \"array\", \"items\": \"string\" }\n    },\n    {\n      \"name\": \"languages\",\n      \"type\": { \"type\": \"array\", \"items\": \"string\" }\n    },\n    {\n      \"name\": \"social_profiles\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"SocialProfile\",\n          \"fields\": [\n            { \"name\": \"platform\", \"type\": \"string\" },\n            { \"name\": \"link\", \"type\": \"string\" }\n          ]\n        }\n      }\n    }\n  ]\n}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"9876061e-5b00-3a6a-0000-000057c3d508","instanceIdentifier":"74aea799-073e-3783-9f8d-95e865c55832","name":"ElasticSearchClientServiceImpl","comments":"","type":"org.apache.nifi.elasticsearch.ElasticSearchClientServiceImpl","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-nar","version":"2.4.0"},"properties":{"el-cs-suppress-nulls":"always-suppress","el-cs-strict-deprecation":"false","el-cs-http-hosts":"https://10.99.20.130:9200","el-cs-path-prefix":null,"el-cs-run-as-user":null,"proxy-configuration-service":null,"el-cs-charset":"UTF-8","api-key-id":null,"el-cs-send-meta-header":"true","el-cs-username":"elastic","el-cs-enable-compression":"false","el-cs-sniff-cluster-nodes":"false","el-cs-sniffer-interval":"5 mins","el-cs-sniffer-failure-delay":"1 min","el-cs-node-selector":"ANY","authorization-scheme":"BASIC","el-cs-sniff-failure":"false","el-cs-sniffer-request-timeout":"1 sec","el-cs-connect-timeout":"5000","el-cs-socket-timeout":"60000","el-cs-ssl-context-service":"32bceed7-86a6-3c92-0000-000057c3d508","el-cs-oauth2-token-provider":null},"propertyDescriptors":{"el-cs-suppress-nulls":{"name":"el-cs-suppress-nulls","displayName":"Suppress Null/Empty Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-strict-deprecation":{"name":"el-cs-strict-deprecation","displayName":"Strict Deprecation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-http-hosts":{"name":"el-cs-http-hosts","displayName":"HTTP Hosts","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-run-as-user":{"name":"el-cs-run-as-user","displayName":"Run As User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-charset":{"name":"el-cs-charset","displayName":"Charset","identifiesControllerService":false,"sensitive":false,"dynamic":false},"jwt-shared-secret":{"name":"jwt-shared-secret","displayName":"JWT Shared Secret","identifiesControllerService":false,"sensitive":true,"dynamic":false},"el-cs-send-meta-header":{"name":"el-cs-send-meta-header","displayName":"Send Meta Header","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-username":{"name":"el-cs-username","displayName":"Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-enable-compression":{"name":"el-cs-enable-compression","displayName":"Enable Compression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniff-cluster-nodes":{"name":"el-cs-sniff-cluster-nodes","displayName":"Sniff Cluster Nodes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"api-key":{"name":"api-key","displayName":"API Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"el-cs-node-selector":{"name":"el-cs-node-selector","displayName":"Node Selector","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniff-failure":{"name":"el-cs-sniff-failure","displayName":"Sniff on Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-request-timeout":{"name":"el-cs-sniffer-request-timeout","displayName":"Sniffer Request Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-ssl-context-service":{"name":"el-cs-ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-oauth2-token-provider":{"name":"el-cs-oauth2-token-provider","displayName":"OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-path-prefix":{"name":"el-cs-path-prefix","displayName":"Path Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"api-key-id":{"name":"api-key-id","displayName":"API Key ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-interval":{"name":"el-cs-sniffer-interval","displayName":"Sniffer Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-failure-delay":{"name":"el-cs-sniffer-failure-delay","displayName":"Sniffer Failure Delay","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-password":{"name":"el-cs-password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"authorization-scheme":{"name":"authorization-scheme","displayName":"Authorization Scheme","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-connect-timeout":{"name":"el-cs-connect-timeout","displayName":"Connect timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-socket-timeout":{"name":"el-cs-socket-timeout","displayName":"Read timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.elasticsearch.ElasticSearchClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"},{"identifier":"32bceed7-86a6-3c92-0000-000057c3d508","instanceIdentifier":"6dc54073-3e56-3610-b0be-49f297664e3a","name":"StandardSSLContextService","comments":"","type":"org.apache.nifi.ssl.StandardSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"2.4.0"},"properties":{"Truststore Type":"JKS","SSL Protocol":"TLS","Keystore Type":null,"Truststore Filename":"/home/shtlp_0020/elasticsearch-9.0.0/config/certs/nifi-truststore.jks","Keystore Filename":null},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}},{"type":"org.apache.nifi.ssl.SSLContextProvider","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"6f869720-789e-3f1f-0000-000057c3d508"}],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","instanceIdentifier":"b7c0b150-96d2-313b-8983-8c805d207692","name":"keyword_extractor","comments":"","position":{"x":-792.0,"y":-656.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"e0958866-7f9e-356f-0000-00006dc5f855","instanceIdentifier":"dfd5a70c-fc88-3f97-af32-ced9fa75f9b5","name":"EvaluateJsonPath","comments":"","position":{"x":-192.0,"y":-704.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","identifier":"$.identifier","job_description":"$.job_description","Max String Length":"20 MB","Return Type":"json","identifier_type":"$.identifier_type","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"identifier":{"name":"identifier","displayName":"identifier","identifiesControllerService":false,"sensitive":false,"dynamic":true},"job_description":{"name":"job_description","displayName":"job_description","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"identifier_type":{"name":"identifier_type","displayName":"identifier_type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"5387b449-028e-3ff7-0000-00006dc5f855","instanceIdentifier":"17e01585-2138-3d7b-8a30-8fc83c4b2422","name":"ExecuteGroovyScript","comments":"","position":{"x":-152.0,"y":-488.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"azure_endpoint ":"#{AZURE_ENDPOINT}","azure_api_key ":"#{AZURE_API_KEY}","groovyx-script-body":"import org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport java.nio.charset.StandardCharsets\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef apiKey = \"\"\ndef apiVersion = \"2024-08-01-preview\"\ndef endpoint = \"https://us-tax-law-rag-demo.openai.azure.com/\"\ndef deployment = \"gpt-4o-mini\"\n\nif (!apiKey || !apiVersion || !endpoint || !deployment) {\n    flowFile = session.putAttribute(flowFile, \"extract_keywords.error\", \"Missing Azure OpenAI environment variables\")\n    session.transfer(flowFile, REL_FAILURE)\n    return\n}\n\ndef systemPrompt = \"\"\"You are an AI assistant that extracts the most relevant and specific keywords from job descriptions.\n\nFocus on extracting:\n1.  Required technical skills and technologies\n2.  Programming languages\n3.  Tools and frameworks\n4.  Key responsibilities that indicate required skills\n\nImportant rules:\n- If the job description is just a job title or is very short/generic (e.g., 'Software Engineer', 'Frontend Developer'), you MUST infer and expand with the most relevant and common skills, technologies, and responsibilities for that role. For example, for 'Frontend Developer', include keywords like 'HTML', 'CSS', 'JavaScript', 'React', etc. For 'Software Engineer', include programming languages, backend frameworks, databases, etc.\n- For longer, detailed job descriptions, extract ONLY keywords that are explicitly mentioned.\n- Return a JSON object with a single array field named 'keywords'.\n- Keep the list focused and specific.\n- Avoid generic terms unless explicitly required or inferred for short/generic job titles.\n\"\"\"\n\ntry {\n    flowFile = session.write(flowFile, { inputStream, outputStream ->\n        def jobDescription = inputStream.getText(StandardCharsets.UTF_8.name())\n\n        def userPrompt = \"\"\"Extract ONLY the explicitly mentioned technical keywords from this job description. \nReturn a JSON object with a 'keywords' array.\n\nJob Description:\n${jobDescription}\n\"\"\"\n\n        // Build HTTP request to Azure OpenAI\n        def url = \"${endpoint}/openai/deployments/${deployment}/chat/completions?api-version=${apiVersion}\"\n        def payload = [\n            \"messages\": [\n                [\"role\": \"system\", \"content\": systemPrompt],\n                [\"role\": \"user\", \"content\": userPrompt]\n            ],\n            \"temperature\": 0.1,\n            \"response_format\": [\"type\": \"json_object\"]\n        ]\n        def conn = new URL(url).openConnection()\n        conn.setRequestMethod(\"POST\")\n        conn.setDoOutput(true)\n        conn.setRequestProperty(\"Content-Type\", \"application/json\")\n        conn.setRequestProperty(\"api-key\", apiKey)\n        conn.getOutputStream().write(JsonOutput.toJson(payload).getBytes(StandardCharsets.UTF_8))\n\n        def responseText = conn.inputStream.getText(StandardCharsets.UTF_8.name())\n        def responseJson = new JsonSlurper().parseText(responseText)\n        def keywordsText = responseJson?.choices?.getAt(0)?.message?.content?.trim() ?: \"{}\"\n\n        def result\n        try {\n            def keywordsObj = new JsonSlurper().parseText(keywordsText)\n            def keywords = keywordsObj.keywords ?: []\n\n            // Get identifier and identifier_type from flow file attributes\n            def identifier = flowFile.getAttribute(\"identifier\") ?: \"\"\n            def identifierType = flowFile.getAttribute(\"identifier_type\") ?: \"\"\n\n            result = [\n                identifier: identifier,\n                identifier_type: identifierType,\n                keywords: keywords\n            ]\n        } catch (Exception e) {\n            result = [\n                identifier: flowFile.getAttribute(\"identifier\") ?: \"\",\n                identifier_type: flowFile.getAttribute(\"identifier_type\") ?: \"\",\n                error: e.toString(),\n                keywords: []\n            ]\n        }\n\n\n        outputStream.write(JsonOutput.toJson(result).getBytes(StandardCharsets.UTF_8))\n    } as StreamCallback)\n\n    session.transfer(flowFile, REL_SUCCESS)\n} catch (Exception e) {\n    flowFile = session.putAttribute(flowFile, \"extract_keywords.error\", e.toString())\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"azure_api_version":"#{AZURE_API_VERSION}","azure_deployment ":"#{AZURE_DEPLOYMENT}","groovyx-script-file":null},"propertyDescriptors":{"azure_endpoint ":{"name":"azure_endpoint ","displayName":"azure_endpoint ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"azure_api_key ":{"name":"azure_api_key ","displayName":"azure_api_key ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"azure_api_version":{"name":"azure_api_version","displayName":"azure_api_version","identifiesControllerService":false,"sensitive":false,"dynamic":true},"azure_deployment ":{"name":"azure_deployment ","displayName":"azure_deployment ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"b75ecfbe-f2b2-3204-0000-00003bfc55ea","instanceIdentifier":"0ed0ca86-8280-3d2a-b07f-be70dfa0809a","name":"LogAttribute","comments":"","position":{"x":-648.0,"y":-480.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"}],"inputPorts":[{"identifier":"6ff56010-461b-3c19-9d8d-16716f61f331","instanceIdentifier":"e881ce63-0197-1000-0000-00004c1ce73e","name":"Input Candidate details + JD","position":{"x":-648.0,"y":-640.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"}],"outputPorts":[{"identifier":"da92ac1b-2c72-320f-0000-00006dc5f855","instanceIdentifier":"caf0e7cf-01bd-3b78-904a-54b50eec8b53","name":"Keywords Output","position":{"x":-32.0,"y":-248.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"}],"connections":[{"identifier":"5b4c17c4-9e2e-3858-0000-00006dc5f855","instanceIdentifier":"0989de0a-24ed-31f4-8799-2d043f423962","source":{"id":"5387b449-028e-3ff7-0000-00006dc5f855","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"17e01585-2138-3d7b-8a30-8fc83c4b2422"},"destination":{"id":"da92ac1b-2c72-320f-0000-00006dc5f855","type":"OUTPUT_PORT","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"Keywords Output","instanceIdentifier":"caf0e7cf-01bd-3b78-904a-54b50eec8b53"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"3abccb73-2a27-3de5-b180-ef102a16a20d","instanceIdentifier":"17b19121-0198-1000-ffff-ffffb797cea8","name":"","source":{"id":"e0958866-7f9e-356f-0000-00006dc5f855","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dfd5a70c-fc88-3f97-af32-ced9fa75f9b5"},"destination":{"id":"b75ecfbe-f2b2-3204-0000-00003bfc55ea","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"LogAttribute","comments":"","instanceIdentifier":"0ed0ca86-8280-3d2a-b07f-be70dfa0809a"},"labelIndex":0,"zIndex":22,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"322714cc-e422-30d8-aaad-c9cab9ac9a52","instanceIdentifier":"e881ff58-0197-1000-ffff-ffffa5ee00af","name":"","source":{"id":"6ff56010-461b-3c19-9d8d-16716f61f331","type":"INPUT_PORT","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"Input Candidate details + JD","instanceIdentifier":"e881ce63-0197-1000-0000-00004c1ce73e"},"destination":{"id":"e0958866-7f9e-356f-0000-00006dc5f855","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dfd5a70c-fc88-3f97-af32-ced9fa75f9b5"},"labelIndex":0,"zIndex":21,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"b6c3dc0d-cb7f-3444-a282-94c96e189cf2","instanceIdentifier":"17b1a194-0198-1000-ffff-ffffdc484a4a","name":"","source":{"id":"5387b449-028e-3ff7-0000-00006dc5f855","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"17e01585-2138-3d7b-8a30-8fc83c4b2422"},"destination":{"id":"b75ecfbe-f2b2-3204-0000-00003bfc55ea","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"LogAttribute","comments":"","instanceIdentifier":"0ed0ca86-8280-3d2a-b07f-be70dfa0809a"},"labelIndex":0,"zIndex":23,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"d737b643-ed88-381e-0000-00006dc5f855","instanceIdentifier":"4d0b68ae-5771-392e-90f0-6d4ffe921462","name":"","source":{"id":"e0958866-7f9e-356f-0000-00006dc5f855","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dfd5a70c-fc88-3f97-af32-ced9fa75f9b5"},"destination":{"id":"5387b449-028e-3ff7-0000-00006dc5f855","type":"PROCESSOR","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"17e01585-2138-3d7b-8a30-8fc83c4b2422"},"labelIndex":0,"zIndex":20,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"df16c142-6bc3-3d15-0000-00006dc5f855","instanceIdentifier":"135eb378-270d-3566-8441-354cc81a737c","name":"MongoDBControllerService","comments":"","type":"org.apache.nifi.mongodb.MongoDBControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-mongodb-services-nar","version":"2.4.0"},"properties":{"SSL Context Service":null,"Mongo URI":"mongodb+srv://utkarshsingh:Ns3McTjm3b0kiEsk@clusterforresumes.trfczld.mongodb.net/","Database User":null,"Write Concern":"ACKNOWLEDGED"},"propertyDescriptors":{"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Mongo URI":{"name":"Mongo URI","displayName":"Mongo URI","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Write Concern":{"name":"Write Concern","displayName":"Write Concern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.mongodb.MongoDBClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-mongodb-client-service-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"8c572e65-0edf-3a34-0000-00006dc5f855","instanceIdentifier":"d3a96fd9-6a17-38b0-9fed-2604ef64097c","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.4.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"schema-text-property","schema-version":null,"schema-text":"{\n  \"type\": \"record\",\n  \"name\": \"Resume\",\n  \"fields\": [\n    { \"name\": \"name\", \"type\": \"string\" },\n    { \"name\": \"email\", \"type\": \"string\" },\n    { \"name\": \"phone\", \"type\": \"string\" },\n    { \"name\": \"location\", \"type\": \"string\" },\n    { \"name\": \"summary\", \"type\": \"string\" },\n    {\n      \"name\": \"education\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"Education\",\n          \"fields\": [\n            { \"name\": \"degree\", \"type\": \"string\" },\n            { \"name\": \"institution\", \"type\": \"string\" },\n            { \"name\": \"year\", \"type\": [\"string\", \"int\"] }\n          ]\n        }\n      }\n    },\n    {\n      \"name\": \"experience\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"Experience\",\n          \"fields\": [\n            { \"name\": \"title\", \"type\": \"string\" },\n            { \"name\": \"company\", \"type\": \"string\" },\n            { \"name\": \"duration\", \"type\": \"string\" },\n            { \"name\": \"location\", \"type\": \"string\" },\n            { \"name\": \"description\", \"type\": \"string\" }\n          ]\n        }\n      }\n    },\n    {\n      \"name\": \"skills\",\n      \"type\": { \"type\": \"array\", \"items\": \"string\" }\n    },\n    {\n      \"name\": \"projects\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"Project\",\n          \"fields\": [\n            { \"name\": \"title\", \"type\": \"string\" },\n            { \"name\": \"description\", \"type\": \"string\" },\n            { \"name\": \"link\", \"type\": \"string\" }\n          ]\n        }\n      }\n    },\n    {\n      \"name\": \"certifications\",\n      \"type\": { \"type\": \"array\", \"items\": \"string\" }\n    },\n    {\n      \"name\": \"languages\",\n      \"type\": { \"type\": \"array\", \"items\": \"string\" }\n    },\n    {\n      \"name\": \"social_profiles\",\n      \"type\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"record\",\n          \"name\": \"SocialProfile\",\n          \"fields\": [\n            { \"name\": \"platform\", \"type\": \"string\" },\n            { \"name\": \"link\", \"type\": \"string\" }\n          ]\n        }\n      }\n    }\n  ]\n}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"faad560a-862f-379e-0000-00006dc5f855","instanceIdentifier":"7007a919-4d15-37dc-829a-2b498a9c4e60","name":"StandardSSLContextService","comments":"","type":"org.apache.nifi.ssl.StandardSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"2.4.0"},"properties":{"Truststore Type":"JKS","SSL Protocol":"TLS","Keystore Type":null,"Truststore Filename":"/home/shtlp_0020/elasticsearch-9.0.0/config/certs/nifi-truststore.jks","Keystore Filename":null},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}},{"type":"org.apache.nifi.ssl.SSLContextProvider","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"},{"identifier":"7cf1be97-7c67-373e-0000-00006dc5f855","instanceIdentifier":"4ed2989f-8750-3f91-b517-32ac6d4bc383","name":"ElasticSearchClientServiceImpl","comments":"","type":"org.apache.nifi.elasticsearch.ElasticSearchClientServiceImpl","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-nar","version":"2.4.0"},"properties":{"el-cs-suppress-nulls":"always-suppress","el-cs-strict-deprecation":"false","el-cs-http-hosts":"https://10.99.20.130:9200","el-cs-path-prefix":null,"el-cs-run-as-user":null,"proxy-configuration-service":null,"el-cs-charset":"UTF-8","api-key-id":null,"el-cs-send-meta-header":"true","el-cs-username":"elastic","el-cs-enable-compression":"false","el-cs-sniff-cluster-nodes":"false","el-cs-sniffer-interval":"5 mins","el-cs-sniffer-failure-delay":"1 min","el-cs-node-selector":"ANY","authorization-scheme":"BASIC","el-cs-sniff-failure":"false","el-cs-sniffer-request-timeout":"1 sec","el-cs-connect-timeout":"5000","el-cs-socket-timeout":"60000","el-cs-ssl-context-service":"faad560a-862f-379e-0000-00006dc5f855","el-cs-oauth2-token-provider":null},"propertyDescriptors":{"el-cs-suppress-nulls":{"name":"el-cs-suppress-nulls","displayName":"Suppress Null/Empty Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-strict-deprecation":{"name":"el-cs-strict-deprecation","displayName":"Strict Deprecation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-http-hosts":{"name":"el-cs-http-hosts","displayName":"HTTP Hosts","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-run-as-user":{"name":"el-cs-run-as-user","displayName":"Run As User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-charset":{"name":"el-cs-charset","displayName":"Charset","identifiesControllerService":false,"sensitive":false,"dynamic":false},"jwt-shared-secret":{"name":"jwt-shared-secret","displayName":"JWT Shared Secret","identifiesControllerService":false,"sensitive":true,"dynamic":false},"el-cs-send-meta-header":{"name":"el-cs-send-meta-header","displayName":"Send Meta Header","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-username":{"name":"el-cs-username","displayName":"Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-enable-compression":{"name":"el-cs-enable-compression","displayName":"Enable Compression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniff-cluster-nodes":{"name":"el-cs-sniff-cluster-nodes","displayName":"Sniff Cluster Nodes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"api-key":{"name":"api-key","displayName":"API Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"el-cs-node-selector":{"name":"el-cs-node-selector","displayName":"Node Selector","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniff-failure":{"name":"el-cs-sniff-failure","displayName":"Sniff on Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-request-timeout":{"name":"el-cs-sniffer-request-timeout","displayName":"Sniffer Request Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-ssl-context-service":{"name":"el-cs-ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-oauth2-token-provider":{"name":"el-cs-oauth2-token-provider","displayName":"OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-path-prefix":{"name":"el-cs-path-prefix","displayName":"Path Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"api-key-id":{"name":"api-key-id","displayName":"API Key ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-interval":{"name":"el-cs-sniffer-interval","displayName":"Sniffer Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-failure-delay":{"name":"el-cs-sniffer-failure-delay","displayName":"Sniffer Failure Delay","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-password":{"name":"el-cs-password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"authorization-scheme":{"name":"authorization-scheme","displayName":"Authorization Scheme","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-connect-timeout":{"name":"el-cs-connect-timeout","displayName":"Connect timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-socket-timeout":{"name":"el-cs-socket-timeout","displayName":"Read timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.elasticsearch.ElasticSearchClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"210e8b7e-0cb7-3dbd-0000-00006dc5f855"}],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9124e834-de98-34a8-0000-000060c81617","instanceIdentifier":"1a92d681-5850-3911-abd2-671cd85c691f","name":"fetch_candidate_retailor_withjd","comments":"","position":{"x":-1264.0,"y":-624.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"275533b0-dd76-31c5-0000-000070f5bd26","instanceIdentifier":"8702a141-dc6f-3eb5-a2fb-5e9babe8a3ef","name":"HandleHttpResponse","comments":"","position":{"x":352.0,"y":736.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"2b6c7ade-904b-3507-0000-000060c81617","instanceIdentifier":"f2a4bdc5-b697-30f7-ac63-b592c1a80094","name":"Retailor Resume","comments":"","position":{"x":408.0,"y":192.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AZURE_API_VERSION ":"#{AZURE_API_VERSION}","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","AZURE_API_KEY ":"#{AZURE_API_KEY}","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/retailor_resume_jd.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"AZURE_DEPLOYMENT":"#{AZURE_DEPLOYMENT}","AZURE_ENDPOINT":"#{AZURE_ENDPOINT}"},"propertyDescriptors":{"AZURE_API_VERSION ":{"name":"AZURE_API_VERSION ","displayName":"AZURE_API_VERSION ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_KEY ":{"name":"AZURE_API_KEY ","displayName":"AZURE_API_KEY ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_DEPLOYMENT":{"name":"AZURE_DEPLOYMENT","displayName":"AZURE_DEPLOYMENT","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_ENDPOINT":{"name":"AZURE_ENDPOINT","displayName":"AZURE_ENDPOINT","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"992fdf5f-8176-3ca1-0000-00007576f3c7","instanceIdentifier":"50888225-5093-3c91-b8b1-d7a0d7e0dd92","name":"DocxConversion","comments":"","position":{"x":696.0,"y":384.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/docx_utils.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"611cdc26-93a0-3103-0000-00004ab963bf","instanceIdentifier":"0b148ec0-c519-30f8-85f9-7151b3472d0e","name":"UpdateAttribute","comments":"","position":{"x":920.0,"y":616.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","content-type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"content-type":{"name":"content-type","displayName":"content-type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"b3c6941c-9d27-3307-0000-000060c81617","instanceIdentifier":"505b178d-f207-30c4-bdce-5a1bce1f4e9d","name":"Fetch Resume from Elastic","comments":"","position":{"x":-152.0,"y":200.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AZURE_API_VERSION ":"#{AZURE_API_VERSION}","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","AZURE_API_KEY ":"#{AZURE_API_KEY}","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/fetch_resume_map.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"AZURE_DEPLOYMENT":"#{AZURE_DEPLOYMENT}","AZURE_ENDPOINT":"#{AZURE_ENDPOINT}"},"propertyDescriptors":{"AZURE_API_VERSION ":{"name":"AZURE_API_VERSION ","displayName":"AZURE_API_VERSION ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_KEY ":{"name":"AZURE_API_KEY ","displayName":"AZURE_API_KEY ","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_DEPLOYMENT":{"name":"AZURE_DEPLOYMENT","displayName":"AZURE_DEPLOYMENT","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_ENDPOINT":{"name":"AZURE_ENDPOINT","displayName":"AZURE_ENDPOINT","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"58662e32-9e95-3c5a-0000-00007ba79b46","instanceIdentifier":"2bf0862c-8df3-3ec5-b78d-88ad430e8a90","name":"LogAttribute","comments":"","position":{"x":224.0,"y":480.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"}],"inputPorts":[{"identifier":"b0c280ad-d484-382e-0000-000060c81617","instanceIdentifier":"01a64bd7-4ec8-343e-a03d-f0f647cfa41d","name":"Keywords Input","position":{"x":-168.0,"y":520.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"}],"outputPorts":[],"connections":[{"identifier":"b0be03cf-9014-357a-8fdc-b912c58d1cc8","instanceIdentifier":"037e58e7-0198-1000-0000-0000197fd313","name":"","source":{"id":"2b6c7ade-904b-3507-0000-000060c81617","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Retailor Resume","comments":"","instanceIdentifier":"f2a4bdc5-b697-30f7-ac63-b592c1a80094"},"destination":{"id":"992fdf5f-8176-3ca1-0000-00007576f3c7","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"DocxConversion","comments":"","instanceIdentifier":"50888225-5093-3c91-b8b1-d7a0d7e0dd92"},"labelIndex":0,"zIndex":3,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"3d31e310-c453-368d-aa17-ff1f7b8c8dc8","instanceIdentifier":"17b044eb-0198-1000-0000-00006ecf3427","name":"","source":{"id":"b3c6941c-9d27-3307-0000-000060c81617","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"505b178d-f207-30c4-bdce-5a1bce1f4e9d"},"destination":{"id":"58662e32-9e95-3c5a-0000-00007ba79b46","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"LogAttribute","comments":"","instanceIdentifier":"2bf0862c-8df3-3ec5-b78d-88ad430e8a90"},"labelIndex":0,"zIndex":6,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"d5fa8f50-cc27-3fbb-ad7e-214e181716aa","instanceIdentifier":"17b05720-0198-1000-ffff-ffff8c243e5f","name":"","source":{"id":"2b6c7ade-904b-3507-0000-000060c81617","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Retailor Resume","comments":"","instanceIdentifier":"f2a4bdc5-b697-30f7-ac63-b592c1a80094"},"destination":{"id":"58662e32-9e95-3c5a-0000-00007ba79b46","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"LogAttribute","comments":"","instanceIdentifier":"2bf0862c-8df3-3ec5-b78d-88ad430e8a90"},"labelIndex":0,"zIndex":7,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"2b4f5c34-ca91-3f32-be05-d6bade23d729","instanceIdentifier":"038060d9-0198-1000-0000-00006e93b8e6","name":"","source":{"id":"611cdc26-93a0-3103-0000-00004ab963bf","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"UpdateAttribute","comments":"","instanceIdentifier":"0b148ec0-c519-30f8-85f9-7151b3472d0e"},"destination":{"id":"275533b0-dd76-31c5-0000-000070f5bd26","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"HandleHttpResponse","comments":"","instanceIdentifier":"8702a141-dc6f-3eb5-a2fb-5e9babe8a3ef"},"labelIndex":0,"zIndex":5,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"183308ac-19f4-3ad7-0000-000060c81617","instanceIdentifier":"863d3a11-ef45-3f3b-a379-45488fc12de6","name":"","source":{"id":"b0c280ad-d484-382e-0000-000060c81617","type":"INPUT_PORT","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Keywords Input","instanceIdentifier":"01a64bd7-4ec8-343e-a03d-f0f647cfa41d"},"destination":{"id":"b3c6941c-9d27-3307-0000-000060c81617","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"505b178d-f207-30c4-bdce-5a1bce1f4e9d"},"labelIndex":0,"zIndex":1,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"7e4cdaa4-5733-31f2-8522-0e767bc4ad11","instanceIdentifier":"037f9a3f-0198-1000-0000-000064b86f24","name":"","source":{"id":"992fdf5f-8176-3ca1-0000-00007576f3c7","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"DocxConversion","comments":"","instanceIdentifier":"50888225-5093-3c91-b8b1-d7a0d7e0dd92"},"destination":{"id":"611cdc26-93a0-3103-0000-00004ab963bf","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"UpdateAttribute","comments":"","instanceIdentifier":"0b148ec0-c519-30f8-85f9-7151b3472d0e"},"labelIndex":0,"zIndex":4,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"8f2c015a-8323-3366-b147-e519ef323fb5","instanceIdentifier":"17b0897c-0198-1000-0000-000065afba91","name":"","source":{"id":"275533b0-dd76-31c5-0000-000070f5bd26","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"HandleHttpResponse","comments":"","instanceIdentifier":"8702a141-dc6f-3eb5-a2fb-5e9babe8a3ef"},"destination":{"id":"58662e32-9e95-3c5a-0000-00007ba79b46","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"LogAttribute","comments":"","instanceIdentifier":"2bf0862c-8df3-3ec5-b78d-88ad430e8a90"},"labelIndex":0,"zIndex":10,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"9b900627-ac27-378a-90de-0d0d9328be44","instanceIdentifier":"17b0695a-0198-1000-0000-00004d11d284","name":"","source":{"id":"992fdf5f-8176-3ca1-0000-00007576f3c7","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"DocxConversion","comments":"","instanceIdentifier":"50888225-5093-3c91-b8b1-d7a0d7e0dd92"},"destination":{"id":"58662e32-9e95-3c5a-0000-00007ba79b46","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"LogAttribute","comments":"","instanceIdentifier":"2bf0862c-8df3-3ec5-b78d-88ad430e8a90"},"labelIndex":0,"zIndex":8,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"951b0782-f337-3d05-bec4-a022ecd3e9d1","instanceIdentifier":"17b078b0-0198-1000-ffff-ffffd4f01b68","name":"","source":{"id":"611cdc26-93a0-3103-0000-00004ab963bf","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"UpdateAttribute","comments":"","instanceIdentifier":"0b148ec0-c519-30f8-85f9-7151b3472d0e"},"destination":{"id":"58662e32-9e95-3c5a-0000-00007ba79b46","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"LogAttribute","comments":"","instanceIdentifier":"2bf0862c-8df3-3ec5-b78d-88ad430e8a90"},"labelIndex":0,"zIndex":9,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"},{"identifier":"bb177922-70f7-3c2e-0000-000060c81617","instanceIdentifier":"150bbe90-a7a2-3d91-8593-a5e22c637ece","source":{"id":"b3c6941c-9d27-3307-0000-000060c81617","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"505b178d-f207-30c4-bdce-5a1bce1f4e9d"},"destination":{"id":"2b6c7ade-904b-3507-0000-000060c81617","type":"PROCESSOR","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Retailor Resume","comments":"","instanceIdentifier":"f2a4bdc5-b697-30f7-ac63-b592c1a80094"},"labelIndex":1,"zIndex":0,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9124e834-de98-34a8-0000-000060c81617"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"56ba5156-9834-3426-a190-f5d7728d33fb","instanceIdentifier":"1b98aa9a-0198-1000-ffff-ffffd572ab46","name":"/bullk","comments":"","position":{"x":1312.0,"y":-1160.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c52c0883-f592-3818-ffff-fffff0038320","instanceIdentifier":"cf3d0fbe-0a78-3da6-b3d9-b621b9c38f83","name":"Extract Access Token","comments":"","position":{"x":-336.0,"y":-296.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"access_token":"$.access_token","Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"access_token":{"name":"access_token","displayName":"access_token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"0c4774b6-c983-3d36-9ca6-ba6998cf4449","instanceIdentifier":"2ceb624a-0198-1000-0000-00006509dabc","name":"ExecuteScript","comments":"","position":{"x":1668.0,"y":-659.5},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\nflowFile = session.get()\nif (!flowFile) return\n\ndef resumeCount = flowFile.getAttribute(\"total_count\") ?: \"0\"\n\n// Write count as content\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n    outputStream.write(resumeCount.getBytes(StandardCharsets.UTF_8))\n} as StreamCallback)\n\n// Set filename to counter.txt\nflowFile = session.putAttribute(flowFile, \"filename\", \"counter.txt\")\n\nsession.transfer(flowFile, REL_SUCCESS)\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"16615530-ab8a-3fc2-a931-87a7c7f3c1ec","instanceIdentifier":"2cee32a1-0198-1000-ffff-ffffb74bd967","name":"PutFile","comments":"","position":{"x":1840.0,"y":-840.0},"type":"org.apache.nifi.processors.standard.PutFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"7eb32479-3cdf-34cc-ffff-fffff0038320","instanceIdentifier":"33451d58-ff9a-3872-b4e7-b7970db1ad43","name":"UpdateAttribute","comments":"","position":{"x":2528.0,"y":-320.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","employee_id":"${filename:replaceAll('\\\\..*','')}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"employee_id":{"name":"employee_id","displayName":"employee_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"7415ae7f-bbf2-3028-ffff-fffff0038320","instanceIdentifier":"0be6222f-93db-330f-99a7-e19de908837e","name":"Download File","comments":"","position":{"x":2144.0,"y":-88.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Authorization":"Bearer ${access_token}","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"${download_url}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"0f8fdba5-9263-3cf7-ffff-fffff0038320","instanceIdentifier":"8876ac8a-e50f-3fb4-8187-305b370b72ee","name":"EvaluateJsonPath","comments":"","position":{"x":1616.0,"y":-200.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","filename":"$.name","Max String Length":"20 MB","Return Type":"auto-detect","download_url":"$['@microsoft.graph.downloadUrl']","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"download_url":{"name":"download_url","displayName":"download_url","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"4a5fe8a9-7ec1-3893-ffff-fffff0038320","instanceIdentifier":"9989c866-abd5-352e-b96a-c3af6536528b","name":"LogAttribute","comments":"","position":{"x":736.0,"y":-120.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"e4e4c6b1-2fed-3dbd-ffff-fffff0038320","instanceIdentifier":"0ee0aaa6-56c5-38c4-ab66-238cb46455d3","name":"Download Excel File","comments":"","position":{"x":512.0,"y":-336.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Authorization":"Bearer ${access_token}","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"https://graph.microsoft.com/v1.0/drives/${driveId}/items/${itemId}/children","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"396d9505-f673-3b98-bc7d-0e90893f2380","instanceIdentifier":"2ce1e783-0198-1000-0000-00000ad521ab","name":"UpdateAttribute","comments":"","position":{"x":1568.0,"y":-456.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","total_count":"${fragment.count}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"total_count":{"name":"total_count","displayName":"total_count","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"cfe7c162-28cc-3e5b-ffff-fffff0038320","instanceIdentifier":"30802894-6eab-30d6-953e-07db2f0a3b07","name":"ExecuteScript","comments":"","position":{"x":-928.0000014087377,"y":-292.92794899708366},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\nimport java.net.HttpURLConnection\nimport java.net.URL\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef tenantId = \"85a77b6c-a790-4bcf-8fd6-c1f891dd360b\"\ndef clientId = \"4c6f837a-7f09-4927-aafa-185a02770cce\"\ndef clientSecret = \"Gnq8Q~FscQ66354xPeOwAph3j.ZKL-vhhBmWNa9D\"\ndef scope = \"https://graph.microsoft.com/.default\"\ndef url = \"https://login.microsoftonline.com/${tenantId}/oauth2/v2.0/token\"\n\ndef params = [\n    \"client_id\"     : clientId,\n    \"client_secret\" : clientSecret,\n    \"scope\"         : scope,\n    \"grant_type\"    : \"client_credentials\"\n].collect { k, v -> \"${URLEncoder.encode(k, \"UTF-8\")}=${URLEncoder.encode(v, \"UTF-8\")}\" }\n .join(\"&\")\n\ndef conn = (HttpURLConnection) new URL(url).openConnection()\nconn.setRequestMethod(\"POST\")\nconn.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\")\nconn.setDoOutput(true)\nconn.getOutputStream().write(params.getBytes(\"UTF-8\"))\n\ndef responseCode = conn.getResponseCode()\ndef responseStream = (responseCode == 200) ? conn.getInputStream() : conn.getErrorStream()\ndef responseBody = IOUtils.toString(responseStream, StandardCharsets.UTF_8)\n\nflowFile = session.write(flowFile, { outputStream ->\n    outputStream.write(responseBody.getBytes(StandardCharsets.UTF_8))\n} as OutputStreamCallback)\n\nflowFile = session.putAttribute(flowFile, \"http.status\", responseCode.toString())\nsession.transfer(flowFile, REL_SUCCESS)\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"577a77b4-debf-3e75-ffff-fffff0038320","instanceIdentifier":"2331213b-dced-3980-811c-948168f3b849","name":"EvaluateJsonPath","comments":"","position":{"x":-1448.0000014087377,"y":-236.92794899708366},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","folder_link":"$.folder_link","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"folder_link":{"name":"folder_link","displayName":"folder_link","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"ce4703fc-8791-3135-ffff-fffff0038320","instanceIdentifier":"86abd190-963d-3d68-bd3c-06b859f5f658","name":"SplitJson","comments":"","position":{"x":1120.0,"y":-400.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.value"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"de205fcf-e218-3dae-ffff-fffff0038320","instanceIdentifier":"53f6a0cb-6882-399d-b78f-dad6d817a00a","name":"ExecuteScript","comments":"","position":{"x":15.999998591262283,"y":-412.92794899708366},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.io.StreamCallback\nimport org.apache.nifi.processor.exception.ProcessException\n\nimport groovy.json.JsonSlurper\nimport org.apache.commons.codec.binary.Base64\nimport java.net.URLDecoder\nimport java.nio.charset.StandardCharsets\n\n// Step 1: Get flowfile\nFlowFile flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    // Step 2: Get input attributes\n    String accessToken = flowFile.getAttribute(\"access_token\")\n    String folderLink = flowFile.getAttribute(\"folder_link\")\n\n    if (!accessToken || !folderLink) {\n        flowFile = session.putAttribute(flowFile, \"error\", \"Missing access_token or folder_link\")\n        session.transfer(flowFile, REL_FAILURE)\n        return\n    }\n\n    // Step 3: Encode the SharePoint URL (Base64 URL-safe for Graph API)\n    String base64Encoded = Base64.encodeBase64String(folderLink.getBytes(StandardCharsets.UTF_8))\n    String encodedUrl = base64Encoded\n        .replace(\"/\", \"_\")\n        .replace(\"+\", \"-\")\n        .replaceAll(\"=+\\$\", \"\")  // Trim trailing equals signs\n\n    // Step 4: Resolve the folder driveItem via Graph API\n    String apiUrl = \"https://graph.microsoft.com/v1.0/shares/u!${encodedUrl}/driveItem\"\n    def connection = new URL(apiUrl).openConnection()\n    connection.setRequestMethod(\"GET\")\n    connection.setRequestProperty(\"Authorization\", \"Bearer \" + accessToken)\n    connection.setRequestProperty(\"Accept\", \"application/json\")\n\n    int responseCode = connection.getResponseCode()\n    if (responseCode != 200) {\n        flowFile = session.putAttribute(flowFile, \"error\", \"Graph API call failed with status ${responseCode}\")\n        session.transfer(flowFile, REL_FAILURE)\n        return\n    }\n\n    // Step 5: Parse the JSON response\n    def json = new JsonSlurper().parse(connection.getInputStream())\n\n    def driveId = json?.parentReference?.driveId\n    def itemId = json?.id\n    def folderName = json?.name\n\n    if (!driveId || !itemId) {\n        flowFile = session.putAttribute(flowFile, \"error\", \"Missing driveId or itemId in API response\")\n        session.transfer(flowFile, REL_FAILURE)\n        return\n    }\n\n    // Step 6: Set attributes for downstream use\n    flowFile = session.putAttribute(flowFile, \"driveId\", driveId)\n    flowFile = session.putAttribute(flowFile, \"itemId\", itemId)\n    flowFile = session.putAttribute(flowFile, \"folder_name\", folderName)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"Error resolving SharePoint folder link\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"}],"inputPorts":[{"identifier":"fd15f13b-1cfd-3620-8465-799a2ab3829e","instanceIdentifier":"1b98f1c5-0198-1000-0000-0000544a4b80","name":"/bulk","position":{"x":-1904.0,"y":-200.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"}],"outputPorts":[{"identifier":"9be6fd52-7c26-3a6b-9906-00e10966416f","instanceIdentifier":"1b99b9f1-0198-1000-ffff-ffff9b50c907","name":"filestoparsingpipleine","position":{"x":3096.0,"y":-288.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"}],"connections":[{"identifier":"e007ae17-3432-3223-b680-11ce1bd50752","instanceIdentifier":"1b9911a1-0198-1000-0000-00003185452e","name":"","source":{"id":"fd15f13b-1cfd-3620-8465-799a2ab3829e","type":"INPUT_PORT","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"/bulk","instanceIdentifier":"1b98f1c5-0198-1000-0000-0000544a4b80"},"destination":{"id":"577a77b4-debf-3e75-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"2331213b-dced-3980-811c-948168f3b849"},"labelIndex":0,"zIndex":183,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"7aafdb6a-7d04-3d20-ffff-fffff0038320","instanceIdentifier":"7c0eb5b2-b0b1-31cc-9113-b3de6582e915","name":"","source":{"id":"de205fcf-e218-3dae-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"ExecuteScript","comments":"","instanceIdentifier":"53f6a0cb-6882-399d-b78f-dad6d817a00a"},"destination":{"id":"e4e4c6b1-2fed-3dbd-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Download Excel File","comments":"","instanceIdentifier":"0ee0aaa6-56c5-38c4-ab66-238cb46455d3"},"labelIndex":0,"zIndex":174,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"59a4ea29-6d65-3023-ffff-fffff0038320","instanceIdentifier":"352d9736-46e8-36a4-8665-b410fd5da949","name":"","source":{"id":"0f8fdba5-9263-3cf7-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8876ac8a-e50f-3fb4-8187-305b370b72ee"},"destination":{"id":"7415ae7f-bbf2-3028-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Download File","comments":"","instanceIdentifier":"0be6222f-93db-330f-99a7-e19de908837e"},"labelIndex":0,"zIndex":178,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"942b28c5-90ea-3ad8-bf07-0f5a9aca9c39","instanceIdentifier":"2ceeca81-0198-1000-ffff-ffff82888484","name":"","source":{"id":"0c4774b6-c983-3d36-9ca6-ba6998cf4449","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"ExecuteScript","comments":"","instanceIdentifier":"2ceb624a-0198-1000-0000-00006509dabc"},"destination":{"id":"16615530-ab8a-3fc2-a931-87a7c7f3c1ec","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"PutFile","comments":"","instanceIdentifier":"2cee32a1-0198-1000-ffff-ffffb74bd967"},"labelIndex":0,"zIndex":196,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"41f0a7c1-ff46-3fd7-983e-3b372a79e34a","instanceIdentifier":"1b99d853-0198-1000-ffff-ffffd4f17979","name":"","source":{"id":"7eb32479-3cdf-34cc-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"UpdateAttribute","comments":"","instanceIdentifier":"33451d58-ff9a-3872-b4e7-b7970db1ad43"},"destination":{"id":"9be6fd52-7c26-3a6b-9906-00e10966416f","type":"OUTPUT_PORT","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"filestoparsingpipleine","instanceIdentifier":"1b99b9f1-0198-1000-ffff-ffff9b50c907"},"labelIndex":0,"zIndex":184,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"93b6e4c6-de3f-303d-9a4d-2957069408c7","instanceIdentifier":"2ceb986c-0198-1000-ffff-ffffdd8843b5","name":"","source":{"id":"396d9505-f673-3b98-bc7d-0e90893f2380","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"UpdateAttribute","comments":"","instanceIdentifier":"2ce1e783-0198-1000-0000-00000ad521ab"},"destination":{"id":"0c4774b6-c983-3d36-9ca6-ba6998cf4449","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"ExecuteScript","comments":"","instanceIdentifier":"2ceb624a-0198-1000-0000-00006509dabc"},"labelIndex":0,"zIndex":194,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"1a618b58-89a7-3c12-920a-59cfd814098f","instanceIdentifier":"2ce5e6e0-0198-1000-0000-00004c5161f6","name":"","source":{"id":"396d9505-f673-3b98-bc7d-0e90893f2380","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"UpdateAttribute","comments":"","instanceIdentifier":"2ce1e783-0198-1000-0000-00000ad521ab"},"destination":{"id":"0f8fdba5-9263-3cf7-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8876ac8a-e50f-3fb4-8187-305b370b72ee"},"labelIndex":0,"zIndex":191,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"d687a18e-893a-3f77-943f-d8338a9fc027","instanceIdentifier":"2ce558c3-0198-1000-ffff-ffffbb22e8f8","name":"","source":{"id":"e4e4c6b1-2fed-3dbd-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Download Excel File","comments":"","instanceIdentifier":"0ee0aaa6-56c5-38c4-ab66-238cb46455d3"},"destination":{"id":"ce4703fc-8791-3135-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"SplitJson","comments":"","instanceIdentifier":"86abd190-963d-3d68-bd3c-06b859f5f658"},"labelIndex":0,"zIndex":190,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"37961ce5-0c34-3eb1-ffff-fffff0038320","instanceIdentifier":"c26bcec6-10b5-3cad-bdc4-42dd9c2fa69d","name":"","source":{"id":"577a77b4-debf-3e75-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"2331213b-dced-3980-811c-948168f3b849"},"destination":{"id":"cfe7c162-28cc-3e5b-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"ExecuteScript","comments":"","instanceIdentifier":"30802894-6eab-30d6-953e-07db2f0a3b07"},"labelIndex":0,"zIndex":171,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"3060bfa7-80b2-318b-ffff-fffff0038320","instanceIdentifier":"547510cd-4d61-3611-b6de-13373cdc3d07","name":"","source":{"id":"ce4703fc-8791-3135-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"SplitJson","comments":"","instanceIdentifier":"86abd190-963d-3d68-bd3c-06b859f5f658"},"destination":{"id":"4a5fe8a9-7ec1-3893-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"LogAttribute","comments":"","instanceIdentifier":"9989c866-abd5-352e-b96a-c3af6536528b"},"labelIndex":0,"zIndex":179,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"49da9e26-508c-3d2a-ffff-fffff0038320","instanceIdentifier":"1711587e-98a5-3fbe-b6f7-ba28bf849ecd","name":"","source":{"id":"cfe7c162-28cc-3e5b-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"ExecuteScript","comments":"","instanceIdentifier":"30802894-6eab-30d6-953e-07db2f0a3b07"},"destination":{"id":"c52c0883-f592-3818-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Extract Access Token","comments":"","instanceIdentifier":"cf3d0fbe-0a78-3da6-b3d9-b621b9c38f83"},"labelIndex":0,"zIndex":172,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"d162141d-8dfd-32d3-ffff-fffff0038320","instanceIdentifier":"a4fce781-c2e8-3194-9801-dc6ec74d7243","name":"","source":{"id":"7415ae7f-bbf2-3028-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Download File","comments":"","instanceIdentifier":"0be6222f-93db-330f-99a7-e19de908837e"},"destination":{"id":"4a5fe8a9-7ec1-3893-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"LogAttribute","comments":"","instanceIdentifier":"9989c866-abd5-352e-b96a-c3af6536528b"},"labelIndex":0,"zIndex":181,"selectedRelationships":["Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"61a3c2bc-fe52-3184-ffff-fffff0038320","instanceIdentifier":"85334ab3-7844-34fd-a83a-ddd58f82c21d","name":"","source":{"id":"7415ae7f-bbf2-3028-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Download File","comments":"","instanceIdentifier":"0be6222f-93db-330f-99a7-e19de908837e"},"destination":{"id":"7eb32479-3cdf-34cc-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"UpdateAttribute","comments":"","instanceIdentifier":"33451d58-ff9a-3872-b4e7-b7970db1ad43"},"labelIndex":0,"zIndex":182,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"097ccff8-3e99-3002-90b3-e1a25da33e93","instanceIdentifier":"2ce2b4a0-0198-1000-0000-000036132d71","name":"","source":{"id":"ce4703fc-8791-3135-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"SplitJson","comments":"","instanceIdentifier":"86abd190-963d-3d68-bd3c-06b859f5f658"},"destination":{"id":"396d9505-f673-3b98-bc7d-0e90893f2380","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"UpdateAttribute","comments":"","instanceIdentifier":"2ce1e783-0198-1000-0000-00000ad521ab"},"labelIndex":0,"zIndex":189,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"99e31117-682c-32e5-ffff-fffff0038320","instanceIdentifier":"f32cc574-3e1b-3597-bc4b-9bc0425b9151","name":"","source":{"id":"c52c0883-f592-3818-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"Extract Access Token","comments":"","instanceIdentifier":"cf3d0fbe-0a78-3da6-b3d9-b621b9c38f83"},"destination":{"id":"de205fcf-e218-3dae-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"ExecuteScript","comments":"","instanceIdentifier":"53f6a0cb-6882-399d-b78f-dad6d817a00a"},"labelIndex":0,"zIndex":173,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"},{"identifier":"8a9b04c6-2012-346e-ffff-fffff0038320","instanceIdentifier":"7dfd88f8-54e6-3d8b-8582-9bf35473aefb","name":"","source":{"id":"0f8fdba5-9263-3cf7-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8876ac8a-e50f-3fb4-8187-305b370b72ee"},"destination":{"id":"4a5fe8a9-7ec1-3893-ffff-fffff0038320","type":"PROCESSOR","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"LogAttribute","comments":"","instanceIdentifier":"9989c866-abd5-352e-b96a-c3af6536528b"},"labelIndex":0,"zIndex":180,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"56ba5156-9834-3426-a190-f5d7728d33fb"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1ee48191-c730-345e-8370-52d0fabee237","instanceIdentifier":"1b9d43db-0198-1000-0000-0000606fdb12","name":"/add","comments":"","position":{"x":1656.0,"y":-1440.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"fabd45e1-fcc2-3399-0000-00001fc7712c","instanceIdentifier":"45803eae-1f6b-3975-9b85-d43cf4fd8242","name":"ExecuteScript","comments":"","position":{"x":-1633.0701592251044,"y":164.37715140146474},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.io.StreamCallback\nimport org.apache.commons.codec.binary.Base64\nimport java.net.URLDecoder\nimport java.nio.charset.StandardCharsets\n\nFlowFile flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    // Get the SharePoint resume link from attribute\n    String resumeLink = flowFile.getAttribute(\"resume_link\")\n    if (!resumeLink) {\n        log.error(\"Missing 'resume_link' attribute in flowfile.\")\n        session.transfer(flowFile, REL_FAILURE)\n        return\n    }\n\n    // Encode link into Graph API-safe base64\n    String base64Encoded = Base64.encodeBase64String(resumeLink.getBytes(StandardCharsets.UTF_8))\n    String graphSafe = base64Encoded\n        .replace(\"/\", \"_\")\n        .replace(\"+\", \"-\")\n        .replaceAll(\"=+\\$\", \"\")  // Remove trailing '=' safely\n\n    // Extract filename from URL (look for 'file=' param or last path component)\n    String filename = null\n    def matcher = resumeLink =~ /[?&]file=([^&]+)/\n    if (matcher.find()) {\n        filename = URLDecoder.decode(matcher.group(1), \"UTF-8\")\n    } else {\n        // Fallback to last path segment after last slash\n        def parts = resumeLink.split(\"/\")\n        filename = URLDecoder.decode(parts[-1], \"UTF-8\")\n    }\n\n    // Set encoded and filename attributes\n    flowFile = session.putAttribute(flowFile, \"sharepoint.encoded\", graphSafe)\n    flowFile = session.putAttribute(flowFile, \"sharepoint.filename\", filename)\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"Failed processing SharePoint link: \", e)\n    session.transfer(flowFile, REL_FAILURE)\n}\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"5ecfdcdb-ba5a-33c3-0000-00001fc7712c","instanceIdentifier":"085cd228-08c3-3d57-a707-54dccfcf0068","name":"LogAttribute","comments":"","position":{"x":-1705.0701592251044,"y":588.3771514014647},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"0492da57-e03c-317f-0000-00001fc7712c","instanceIdentifier":"3c44bc81-83de-3058-a39a-4c356f78153e","name":"ExecuteScript","comments":"","position":{"x":-1113.0701592251044,"y":236.37715140146474},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.io.StreamCallback\nimport org.apache.nifi.processor.exception.ProcessException\n\nimport groovy.json.JsonSlurper\nimport java.nio.charset.StandardCharsets\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef accessToken = flowFile.getAttribute(\"access_token\")\ndef encoded = flowFile.getAttribute(\"sharepoint.encoded\")\ndef employeeId = flowFile.getAttribute(\"employee_id\")\n\nif (!accessToken || !encoded || !employeeId) {\n    flowFile = session.putAttribute(flowFile, \"error\", \"Missing access_token, sharepoint.encoded, or employee_id\")\n    session.transfer(flowFile, REL_FAILURE)\n    return\n}\n\n// ✅ Important: prepend \"u!\" to the encoded string\ndef apiUrl = \"https://graph.microsoft.com/v1.0/shares/u!${encoded}/driveItem\"\n\ndef connection = new URL(apiUrl).openConnection()\nconnection.setRequestMethod(\"GET\")\nconnection.setRequestProperty(\"Authorization\", \"Bearer \" + accessToken)\nconnection.setRequestProperty(\"Accept\", \"application/json\")\n\ndef responseCode = connection.getResponseCode()\nif (responseCode != 200) {\n    flowFile = session.putAttribute(flowFile, \"error\", \"Graph API call failed with status ${responseCode}\")\n    session.transfer(flowFile, REL_FAILURE)\n    return\n}\n\ndef json = new JsonSlurper().parse(connection.getInputStream())\n\ndef driveId = json.parentReference?.driveId\ndef itemId = json.id\ndef originalFileName = json.name\n\n// Extract extension from original file name (e.g., \".pdf\", \".docx\")\ndef extension = \"\"\ndef i = originalFileName.lastIndexOf('.')\nif (i >= 0) {\n    extension = originalFileName.substring(i)\n}\n\n// Replace filename with employeeId + extension\ndef newFileName = \"${employeeId}${extension}\"\n\nflowFile = session.putAttribute(flowFile, \"driveId\", driveId ?: \"\")\nflowFile = session.putAttribute(flowFile, \"itemId\", itemId ?: \"\")\nflowFile = session.putAttribute(flowFile, \"filename\", newFileName)\n\nsession.transfer(flowFile, REL_SUCCESS)\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"f81148d4-04bd-3464-0000-00001fc7712c","instanceIdentifier":"bf89fee4-8526-384a-9614-3a2741422e53","name":"ExecuteScript","comments":"","position":{"x":-2561.0701592251044,"y":260.37715140146474},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\nimport java.net.HttpURLConnection\nimport java.net.URL\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef tenantId = \"85a77b6c-a790-4bcf-8fd6-c1f891dd360b\"\ndef clientId = \"4c6f837a-7f09-4927-aafa-185a02770cce\"\ndef clientSecret = \"Gnq8Q~FscQ66354xPeOwAph3j.ZKL-vhhBmWNa9D\"\ndef scope = \"https://graph.microsoft.com/.default\"\ndef url = \"https://login.microsoftonline.com/${tenantId}/oauth2/v2.0/token\"\n\ndef params = [\n    \"client_id\"     : clientId,\n    \"client_secret\" : clientSecret,\n    \"scope\"         : scope,\n    \"grant_type\"    : \"client_credentials\"\n].collect { k, v -> \"${URLEncoder.encode(k, \"UTF-8\")}=${URLEncoder.encode(v, \"UTF-8\")}\" }\n .join(\"&\")\n\ndef conn = (HttpURLConnection) new URL(url).openConnection()\nconn.setRequestMethod(\"POST\")\nconn.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\")\nconn.setDoOutput(true)\nconn.getOutputStream().write(params.getBytes(\"UTF-8\"))\n\ndef responseCode = conn.getResponseCode()\ndef responseStream = (responseCode == 200) ? conn.getInputStream() : conn.getErrorStream()\ndef responseBody = IOUtils.toString(responseStream, StandardCharsets.UTF_8)\n\nflowFile = session.write(flowFile, { outputStream ->\n    outputStream.write(responseBody.getBytes(StandardCharsets.UTF_8))\n} as OutputStreamCallback)\n\nflowFile = session.putAttribute(flowFile, \"http.status\", responseCode.toString())\nsession.transfer(flowFile, REL_SUCCESS)\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"69b9725c-78d7-3f53-0000-00001fc7712c","instanceIdentifier":"f684cc2e-6c46-3e2d-963a-bd57e03e799e","name":"EvaluateJsonPath","comments":"","position":{"x":-3088.0,"y":280.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","employee_id":"$.employee_id","Null Value Representation":"empty string","resume_link":"$.resume_link","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"employee_id":{"name":"employee_id","displayName":"employee_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"resume_link":{"name":"resume_link","displayName":"resume_link","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"c8e0fd46-0fd7-3e23-0000-00001fc7712c","instanceIdentifier":"cdfcb786-ae99-3fd4-9d29-0d8dfdf25ea1","name":"LogAttribute","comments":"","position":{"x":-2953.0701592251044,"y":644.3771514014647},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"ccb2fd98-3c09-3532-0000-00001fc7712c","instanceIdentifier":"d12a0ada-f9d5-3f6f-9552-2db9a1ae03b4","name":"Extract Access Token","comments":"","position":{"x":-2049.0701592251044,"y":348.37715140146474},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"access_token":"$.access_token","Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"access_token":{"name":"access_token","displayName":"access_token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"10aca47f-bd06-30f6-0000-00001fc7712c","instanceIdentifier":"fbf2a43b-9479-3482-a9e6-3acb4a74bc0f","name":"LogAttribute","comments":"","position":{"x":-97.07015922510436,"y":244.37715140146474},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"623efea3-dd17-3d83-0000-00001fc7712c","instanceIdentifier":"9df44a6d-07d9-320e-bdeb-3795637a3a30","name":"LogAttribute","comments":"","position":{"x":-2169.0701592251044,"y":580.3771514014647},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"5e8b8560-bced-32ef-0000-00001fc7712c","instanceIdentifier":"a291daf7-48fe-3035-8a97-e3115fb960a7","name":"Download Excel File","comments":"","position":{"x":-640.0,"y":392.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Authorization":"Bearer ${access_token}","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"https://graph.microsoft.com/v1.0/drives/${driveId}/items/${itemId}/content","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"eaa9ecd2-79bd-378c-0000-00001fc7712c","instanceIdentifier":"84005fbe-841f-31bd-b4ee-132ce57d4359","name":"LogAttribute","comments":"","position":{"x":-2617.0701592251044,"y":540.3771514014647},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"}],"inputPorts":[{"identifier":"e5613e88-d158-36b7-a3f8-9f42118c9f71","instanceIdentifier":"1b9fe01f-0198-1000-0000-0000631175bc","name":"/add","position":{"x":-3424.0,"y":392.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"}],"outputPorts":[{"identifier":"3fdef2ae-b317-30af-b041-31b4a8f2e049","instanceIdentifier":"1ba0487f-0198-1000-0000-00002d9fac82","name":"fileforward","position":{"x":-533.0908873232515,"y":642.5603490144944},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"}],"connections":[{"identifier":"ec1d8d93-1193-318c-0000-00001fc7712c","instanceIdentifier":"49d0afb6-1fd6-3335-90d7-d7ab06795a41","name":"","source":{"id":"f81148d4-04bd-3464-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"bf89fee4-8526-384a-9614-3a2741422e53"},"destination":{"id":"ccb2fd98-3c09-3532-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"Extract Access Token","comments":"","instanceIdentifier":"d12a0ada-f9d5-3f6f-9552-2db9a1ae03b4"},"labelIndex":0,"zIndex":145,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"2af2626a-b75e-3c06-0000-00001fc7712c","instanceIdentifier":"6c5cffb2-f945-34c7-8fc3-0452c82cd9a1","name":"","source":{"id":"0492da57-e03c-317f-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"3c44bc81-83de-3058-a39a-4c356f78153e"},"destination":{"id":"5e8b8560-bced-32ef-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"Download Excel File","comments":"","instanceIdentifier":"a291daf7-48fe-3035-8a97-e3115fb960a7"},"labelIndex":0,"zIndex":148,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"daeb9654-1ca2-3e5b-0000-00001fc7712c","instanceIdentifier":"5a0ac9b2-420a-3462-8b00-66806268f695","name":"","source":{"id":"fabd45e1-fcc2-3399-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"45803eae-1f6b-3975-9b85-d43cf4fd8242"},"destination":{"id":"0492da57-e03c-317f-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"3c44bc81-83de-3058-a39a-4c356f78153e"},"labelIndex":0,"zIndex":147,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"669cc9dd-bbad-35d2-0000-00001fc7712c","instanceIdentifier":"6402066e-9748-3068-9375-a0f4b4cf6f0d","name":"","source":{"id":"ccb2fd98-3c09-3532-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"Extract Access Token","comments":"","instanceIdentifier":"d12a0ada-f9d5-3f6f-9552-2db9a1ae03b4"},"destination":{"id":"623efea3-dd17-3d83-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"LogAttribute","comments":"","instanceIdentifier":"9df44a6d-07d9-320e-bdeb-3795637a3a30"},"labelIndex":0,"zIndex":164,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"f6cd9fc1-10e0-356a-0000-00001fc7712c","instanceIdentifier":"0c1ad8d7-f7b3-3f4d-aacd-d754ca800cb4","name":"","source":{"id":"ccb2fd98-3c09-3532-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"Extract Access Token","comments":"","instanceIdentifier":"d12a0ada-f9d5-3f6f-9552-2db9a1ae03b4"},"destination":{"id":"fabd45e1-fcc2-3399-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"45803eae-1f6b-3975-9b85-d43cf4fd8242"},"labelIndex":0,"zIndex":146,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"8bad7939-e22a-3806-9299-7b7d33f75b9c","instanceIdentifier":"1ba06614-0198-1000-0000-00004533a648","name":"","source":{"id":"5e8b8560-bced-32ef-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"Download Excel File","comments":"","instanceIdentifier":"a291daf7-48fe-3035-8a97-e3115fb960a7"},"destination":{"id":"3fdef2ae-b317-30af-b041-31b4a8f2e049","type":"OUTPUT_PORT","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"fileforward","instanceIdentifier":"1ba0487f-0198-1000-0000-00002d9fac82"},"labelIndex":0,"zIndex":168,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"b3d1005d-f0ad-3973-0000-00001fc7712c","instanceIdentifier":"df497ba9-715e-37ca-ae86-e933c27ed964","name":"","source":{"id":"fabd45e1-fcc2-3399-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"45803eae-1f6b-3975-9b85-d43cf4fd8242"},"destination":{"id":"5ecfdcdb-ba5a-33c3-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"LogAttribute","comments":"","instanceIdentifier":"085cd228-08c3-3d57-a707-54dccfcf0068"},"labelIndex":0,"zIndex":165,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"7b650c78-1332-378b-0000-00001fc7712c","instanceIdentifier":"4717c4be-0675-30a5-b9b7-955c81457acb","name":"","source":{"id":"69b9725c-78d7-3f53-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"f684cc2e-6c46-3e2d-963a-bd57e03e799e"},"destination":{"id":"c8e0fd46-0fd7-3e23-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"LogAttribute","comments":"","instanceIdentifier":"cdfcb786-ae99-3fd4-9d29-0d8dfdf25ea1"},"labelIndex":0,"zIndex":162,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"ad75c279-b639-3e73-0000-00001fc7712c","instanceIdentifier":"6672cebd-56cf-3875-b03b-7b010e39f945","name":"","source":{"id":"69b9725c-78d7-3f53-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"f684cc2e-6c46-3e2d-963a-bd57e03e799e"},"destination":{"id":"f81148d4-04bd-3464-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"bf89fee4-8526-384a-9614-3a2741422e53"},"labelIndex":0,"zIndex":144,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"63284139-503c-3f58-0000-00001fc7712c","instanceIdentifier":"c6b91a63-3c4a-36ed-a5b0-c75646eea89e","name":"","source":{"id":"f81148d4-04bd-3464-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"bf89fee4-8526-384a-9614-3a2741422e53"},"destination":{"id":"eaa9ecd2-79bd-378c-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"LogAttribute","comments":"","instanceIdentifier":"84005fbe-841f-31bd-b4ee-132ce57d4359"},"labelIndex":0,"zIndex":163,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"9bc66554-372e-3132-0000-00001fc7712c","instanceIdentifier":"ed7dff43-d3d7-3110-8e0e-4695762ae588","name":"","source":{"id":"0492da57-e03c-317f-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"ExecuteScript","comments":"","instanceIdentifier":"3c44bc81-83de-3058-a39a-4c356f78153e"},"destination":{"id":"5ecfdcdb-ba5a-33c3-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"LogAttribute","comments":"","instanceIdentifier":"085cd228-08c3-3d57-a707-54dccfcf0068"},"labelIndex":0,"zIndex":166,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"58bbab04-afc8-352e-b7e5-2c9913cfa079","instanceIdentifier":"1b9ffe1d-0198-1000-0000-000072cacf77","name":"","source":{"id":"e5613e88-d158-36b7-a3f8-9f42118c9f71","type":"INPUT_PORT","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"/add","instanceIdentifier":"1b9fe01f-0198-1000-0000-0000631175bc"},"destination":{"id":"69b9725c-78d7-3f53-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"f684cc2e-6c46-3e2d-963a-bd57e03e799e"},"labelIndex":0,"zIndex":167,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"},{"identifier":"d0b62705-f611-30a9-0000-00001fc7712c","instanceIdentifier":"e23ad3ae-d8b2-365c-a179-5bf1368070c1","name":"","source":{"id":"5e8b8560-bced-32ef-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"Download Excel File","comments":"","instanceIdentifier":"a291daf7-48fe-3035-8a97-e3115fb960a7"},"destination":{"id":"10aca47f-bd06-30f6-0000-00001fc7712c","type":"PROCESSOR","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"LogAttribute","comments":"","instanceIdentifier":"fbf2a43b-9479-3482-a9e6-3acb4a74bc0f"},"labelIndex":0,"zIndex":149,"selectedRelationships":["Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1ee48191-c730-345e-8370-52d0fabee237"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9f356439-5c28-3992-0000-00001eb25888","instanceIdentifier":"aa67aec6-c5e8-3fd4-8335-12b925e0d881","name":"Resume_Ingestion_testing","comments":"","position":{"x":1320.0,"y":-2224.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"fe357d32-8443-35de-0000-00001eb25888","instanceIdentifier":"fa82f3cf-b40d-3320-aaf9-b35db3e0a9ba","name":"Resume Parsing","comments":"","position":{"x":-1912.0,"y":-72.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/resume_parser.py;/home/nifi/nifi2/users/dhruv/hrbotingestion/data/${filename}"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"9295750c-f339-3f9e-0000-00005a204a74","instanceIdentifier":"a808a0e1-f2d1-3755-bb1a-4205c0c9351c","name":"LogAttribute","comments":"","position":{"x":-344.0,"y":936.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"4208be98-85b1-30b7-0000-00001eb25888","instanceIdentifier":"7ecefc76-4658-326c-bbb3-5cab880f629b","name":"LogAttribute","comments":"","position":{"x":-1304.0,"y":360.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"0c586e04-fe29-345b-0000-00001eb25888","instanceIdentifier":"6674509c-7bbb-32b3-a614-a27338eb2c43","name":"LogAttribute","comments":"","position":{"x":-1360.0,"y":96.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"26f4c26d-fe50-3b74-0000-00005923b820","instanceIdentifier":"3566c138-21d4-3138-a6da-e65ac5bebdd0","name":"LogAttribute","comments":"","position":{"x":-656.0,"y":1184.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"b7fbccc8-dee9-3383-0000-00001eb25888","instanceIdentifier":"b28824a9-ce68-3ccd-9906-93fb5dfff299","name":"Insert to elastic","comments":"","position":{"x":-1296.0,"y":1016.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":" ","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/elastic_db_update.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"d1d6fa08-89bc-398d-ffff-ffff8e529a68","instanceIdentifier":"d9974474-3a9c-3c3f-91a4-13dee97ade69","name":"Remove Uploaded Resume No longer needed","comments":"","position":{"x":-808.0,"y":952.0},"type":"org.apache.nifi.processors.standard.DeleteFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Filename":"${filename}","Directory Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data"},"propertyDescriptors":{"Filename":{"name":"Filename","displayName":"Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory Path":{"name":"Directory Path","displayName":"Directory Path","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","not found"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"6ef7ca93-c4b1-3caa-0000-00001eb25888","instanceIdentifier":"b4f6b991-af28-36bc-96a2-6bae3dec8e68","name":"LogAttribute","comments":"","position":{"x":-2424.0,"y":1320.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"81fe2aea-efa9-3d36-ffff-ffffd05abfe8","instanceIdentifier":"d5ef8b84-6f91-39ec-9cef-152793b3a37d","name":"EvaluateJsonPath","comments":"","position":{"x":-1920.0,"y":536.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","filename":"$.file","Max String Length":"20 MB","Return Type":"auto-detect","contetn_llama":"$.content.llama","cotent_ocr":"$.content.ocr","Null Value Representation":"empty string","links":"$.links","Character Set":"UTF-8","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"contetn_llama":{"name":"contetn_llama","displayName":"contetn_llama","identifiesControllerService":false,"sensitive":false,"dynamic":true},"cotent_ocr":{"name":"cotent_ocr","displayName":"cotent_ocr","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"links":{"name":"links","displayName":"links","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"5a269652-c5b2-3d82-0000-00001eb25888","instanceIdentifier":"324809c0-9680-3a23-8df1-492551c5417b","name":"UpdateAttribute","comments":"","position":{"x":-1928.0,"y":840.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"filename":"${employee_id}.json","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"5a5354d4-274b-3bac-ffff-ffffd05abfe8","instanceIdentifier":"08f5f757-e570-3bd6-978c-998ad717db72","name":"Remove Uploaded Resume No longer needed","comments":"","position":{"x":-1792.0,"y":120.0},"type":"org.apache.nifi.processors.standard.DeleteFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Filename":"${filename}","Directory Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data"},"propertyDescriptors":{"Filename":{"name":"Filename","displayName":"Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory Path":{"name":"Directory Path","displayName":"Directory Path","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"08714692-e927-38c5-0000-00001eb25888","instanceIdentifier":"7c9e8e5a-6e0c-32ba-ac0d-110117048ff8","name":"LogAttribute","comments":"","position":{"x":-992.0,"y":-456.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"0dbdd704-7951-315c-0000-00001eb25888","instanceIdentifier":"1e205391-95f9-31ef-9eaf-a226dfbadfe7","name":"UpdateAttribute","comments":"","position":{"x":-1896.0,"y":-448.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"filename":"${http.multipart.filename}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"4a86f864-ff39-3e52-0000-00001eb25888","instanceIdentifier":"4eb84889-b616-3534-aa87-59753182a6bc","name":"flatten json","comments":"","position":{"x":-1888.0,"y":1024.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\nimport java.io.InputStream\nimport java.io.OutputStream\nimport java.io.IOException\nimport org.apache.nifi.processor.io.InputStreamCallback\nimport org.apache.nifi.processor.io.OutputStreamCallback\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def content = ''\n\n    // Read JSON input from FlowFile content\n    session.read(flowFile, new InputStreamCallback() {\n        @Override\n        void process(InputStream inputStream) throws IOException {\n            content = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        }\n    })\n\n    if (!content?.trim()) throw new IllegalArgumentException(\"FlowFile content is empty\")\n\n    def parsed = new JsonSlurper().parseText(content.trim())\n    if (!(parsed instanceof List)) {\n        parsed = [parsed]  // Convert to list if single JSON object\n    }\n\n    parsed.eachWithIndex { doc, idx ->\n        def name = doc['name']?.toString()?.replaceAll(\"\\\\s+\", \"_\") ?: \"unknown\"\n        def empId = doc['employee_id']?.toString() ?: idx.toString()\n        def filename = \"${empId}_${name}.txt\"\n        def outputJson = JsonOutput.toJson([\n            filename: filename,\n            text: doc.toString()\n        ])\n\n        def ff = session.create(flowFile)\n        session.write(ff, new OutputStreamCallback() {\n            @Override\n            void process(OutputStream out) throws IOException {\n                out.write(JsonOutput.prettyPrint(outputJson).getBytes(StandardCharsets.UTF_8))\n            }\n        })\n\n        session.transfer(ff, REL_SUCCESS)\n    }\n\n    session.remove(flowFile)\n\n} catch (Exception e) {\n    log.error(\"ExecuteScript Error: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"78a02430-6a43-38d8-0000-00001eb25888","instanceIdentifier":"e3b942b8-46ab-38e6-8248-1919ba1116bf","name":"LogAttribute","comments":"","position":{"x":-1456.0,"y":712.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"1ba3c696-9ad2-3a4e-0000-0000418b8f46","instanceIdentifier":"e6f308f8-4f24-32bd-871c-daed443f14a4","name":"HandleHttpResponse","comments":"","position":{"x":-1368.0,"y":1224.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"4b3de28a-23ac-3bd5-0000-00001eb25888","instanceIdentifier":"1c70e6e8-8889-3939-93bf-bc9c5e9234f5","name":"LogAttribute","comments":"","position":{"x":-1232.0,"y":-56.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"33ba0818-d1f3-35ad-0000-00001eb25888","instanceIdentifier":"68cccc79-cb68-3a2b-8e7c-24424e3e1c58","name":"embedd generation","comments":"","position":{"x":-1896.0,"y":1288.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AWS_REGION":"us-west-2","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/yogesh/codes","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/codes/embedding.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"EMBEDDING_PROVIDER":"azure","EMBEDDING_MODEL":"text-embedding-ada-002","AZURE_OPENAI_EMBEDDING_MODEL":"text-embedding-ada-002"},"propertyDescriptors":{"AWS_REGION":{"name":"AWS_REGION","displayName":"AWS_REGION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_KEY":{"name":"AZURE_OPENAI_KEY","displayName":"AZURE_OPENAI_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_ENDPOINT":{"name":"AZURE_OPENAI_ENDPOINT","displayName":"AZURE_OPENAI_ENDPOINT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"EMBEDDING_PROVIDER":{"name":"EMBEDDING_PROVIDER","displayName":"EMBEDDING_PROVIDER","identifiesControllerService":false,"sensitive":false,"dynamic":true},"EMBEDDING_MODEL":{"name":"EMBEDDING_MODEL","displayName":"EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_EMBEDDING_MODEL":{"name":"AZURE_OPENAI_EMBEDDING_MODEL","displayName":"AZURE_OPENAI_EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_API_VERSION":{"name":"AZURE_OPENAI_API_VERSION","displayName":"AZURE_OPENAI_API_VERSION","identifiesControllerService":false,"sensitive":true,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"1af05a26-e0df-34a7-ffff-ffffd05abfe8","instanceIdentifier":"e1e5ebe3-ec11-3d93-a0c1-16de40da8a21","name":"FetchFile","comments":"","position":{"x":-1880.0,"y":328.0},"type":"org.apache.nifi.processors.standard.FetchFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Move Conflict Strategy":"Rename","Log level when file not found":"ERROR","Move Destination Directory":null,"Log level when permission denied":"ERROR","File to Fetch":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data/${filename:replaceAll('\\\\.[^.]+$', '.json')}","Completion Strategy":"None"},"propertyDescriptors":{"Move Conflict Strategy":{"name":"Move Conflict Strategy","displayName":"Move Conflict Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log level when file not found":{"name":"Log level when file not found","displayName":"Log level when file not found","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Move Destination Directory":{"name":"Move Destination Directory","displayName":"Move Destination Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log level when permission denied":{"name":"Log level when permission denied","displayName":"Log level when permission denied","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File to Fetch":{"name":"File to Fetch","displayName":"File to Fetch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Completion Strategy":{"name":"Completion Strategy","displayName":"Completion Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"386da1d5-56d5-3da5-0000-00001eb25888","instanceIdentifier":"deddb897-9e0b-37b5-bba9-1f5ad443e298","name":"PutFile","comments":"","position":{"x":-1928.0,"y":-264.0},"type":"org.apache.nifi.processors.standard.PutFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":"664","Maximum File Count":null,"Last Modified Time":null,"Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"4c34739e-1a63-3110-0000-00001eb25888","instanceIdentifier":"269a6cc7-d3e1-3447-ae44-e42bceb41b8f","name":"insert to elastic","comments":"","position":{"x":-1912.0,"y":1576.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/yogesh/codes","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/codes/insert.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["output stream","original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"ccbdd7ac-443f-354e-0000-00001eb25888","instanceIdentifier":"e194541c-f17c-3a2f-ae0a-f8c13a272e14","name":"Resume Standardisation","comments":"","position":{"x":-1928.0,"y":696.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def filename = flowFile.getAttribute(\"filename\")\n    def employeeId = filename.replaceFirst(/\\.[^.]+$/, \"\")\n\n    // Azure OpenAI configuration\n    def API_KEY = \"\"\n    def ENDPOINT = \"https://us-tax-law-rag-demo.openai.azure.com\"\n    def DEPLOYMENT = \"gpt-4o-mini\"\n    def API_VERSION = \"2024-08-01-preview\"\n\n    def contentStream = session.read(flowFile)\n    def resumeJson = new JsonSlurper().parseText(IOUtils.toString(contentStream, StandardCharsets.UTF_8))\n    contentStream.close()\n\n    def contentMap = resumeJson.content ?: [:]\n    def llamaText = contentMap.llama ?: \"\"\n    def ocrText = contentMap.ocr ?: \"\"\n    def links = resumeJson.links ?: []\n\n    if (!llamaText.trim() && !ocrText.trim()) {\n        log.warn(\"⚠️ Both LlamaParse and OCR content are empty for file: $filename\")\n        session.transfer(flowFile, REL_FAILURE)\n        return\n    }\n\n    // Build the standardizer prompt using both llama and ocr content\n    def prompt = \"\"\"\nYou are an intelligent and robust context-aware resume standardizer. Your task is to convert resume content into a clean, structured, normalized/standardized JSON format suitable for both semantic retrieval and relational database storage.\n\n--- PARSED RESUME CONTENT ---\nThe following text combines LlamaParse and OCR outputs for standardization.\n\n\\\"\\\"\\\"${llamaText}, ${ocrText}\\\"\\\"\\\"\n\n--- EXTRACTED HYPERLINKS ---\n${JsonOutput.prettyPrint(JsonOutput.toJson(links))}\n\n--- STANDARDIZED STRUCTURE ---\nConvert the resume to a JSON object strictly following this structure:\n\n{\n  \"employee_id\": str,\n  \"name\": str,\n  \"email\": str,\n  \"phone\": str,\n  \"location\": str,\n  \"summary\": str,\n  \"education\": [\n    {\n      \"degree\": str,\n      \"institution\": str,\n      \"year\": int or str\n    }\n  ],\n  \"experience\": [\n    {\n      \"title\": str,\n      \"company\": str,\n      \"duration\": str,\n      \"location\": str (optional),\n      \"description\": str\n    }\n  ],\n  \"skills\": [str],\n  \"projects\": [\n    {\n      \"title\": str,\n      \"description\": str,\n      \"link\": str (optional)\n    }\n  ],\n  \"certifications\": [\n    {\n      \"title\": str,\n      \"issuer\": str (optional),\n      \"year\": str or int (optional),\n      \"link\": str (only if it can be reliably mapped from extracted hyperlinks)\n    }\n  ],\n  \"languages\": [str],\n  \"social_profiles\": [\n    {\n      \"platform\": str,\n      \"link\": str\n    }\n  ]\n}\n\n--- GUIDELINES ---\n- Use the combined text above to extract all information.\n- Do not introduce or remove fields arbitrarily.\n- Leave keys with empty arrays if data is missing.\n- Ensure the output is only valid JSON. No comments or markdown.\n\n\"\"\"\n\n    def requestBody = JsonOutput.toJson([\n        messages: [\n            [role: \"system\", content: \"You are a helpful assistant that formats resumes into structured JSON.\"],\n            [role: \"user\", content: prompt]\n        ],\n        temperature: 0.2,\n        max_tokens: 6000\n    ])\n\n    def conn = new URL(\"${ENDPOINT}/openai/deployments/${DEPLOYMENT}/chat/completions?api-version=${API_VERSION}\")\n            .openConnection()\n    conn.setRequestMethod(\"POST\")\n    conn.setDoOutput(true)\n    conn.setRequestProperty(\"Content-Type\", \"application/json\")\n    conn.setRequestProperty(\"api-key\", API_KEY)\n\n    conn.outputStream.withWriter(\"UTF-8\") { it.write(requestBody) }\n\n    def responseText = conn.inputStream.withReader(\"UTF-8\") { it.text }\n    def parsed = new JsonSlurper().parseText(responseText)\n\n    def rawLLM = parsed.choices[0].message.content?.trim()\n    def cleaned = rawLLM?.replaceAll(/(?s)```(json)?/, \"\")?.trim()\n    def standardized = new JsonSlurper().parseText(cleaned)\n\n    standardized.employee_id = employeeId\n\n    def finalJson = JsonOutput.prettyPrint(JsonOutput.toJson(standardized))\n\n    flowFile = session.write(flowFile, { out ->\n        out.write(finalJson.getBytes(StandardCharsets.UTF_8))\n    } as OutputStreamCallback)\n\n    flowFile = session.putAttribute(flowFile, \"employee_id\", employeeId)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"❌ Error during resume standardization: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"}],"inputPorts":[{"identifier":"6b0c838b-aa06-3766-a558-eacc6681678d","instanceIdentifier":"07d9ea7d-0198-1000-ffff-ffffbee06fe4","name":"resume","position":{"x":-2044.984080376174,"y":-978.5503227766815},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"}],"outputPorts":[],"connections":[{"identifier":"5c3d7147-4e9a-33db-0000-00001eb25888","instanceIdentifier":"d46a1b5e-744b-3b23-9f10-99cc6c247874","name":"","source":{"id":"4a86f864-ff39-3e52-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"flatten json","comments":"","instanceIdentifier":"4eb84889-b616-3534-aa87-59753182a6bc"},"destination":{"id":"6ef7ca93-c4b1-3caa-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"b4f6b991-af28-36bc-96a2-6bae3dec8e68"},"labelIndex":0,"zIndex":27,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"7a164e4b-7686-3f86-0000-00001eb25888","instanceIdentifier":"304d3de6-9cf0-317b-8334-02302da8488e","name":"","source":{"id":"4a86f864-ff39-3e52-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"flatten json","comments":"","instanceIdentifier":"4eb84889-b616-3534-aa87-59753182a6bc"},"destination":{"id":"33ba0818-d1f3-35ad-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"embedd generation","comments":"","instanceIdentifier":"68cccc79-cb68-3a2b-8e7c-24424e3e1c58"},"labelIndex":0,"zIndex":3,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"e24bfbc6-0fb8-3895-8537-ada0b18a4f78","instanceIdentifier":"07dc8f5a-0198-1000-ffff-fffffe577572","name":"","source":{"id":"6b0c838b-aa06-3766-a558-eacc6681678d","type":"INPUT_PORT","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"resume","instanceIdentifier":"07d9ea7d-0198-1000-ffff-ffffbee06fe4"},"destination":{"id":"0dbdd704-7951-315c-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"UpdateAttribute","comments":"","instanceIdentifier":"1e205391-95f9-31ef-9eaf-a226dfbadfe7"},"labelIndex":0,"zIndex":66,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"7bb30ff9-e071-3db4-0000-00001eb25888","instanceIdentifier":"4a75193d-1486-30fb-95d9-57650e6178e8","name":"","source":{"id":"ccbdd7ac-443f-354e-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Resume Standardisation","comments":"","instanceIdentifier":"e194541c-f17c-3a2f-ae0a-f8c13a272e14"},"destination":{"id":"78a02430-6a43-38d8-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"e3b942b8-46ab-38e6-8248-1919ba1116bf"},"labelIndex":0,"zIndex":65,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"09b96e05-403c-3059-873b-ca837c1c18aa","instanceIdentifier":"1c3aa066-0198-1000-0000-000006a12304","name":"","source":{"id":"d1d6fa08-89bc-398d-ffff-ffff8e529a68","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"d9974474-3a9c-3c3f-91a4-13dee97ade69"},"destination":{"id":"9295750c-f339-3f9e-0000-00005a204a74","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"a808a0e1-f2d1-3755-bb1a-4205c0c9351c"},"labelIndex":0,"zIndex":81,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"cd30a69f-3f99-3588-0000-00001eb25888","instanceIdentifier":"78e72dbc-3522-3dc3-b994-2549ee1aaea5","name":"","source":{"id":"0dbdd704-7951-315c-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"UpdateAttribute","comments":"","instanceIdentifier":"1e205391-95f9-31ef-9eaf-a226dfbadfe7"},"destination":{"id":"386da1d5-56d5-3da5-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"PutFile","comments":"","instanceIdentifier":"deddb897-9e0b-37b5-bba9-1f5ad443e298"},"labelIndex":0,"zIndex":24,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"10b687e2-d396-39a4-0000-00001eb25888","instanceIdentifier":"9e9dc244-bdc4-3282-873c-997397dcd1c4","name":"","source":{"id":"5a269652-c5b2-3d82-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"UpdateAttribute","comments":"","instanceIdentifier":"324809c0-9680-3a23-8df1-492551c5417b"},"destination":{"id":"b7fbccc8-dee9-3383-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Insert to elastic","comments":"","instanceIdentifier":"b28824a9-ce68-3ccd-9906-93fb5dfff299"},"labelIndex":0,"zIndex":59,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"c34348ea-395e-3258-80cb-60236f55682f","instanceIdentifier":"08c46377-0198-1000-ffff-ffffe3aeaad7","name":"","source":{"id":"81fe2aea-efa9-3d36-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"d5ef8b84-6f91-39ec-9cef-152793b3a37d"},"destination":{"id":"ccbdd7ac-443f-354e-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Resume Standardisation","comments":"","instanceIdentifier":"e194541c-f17c-3a2f-ae0a-f8c13a272e14"},"labelIndex":0,"zIndex":69,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"0dde075b-079d-399e-9754-8941151e96f9","instanceIdentifier":"08c57e05-0198-1000-ffff-ffffea6897a5","name":"","source":{"id":"5a5354d4-274b-3bac-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"08f5f757-e570-3bd6-978c-998ad717db72"},"destination":{"id":"0c586e04-fe29-345b-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"6674509c-7bbb-32b3-a614-a27338eb2c43"},"labelIndex":0,"zIndex":71,"selectedRelationships":["failure","not found"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"9cd9b76e-8c36-348b-a140-55cec1f7e05b","instanceIdentifier":"1c352384-0198-1000-ffff-ffffb392b2e7","name":"","source":{"id":"fe357d32-8443-35de-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Resume Parsing","comments":"","instanceIdentifier":"fa82f3cf-b40d-3320-aaf9-b35db3e0a9ba"},"destination":{"id":"5a5354d4-274b-3bac-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"08f5f757-e570-3bd6-978c-998ad717db72"},"labelIndex":0,"zIndex":79,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"f14c9129-7ffe-3e9b-0000-00001eb25888","instanceIdentifier":"0bab2933-8665-3328-a2e0-deb0b55e94d2","name":"","source":{"id":"386da1d5-56d5-3da5-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"PutFile","comments":"","instanceIdentifier":"deddb897-9e0b-37b5-bba9-1f5ad443e298"},"destination":{"id":"fe357d32-8443-35de-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Resume Parsing","comments":"","instanceIdentifier":"fa82f3cf-b40d-3320-aaf9-b35db3e0a9ba"},"labelIndex":0,"zIndex":17,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"e099c140-6baf-3216-0000-00001eb25888","instanceIdentifier":"97f82705-0571-39c4-9954-44e692d7eb15","name":"","source":{"id":"4c34739e-1a63-3110-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"insert to elastic","comments":"","instanceIdentifier":"269a6cc7-d3e1-3447-ae44-e42bceb41b8f"},"destination":{"id":"6ef7ca93-c4b1-3caa-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"b4f6b991-af28-36bc-96a2-6bae3dec8e68"},"labelIndex":0,"zIndex":29,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"b57ada5a-7e07-36e4-0000-00001eb25888","instanceIdentifier":"4290d625-b2d6-34e1-9275-3964305594bd","name":"","source":{"id":"5a269652-c5b2-3d82-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"UpdateAttribute","comments":"","instanceIdentifier":"324809c0-9680-3a23-8df1-492551c5417b"},"destination":{"id":"4a86f864-ff39-3e52-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"flatten json","comments":"","instanceIdentifier":"4eb84889-b616-3534-aa87-59753182a6bc"},"labelIndex":0,"zIndex":58,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"9597bd4b-589a-36ec-0000-00001eb25888","instanceIdentifier":"6770cc20-6e2f-344d-b1ba-309c6185a6c7","name":"","source":{"id":"33ba0818-d1f3-35ad-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"embedd generation","comments":"","instanceIdentifier":"68cccc79-cb68-3a2b-8e7c-24424e3e1c58"},"destination":{"id":"4c34739e-1a63-3110-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"insert to elastic","comments":"","instanceIdentifier":"269a6cc7-d3e1-3447-ae44-e42bceb41b8f"},"labelIndex":0,"zIndex":13,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"5a3f95be-8d1a-35ee-aa36-ed6460722172","instanceIdentifier":"08ca1659-0198-1000-ffff-ffffc2534c4f","name":"","source":{"id":"1ba3c696-9ad2-3a4e-0000-0000418b8f46","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"HandleHttpResponse","comments":"","instanceIdentifier":"e6f308f8-4f24-32bd-871c-daed443f14a4"},"destination":{"id":"26f4c26d-fe50-3b74-0000-00005923b820","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"3566c138-21d4-3138-a6da-e65ac5bebdd0"},"labelIndex":0,"zIndex":75,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"5b456c1e-9844-38e1-0000-00001eb25888","instanceIdentifier":"52a36aee-77ba-3639-98ff-624afc93d890","name":"","source":{"id":"33ba0818-d1f3-35ad-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"embedd generation","comments":"","instanceIdentifier":"68cccc79-cb68-3a2b-8e7c-24424e3e1c58"},"destination":{"id":"6ef7ca93-c4b1-3caa-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"b4f6b991-af28-36bc-96a2-6bae3dec8e68"},"labelIndex":0,"zIndex":28,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"f18bfd2a-170c-3836-b0db-834e7f08627c","instanceIdentifier":"08c59f87-0198-1000-ffff-ffffd51d336c","name":"","source":{"id":"1af05a26-e0df-34a7-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"FetchFile","comments":"","instanceIdentifier":"e1e5ebe3-ec11-3d93-a0c1-16de40da8a21"},"destination":{"id":"4208be98-85b1-30b7-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"7ecefc76-4658-326c-bbb3-5cab880f629b"},"labelIndex":0,"zIndex":72,"selectedRelationships":["failure","permission.denied","not.found"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"10f84644-c178-3729-8bfb-48df92166b54","instanceIdentifier":"1c32a1af-0198-1000-0000-00006b7615d2","name":"","source":{"id":"4b3de28a-23ac-3bd5-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"1c70e6e8-8889-3939-93bf-bc9c5e9234f5"},"destination":{"id":"5a5354d4-274b-3bac-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"08f5f757-e570-3bd6-978c-998ad717db72"},"labelIndex":0,"zIndex":78,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"7eb2b368-7368-315e-93b2-4e80e31a0506","instanceIdentifier":"08c7f908-0198-1000-ffff-fffffcf6ee5e","name":"","source":{"id":"81fe2aea-efa9-3d36-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"d5ef8b84-6f91-39ec-9cef-152793b3a37d"},"destination":{"id":"4208be98-85b1-30b7-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"7ecefc76-4658-326c-bbb3-5cab880f629b"},"labelIndex":0,"zIndex":73,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"75fc0c34-5a80-38bf-ffff-ffffd05abfe8","instanceIdentifier":"ebdc38f9-790f-3530-83aa-f1a45b342b38","name":"","source":{"id":"1af05a26-e0df-34a7-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"FetchFile","comments":"","instanceIdentifier":"e1e5ebe3-ec11-3d93-a0c1-16de40da8a21"},"destination":{"id":"81fe2aea-efa9-3d36-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"d5ef8b84-6f91-39ec-9cef-152793b3a37d"},"labelIndex":0,"zIndex":36,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"aab11186-c906-3907-0000-00001eb25888","instanceIdentifier":"0c3b0cf9-e6eb-37bb-a21f-6b0716e767f4","name":"","source":{"id":"fe357d32-8443-35de-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Resume Parsing","comments":"","instanceIdentifier":"fa82f3cf-b40d-3320-aaf9-b35db3e0a9ba"},"destination":{"id":"4b3de28a-23ac-3bd5-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"1c70e6e8-8889-3939-93bf-bc9c5e9234f5"},"labelIndex":0,"zIndex":21,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"216e14df-ac75-3d22-b512-2a709b07ee48","instanceIdentifier":"1c3911e3-0198-1000-ffff-ffff94b9ec4f","name":"","source":{"id":"b7fbccc8-dee9-3383-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Insert to elastic","comments":"","instanceIdentifier":"b28824a9-ce68-3ccd-9906-93fb5dfff299"},"destination":{"id":"d1d6fa08-89bc-398d-ffff-ffff8e529a68","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"d9974474-3a9c-3c3f-91a4-13dee97ade69"},"labelIndex":0,"zIndex":80,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"585e44e4-988b-35d7-0000-00001eb25888","instanceIdentifier":"85f05098-a575-32df-aa40-1e32eecfca91","name":"","source":{"id":"386da1d5-56d5-3da5-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"PutFile","comments":"","instanceIdentifier":"deddb897-9e0b-37b5-bba9-1f5ad443e298"},"destination":{"id":"08714692-e927-38c5-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"LogAttribute","comments":"","instanceIdentifier":"7c9e8e5a-6e0c-32ba-ac0d-110117048ff8"},"labelIndex":0,"zIndex":27,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"4da56603-7064-341d-ace6-5b192036e1fe","instanceIdentifier":"08c9f679-0198-1000-ffff-ffffd471bb86","name":"","source":{"id":"b7fbccc8-dee9-3383-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Insert to elastic","comments":"","instanceIdentifier":"b28824a9-ce68-3ccd-9906-93fb5dfff299"},"destination":{"id":"1ba3c696-9ad2-3a4e-0000-0000418b8f46","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"HandleHttpResponse","comments":"","instanceIdentifier":"e6f308f8-4f24-32bd-871c-daed443f14a4"},"labelIndex":0,"zIndex":74,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"77f93cd8-b594-3587-ffff-ffffd05abfe8","instanceIdentifier":"f9fde8aa-1530-3435-bd84-5c001ee37778","name":"","source":{"id":"5a5354d4-274b-3bac-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"08f5f757-e570-3bd6-978c-998ad717db72"},"destination":{"id":"1af05a26-e0df-34a7-ffff-ffffd05abfe8","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"FetchFile","comments":"","instanceIdentifier":"e1e5ebe3-ec11-3d93-a0c1-16de40da8a21"},"labelIndex":0,"zIndex":47,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"},{"identifier":"f6f3f62e-1d14-3a99-0000-00001eb25888","instanceIdentifier":"2aadffe4-1e6b-3907-9998-f9177bd9ddba","name":"","source":{"id":"ccbdd7ac-443f-354e-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"Resume Standardisation","comments":"","instanceIdentifier":"e194541c-f17c-3a2f-ae0a-f8c13a272e14"},"destination":{"id":"5a269652-c5b2-3d82-0000-00001eb25888","type":"PROCESSOR","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"UpdateAttribute","comments":"","instanceIdentifier":"324809c0-9680-3a23-8df1-492551c5417b"},"labelIndex":0,"zIndex":63,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9f356439-5c28-3992-0000-00001eb25888"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","instanceIdentifier":"35a94805-0198-1000-ffff-ffffd3815c27","name":"Searching2","comments":"","position":{"x":1248.0,"y":-944.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c79ee66a-2632-3d92-b791-26acdff0925a","instanceIdentifier":"35b39299-0198-1000-ffff-ffff946c8c57","name":"EvaluateJsonPath","comments":"","position":{"x":432.785518485113,"y":-1000.4603975726891},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-content","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","json.response":"$.candidates[0].content.parts[0].text","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"json.response":{"name":"json.response","displayName":"json.response","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"ee2856bf-866b-3f5a-ae24-b4f34cd937ee","instanceIdentifier":"35ab6865-0198-1000-0000-00000bd35d39","name":"RouteOnAttribute","comments":"","position":{"x":636.785518485113,"y":-1717.460397572689},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Routing Strategy":"Route to Property name","has_payload":"${fileSize:gt(0)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"has_payload":{"name":"has_payload","displayName":"has_payload","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"fb797606-fba2-362f-8b34-49830ed736ac","instanceIdentifier":"35aa8705-0198-1000-ffff-ffffe2a0966f","name":"UpdateAttribute","comments":"","position":{"x":158.78551848511302,"y":-1798.460397572689},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"transaction.id":"${UUID()}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"transaction.id":{"name":"transaction.id","displayName":"transaction.id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"901ebc4e-70ad-3069-ae24-b195a27ad120","instanceIdentifier":"35b0d090-0198-1000-0000-00006054fc2a","name":"InvokeHTTP","comments":"","position":{"x":635.785518485113,"y":-1109.460397572689},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent?key=AIzaSyAOCih46rdkaoKLyRqeNEA7xzYr7Hzs7Co","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"bf2c2619-26e1-3c41-b7ef-88073934f5ec","instanceIdentifier":"35ac1626-0198-1000-ffff-ffff9dc2b44e","name":"EvaluateJsonPath","comments":"","position":{"x":720.0,"y":-1544.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","query.natural_language":"$.query"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"query.natural_language":{"name":"query.natural_language","displayName":"query.natural_language","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"d77f1b9b-e07d-3b70-adf0-cc7cff73c754","instanceIdentifier":"35ade552-0198-1000-0000-00006b430c5c","name":"ReplaceText","comments":"","position":{"x":840.785518485113,"y":-1290.460397572689},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"contents\": [{\n    \"parts\": [{\n      \"text\": \"You are an expert HR query parser. Your task is to analyze the following recruitment query and convert it into a structured JSON object. Extract the required skills, the minimum years of experience for each skill, and any other general keywords. The output MUST be only the JSON object, with no additional text or markdown formatting.\\n\\nHere is the query: '${query.natural_language}'\\n\\nExample Output Format:\\n{\\n  \\\"skills\\\": [{\\\"name\\\": \\\"python\\\", \\\"experience_years\\\": 5, \\\"operator\\\": \\\"gte\\\"}],\\n  \\\"keywords\\\": [\\\"backend\\\", \\\"api\\\"]\\n}\"\n    }]\n  }]\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"}],"inputPorts":[{"identifier":"ecb89bd4-f4de-3c0d-b0ca-d09e96b0d64e","instanceIdentifier":"35a98ed0-0198-1000-ffff-ffffc621d5e0","name":"Search","position":{"x":-9.214481514886984,"y":-1600.460397572689},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"}],"outputPorts":[],"connections":[{"identifier":"72a17302-2de5-3b9a-b6f3-8ddf51f2a4d8","instanceIdentifier":"35b3abc5-0198-1000-ffff-fffff655734d","name":"","source":{"id":"901ebc4e-70ad-3069-ae24-b195a27ad120","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"InvokeHTTP","comments":"","instanceIdentifier":"35b0d090-0198-1000-0000-00006054fc2a"},"destination":{"id":"c79ee66a-2632-3d92-b791-26acdff0925a","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"35b39299-0198-1000-ffff-ffff946c8c57"},"labelIndex":0,"zIndex":6,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"3ec62aec-c731-3e21-ae89-1770e68c0473","instanceIdentifier":"35ae182a-0198-1000-0000-0000057cfbf9","name":"","source":{"id":"bf2c2619-26e1-3c41-b7ef-88073934f5ec","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"35ac1626-0198-1000-ffff-ffff9dc2b44e"},"destination":{"id":"d77f1b9b-e07d-3b70-adf0-cc7cff73c754","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"ReplaceText","comments":"","instanceIdentifier":"35ade552-0198-1000-0000-00006b430c5c"},"labelIndex":0,"zIndex":4,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"f726540d-4db5-3578-943d-cb215e022593","instanceIdentifier":"35b3412c-0198-1000-0000-00000e30b062","name":"","source":{"id":"d77f1b9b-e07d-3b70-adf0-cc7cff73c754","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"ReplaceText","comments":"","instanceIdentifier":"35ade552-0198-1000-0000-00006b430c5c"},"destination":{"id":"901ebc4e-70ad-3069-ae24-b195a27ad120","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"InvokeHTTP","comments":"","instanceIdentifier":"35b0d090-0198-1000-0000-00006054fc2a"},"labelIndex":0,"zIndex":5,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"d62e17cd-2d39-3c91-9b1c-c9cf056b1efe","instanceIdentifier":"35ac3029-0198-1000-0000-00006004f667","name":"","source":{"id":"ee2856bf-866b-3f5a-ae24-b4f34cd937ee","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"RouteOnAttribute","comments":"","instanceIdentifier":"35ab6865-0198-1000-0000-00000bd35d39"},"destination":{"id":"bf2c2619-26e1-3c41-b7ef-88073934f5ec","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"35ac1626-0198-1000-ffff-ffff9dc2b44e"},"labelIndex":0,"zIndex":3,"selectedRelationships":["has_payload"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"ca7715e8-50a3-3686-bbe2-023b9ef3b411","instanceIdentifier":"35ab9029-0198-1000-0000-00000d8a9904","name":"","source":{"id":"fb797606-fba2-362f-8b34-49830ed736ac","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"UpdateAttribute","comments":"","instanceIdentifier":"35aa8705-0198-1000-ffff-ffffe2a0966f"},"destination":{"id":"ee2856bf-866b-3f5a-ae24-b4f34cd937ee","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"RouteOnAttribute","comments":"","instanceIdentifier":"35ab6865-0198-1000-0000-00000bd35d39"},"labelIndex":0,"zIndex":2,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"},{"identifier":"48fdd7b0-8b67-3a40-bc4d-35b92bdc865b","instanceIdentifier":"35aa9603-0198-1000-0000-00005931c6c8","name":"","source":{"id":"ecb89bd4-f4de-3c0d-b0ca-d09e96b0d64e","type":"INPUT_PORT","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"Search","instanceIdentifier":"35a98ed0-0198-1000-ffff-ffffc621d5e0"},"destination":{"id":"fb797606-fba2-362f-8b34-49830ed736ac","type":"PROCESSOR","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"UpdateAttribute","comments":"","instanceIdentifier":"35aa8705-0198-1000-ffff-ffffe2a0966f"},"labelIndex":0,"zIndex":1,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5424cfb1-26c4-3c39-bf56-344a51e2f95c"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab","instanceIdentifier":"a92d51bf-9201-313b-b38c-abc88f9b7acd","name":"fetch all resumes","comments":"","position":{"x":-528.0,"y":-1488.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"69244909-674c-3967-0000-00006b63f6ab","instanceIdentifier":"e08da46e-f1d7-35ad-af46-1d75fe32100a","name":"ScoringTheCandidate","comments":"","position":{"x":904.0,"y":680.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","AZURE_API_VERSION":"#{AZURE_API_VERSION}","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/score.py","Max Attribute Length":"256","AZURE_API_KEY":"#{AZURE_API_KEY}","Output MIME Type":null,"Output Destination Attribute":null,"AZURE_DEPLOYMENT":"#{AZURE_DEPLOYMENT}","AZURE_ENDPOINT":"#{AZURE_ENDPOINT}"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_VERSION":{"name":"AZURE_API_VERSION","displayName":"AZURE_API_VERSION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_KEY":{"name":"AZURE_API_KEY","displayName":"AZURE_API_KEY","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_DEPLOYMENT":{"name":"AZURE_DEPLOYMENT","displayName":"AZURE_DEPLOYMENT","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_ENDPOINT":{"name":"AZURE_ENDPOINT","displayName":"AZURE_ENDPOINT","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"c38c3e26-b790-3bf3-0000-0000687b13e2","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7","name":"LogAttribute","comments":"","position":{"x":200.0,"y":496.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"816bc3b9-9a2b-3143-0000-00006b63f6ab","instanceIdentifier":"775fc98c-3121-3d0e-a026-4bbaec4215af","name":"Fetch Resumes with Python","comments":"","position":{"x":-328.0,"y":136.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/fetch_resumes_all.py; /home/nifi/elastic/elasticsearch-9.0.3/config/certs/elastic.crt"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"cb678d88-33de-3055-0000-00006b63f6ab","instanceIdentifier":"ea5615be-4129-39a0-b912-e24d510538fb","name":"Prefilter Candidates","comments":"","position":{"x":224.0,"y":128.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\nflowFile = session.get()\nif(!flowFile) return\n\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n    def reader = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\n    def slurper = new JsonSlurper()\n    def results = []\n\n    reader.eachLine { line ->\n        if (!line.trim()) return  // skip empty lines\n        def resume = slurper.parseText(line)\n\n        def keywords = (resume.keywords ?: []).collect { it.toLowerCase() }\n\n        def textParts = []\n        textParts << (resume.summary ?: \"\")\n        textParts.addAll(resume.skills ?: [])\n\n        (resume.projects ?: []).each { proj ->\n            textParts << (proj.title ?: \"\")\n            textParts << (proj.description ?: \"\")\n        }\n\n        (resume.certifications ?: []).each { cert ->\n            textParts << (cert.title ?: \"\")\n            textParts << (cert.issuer ?: \"\")\n        }\n\n        (resume.education ?: []).each { edu ->\n            textParts << (edu.degree ?: \"\")\n            textParts << (edu.institution ?: \"\")\n        }\n\n        textParts.addAll(resume.languages ?: [])\n\n        def combinedText = textParts.join(\" \").toLowerCase()\n\n        def matched = keywords.any { kw -> combinedText.contains(kw) }\n\n        resume.matched = matched\n        results << resume\n    }\n\n    def outputJson = JsonOutput.toJson(results)\n    outputStream.write(outputJson.getBytes(StandardCharsets.UTF_8))\n} as StreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"ff9d85b9-7811-3eeb-0000-00006b63f6ab","instanceIdentifier":"1143b98d-bcd6-34f8-b443-16dca85b72b9","name":"EvaluateJsonPath","comments":"","position":{"x":752.0,"y":128.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","matchedAttr":"$.matched","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"matchedAttr":{"name":"matchedAttr","displayName":"matchedAttr","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"18eded7b-4fa9-3156-0000-00002ef97471","instanceIdentifier":"931f5c81-df04-3b79-af2c-517f1a9b5a88","name":"HandleHttpResponse","comments":"","position":{"x":24.0,"y":896.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"e367577d-4c89-375f-986c-73238c16e975","instanceIdentifier":"023fee8a-0198-1000-ffff-ffffce149cc4","name":"QueryRecord","comments":"","position":{"x":896.0,"y":384.0},"type":"org.apache.nifi.processors.standard.QueryRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"dbf-default-precision":"10","matchedOnly":"SELECT * FROM FLOWFILE WHERE matched = true","record-writer":"78fbfc89-e3b8-37c5-be7c-a0930e44d38c","record-reader":"dbce9387-f76c-3489-a67a-09ae664e256f","include-zero-record-flowfiles":"true","dbf-default-scale":"0"},"propertyDescriptors":{"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"matchedOnly":{"name":"matchedOnly","displayName":"matchedOnly","identifiesControllerService":false,"sensitive":false,"dynamic":true},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"}],"inputPorts":[{"identifier":"3d107953-f5e7-3d66-0000-00006b63f6ab","instanceIdentifier":"d959dfab-83ac-325a-a100-317c8a4a30b1","name":"Keywords Input","position":{"x":-432.0,"y":448.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"}],"outputPorts":[],"connections":[{"identifier":"f6acdc83-5186-323f-9657-a34db5a4d003","instanceIdentifier":"17ae67af-0198-1000-ffff-ffff8799d118","name":"","source":{"id":"816bc3b9-9a2b-3143-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Fetch Resumes with Python","comments":"","instanceIdentifier":"775fc98c-3121-3d0e-a026-4bbaec4215af"},"destination":{"id":"c38c3e26-b790-3bf3-0000-0000687b13e2","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"LogAttribute","comments":"","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7"},"labelIndex":0,"zIndex":19,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"49361a5f-17f0-353a-a216-13076756e0bf","instanceIdentifier":"17aea90d-0198-1000-ffff-fffffe1ffcfa","name":"","source":{"id":"ff9d85b9-7811-3eeb-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1143b98d-bcd6-34f8-b443-16dca85b72b9"},"destination":{"id":"c38c3e26-b790-3bf3-0000-0000687b13e2","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"LogAttribute","comments":"","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7"},"labelIndex":0,"zIndex":22,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"ac266116-c58b-331a-97ff-89bc1a5fa7d9","instanceIdentifier":"0240c433-0198-1000-0000-00007f774b28","name":"","source":{"id":"ff9d85b9-7811-3eeb-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1143b98d-bcd6-34f8-b443-16dca85b72b9"},"destination":{"id":"e367577d-4c89-375f-986c-73238c16e975","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"QueryRecord","comments":"","instanceIdentifier":"023fee8a-0198-1000-ffff-ffffce149cc4"},"labelIndex":0,"zIndex":17,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"14b4ba31-a755-308a-0000-00006b63f6ab","instanceIdentifier":"e0288502-ceab-3c77-b1ca-4634e49efe87","name":"","source":{"id":"cb678d88-33de-3055-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Prefilter Candidates","comments":"","instanceIdentifier":"ea5615be-4129-39a0-b912-e24d510538fb"},"destination":{"id":"ff9d85b9-7811-3eeb-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1143b98d-bcd6-34f8-b443-16dca85b72b9"},"labelIndex":0,"zIndex":12,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"fda994ae-bd50-35d1-a2e8-224924e8cf36","instanceIdentifier":"023baaae-0198-1000-ffff-fffffe2dfaad","name":"","source":{"id":"816bc3b9-9a2b-3143-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Fetch Resumes with Python","comments":"","instanceIdentifier":"775fc98c-3121-3d0e-a026-4bbaec4215af"},"destination":{"id":"cb678d88-33de-3055-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Prefilter Candidates","comments":"","instanceIdentifier":"ea5615be-4129-39a0-b912-e24d510538fb"},"labelIndex":0,"zIndex":15,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"4c3a46d3-b2bc-3fc2-b9cb-617314bfac07","instanceIdentifier":"02448489-0198-1000-ffff-ffff99827937","name":"","source":{"id":"e367577d-4c89-375f-986c-73238c16e975","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"QueryRecord","comments":"","instanceIdentifier":"023fee8a-0198-1000-ffff-ffffce149cc4"},"destination":{"id":"69244909-674c-3967-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"ScoringTheCandidate","comments":"","instanceIdentifier":"e08da46e-f1d7-35ad-af46-1d75fe32100a"},"labelIndex":0,"zIndex":18,"selectedRelationships":["matchedOnly"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"a509abe6-cf8a-32ff-af37-28d618c2d6a6","instanceIdentifier":"023e685b-0198-1000-0000-00004fe62419","name":"","source":{"id":"69244909-674c-3967-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"ScoringTheCandidate","comments":"","instanceIdentifier":"e08da46e-f1d7-35ad-af46-1d75fe32100a"},"destination":{"id":"18eded7b-4fa9-3156-0000-00002ef97471","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"HandleHttpResponse","comments":"","instanceIdentifier":"931f5c81-df04-3b79-af2c-517f1a9b5a88"},"labelIndex":0,"zIndex":16,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"321a7b3a-e0ce-3f9f-a97b-dcef9e548fc7","instanceIdentifier":"17aed552-0198-1000-0000-00005a79fa80","name":"","source":{"id":"18eded7b-4fa9-3156-0000-00002ef97471","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"HandleHttpResponse","comments":"","instanceIdentifier":"931f5c81-df04-3b79-af2c-517f1a9b5a88"},"destination":{"id":"c38c3e26-b790-3bf3-0000-0000687b13e2","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"LogAttribute","comments":"","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7"},"labelIndex":0,"zIndex":24,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"5d6a7027-b1d7-33c2-aa8d-f92d8548c012","instanceIdentifier":"17ae7d15-0198-1000-ffff-ffff96daf49a","name":"","source":{"id":"cb678d88-33de-3055-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Prefilter Candidates","comments":"","instanceIdentifier":"ea5615be-4129-39a0-b912-e24d510538fb"},"destination":{"id":"c38c3e26-b790-3bf3-0000-0000687b13e2","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"LogAttribute","comments":"","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7"},"labelIndex":0,"zIndex":20,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"63e6c1e0-25a7-32a1-0000-00006b63f6ab","instanceIdentifier":"4124ac19-0354-3d7d-a86e-e96f2f19f8c0","name":"","source":{"id":"3d107953-f5e7-3d66-0000-00006b63f6ab","type":"INPUT_PORT","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Keywords Input","instanceIdentifier":"d959dfab-83ac-325a-a100-317c8a4a30b1"},"destination":{"id":"816bc3b9-9a2b-3143-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Fetch Resumes with Python","comments":"","instanceIdentifier":"775fc98c-3121-3d0e-a026-4bbaec4215af"},"labelIndex":0,"zIndex":3,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"61d8bd84-dd8c-3d23-8e57-b644cafe6718","instanceIdentifier":"17ae910e-0198-1000-ffff-ffffcd3ee928","name":"","source":{"id":"e367577d-4c89-375f-986c-73238c16e975","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"QueryRecord","comments":"","instanceIdentifier":"023fee8a-0198-1000-ffff-ffffce149cc4"},"destination":{"id":"c38c3e26-b790-3bf3-0000-0000687b13e2","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"LogAttribute","comments":"","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7"},"labelIndex":0,"zIndex":21,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"66e10cd6-bd5d-318e-a2f6-65dc2ca2f3bc","instanceIdentifier":"17aebf5d-0198-1000-ffff-ffffb1a2f4c4","name":"","source":{"id":"69244909-674c-3967-0000-00006b63f6ab","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"ScoringTheCandidate","comments":"","instanceIdentifier":"e08da46e-f1d7-35ad-af46-1d75fe32100a"},"destination":{"id":"c38c3e26-b790-3bf3-0000-0000687b13e2","type":"PROCESSOR","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"LogAttribute","comments":"","instanceIdentifier":"f3fec9e6-2bff-382c-a057-aae09affbbd7"},"labelIndex":0,"zIndex":23,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"}],"labels":[{"identifier":"463c0ebd-f76e-3083-ffff-ffffc65e66fb","instanceIdentifier":"7a046dc7-bba6-3f07-a2c7-db582b87c33b","position":{"x":-1120.0,"y":-1344.0},"label":"Retailoring with JD","zIndex":1,"width":150.0,"height":150.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"}],"funnels":[],"controllerServices":[{"identifier":"78fbfc89-e3b8-37c5-be7c-a0930e44d38c","instanceIdentifier":"0242e6a2-0198-1000-ffff-ffffbaee2816","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.4.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-version":null,"schema-text":"${avro.schema}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"},{"identifier":"dbce9387-f76c-3489-a67a-09ae664e256f","instanceIdentifier":"02425ddc-0198-1000-ffff-ffffd167909d","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.4.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Max String Length":"20 MB","schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}","Allow Comments":"false"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Comments":{"name":"Allow Comments","displayName":"Allow Comments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"96c6da00-3a76-3ef8-0000-00006b63f6ab"}],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"}],"remoteProcessGroups":[],"processors":[{"identifier":"a99a8cd6-47af-3f30-ffff-ffff89063396","instanceIdentifier":"9dbb6d38-798b-30ec-abd6-fb6e09cf38c2","name":"LogAttribute","comments":"","position":{"x":1584.0,"y":1624.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e59e95f3-4d18-3461-0000-0000142ba0bf","instanceIdentifier":"e259039c-bf13-3a3a-940f-062ad0d8fa3b","name":"ExecuteStreamCommand","comments":"","position":{"x":456.0,"y":-288.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/yogesh/code","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/code/keyword_search.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e548875f-d2aa-3276-0000-0000142ba0bf","instanceIdentifier":"060a67db-1354-365f-b713-90e43e202053","name":"ExecuteGroovyScript","comments":"","position":{"x":464.0,"y":-448.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import org.apache.nifi.processor.io.InputStreamCallback\nimport org.apache.nifi.processor.io.OutputStreamCallback\nimport java.nio.charset.StandardCharsets\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport java.net.URL\nimport java.net.HttpURLConnection\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef queryText = new StringBuilder()\n\n// Step 1: Read user query from FlowFile content\nsession.read(flowFile, { inputStream ->\n    queryText.append(inputStream.getText(StandardCharsets.UTF_8.name()))\n} as InputStreamCallback)\n\ndef inputQuery = queryText.toString().trim()\n\n// Step 2: Prepare Azure OpenAI call for Boolean keyword conversion\ndef apiKey = ''\ndef endpoint = 'https://us-tax-law-rag-demo.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-08-01-preview'\n\ndef requestBody = JsonOutput.toJson([\n    messages: [\n        [role: \"system\", content: \"Convert the following query into a Boolean logic string using AND, OR, NOT. Only include actual skill or person keywords. Example: 'python and nlp not django' → 'python AND nlp NOT django'. Return only the Boolean expression. Do not use any /n in the output\"],\n        [role: \"user\", content: inputQuery]\n    ],\n    max_tokens: 50,\n    temperature: 0.2\n])\n\ndef connection = new URL(endpoint).openConnection() as HttpURLConnection\nconnection.setRequestMethod(\"POST\")\nconnection.setRequestProperty(\"Content-Type\", \"application/json\")\nconnection.setRequestProperty(\"api-key\", apiKey)\nconnection.setDoOutput(true)\n\nconnection.outputStream.withWriter(\"UTF-8\") { writer ->\n    writer.write(requestBody)\n}\n\ndef responseText = connection.inputStream.getText(\"UTF-8\")\ndef booleanQuery = new JsonSlurper().parseText(responseText).choices[0].message.content.trim()\n\n// Step 3: Write Boolean query to output FlowFile\ndef outputJson = JsonOutput.toJson([\n    original_query: inputQuery,\n    boolean_query: booleanQuery\n])\n\nflowFile = session.write(flowFile, { out ->\n    out.write(outputJson.getBytes(StandardCharsets.UTF_8))\n} as OutputStreamCallback)\n\nflowFile = session.putAttribute(flowFile, \"boolean_query\", booleanQuery)\n\nsession.transfer(flowFile, REL_SUCCESS)\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"69249b6e-9687-31aa-ffff-ffffd8f15d8c","instanceIdentifier":"d827fbdd-3270-3e12-b4d0-40e9a740494e","name":"Log LLM Usage","comments":"","position":{"x":752.0,"y":-2144.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Evaluate Expression Language":"True","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/HRBot_Usage_Log.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluate Expression Language":{"name":"Evaluate Expression Language","displayName":"Evaluate Expression Language","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["output stream","original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"02fa968e-a606-3abf-0000-0000142ba0bf","instanceIdentifier":"a7608b61-a413-365d-9522-b5b005ff8cf1","name":"retriever","comments":"","position":{"x":88.0,"y":16.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/yogesh/code","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/code/retriever.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ab352eae-3a08-3e12-bef2-8296e95a15c7","instanceIdentifier":"e89b6f19-0197-1000-0000-00004b982202","name":"HandleHttpResponse","comments":"","position":{"x":-984.0,"y":-1680.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":"resume-json","HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c0f1b92c-dbb2-3ae5-ffff-fffffc55c049","instanceIdentifier":"2b9d10f5-37a0-3ca5-bed4-371ea2ed8361","name":"HandleHttpResponse","comments":"","position":{"x":1016.0,"y":-408.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ec3c5f16-c56b-36de-9490-531c7f43e446","instanceIdentifier":"6412f941-0198-1000-ffff-ffffb32ca2ce","name":"ReplaceText","comments":"","position":{"x":752.0,"y":-1952.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"timestamp\":\"${now():format(\"yyyy-MM-dd'T'HH:mm:ss\")}\", \"endpoint\":\"${http.request.uri}\", \"ip\":\"${http.remote.addr}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"8ef6483f-3bf0-33c7-ffff-ffff89063396","instanceIdentifier":"8d354a49-7fd9-31aa-8df8-ee1ec797c2ba","name":"Remove Uploaded Resume No longer needed","comments":"","position":{"x":2024.0,"y":-560.0},"type":"org.apache.nifi.processors.standard.DeleteFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Filename":"${filename}","Directory Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data"},"propertyDescriptors":{"Filename":{"name":"Filename","displayName":"Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory Path":{"name":"Directory Path","displayName":"Directory Path","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"8bbb373d-9fa7-38b0-ffff-ffff89063396","instanceIdentifier":"4bf9c058-b25a-324e-8357-abb06156c528","name":"LogAttribute","comments":"","position":{"x":2384.0,"y":-1152.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"f37f1775-0a8a-3f35-ffff-fffffbedc211","instanceIdentifier":"2c61f9cd-94c0-364a-8b66-171020776ab1","name":"EvaluateJsonPath","comments":"","position":{"x":-72.0,"y":-1008.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","identifier":"$.identifier","job_description":"$.job_description","Max String Length":"20 MB","Return Type":"json","identifier_type":"$.identifier_type","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"identifier":{"name":"identifier","displayName":"identifier","identifiesControllerService":false,"sensitive":false,"dynamic":true},"job_description":{"name":"job_description","displayName":"job_description","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"identifier_type":{"name":"identifier_type","displayName":"identifier_type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"35327f49-44e1-379f-ffff-ffff822e7409","instanceIdentifier":"396007b5-0f33-3427-a625-142a7e1175e1","name":"LogAttribute","comments":"","position":{"x":4104.0,"y":368.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"f99c2fb5-4773-32bc-ffff-ffff8b34c5f6","instanceIdentifier":"ef018b43-debf-3d4a-b8b7-01e09ed35954","name":"ExecuteStreamCommand","comments":"","position":{"x":1960.0,"y":-1848.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/elastic_db_delete.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"8d12cef2-bb4b-32ed-ffff-ffffe00946a3","instanceIdentifier":"76c181e3-b082-33f5-b8f1-4712544f449e","name":"flatten again","comments":"","position":{"x":2192.0,"y":1816.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\ndef flowFile = session.get()\nif (!flowFile) return\n\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n\n    def inputText = inputStream.getText(StandardCharsets.UTF_8.name())\n    def inputJson = new JsonSlurper().parseText(inputText)\n\n    def filename = inputJson.filename ?: \"unknown.txt\"\n    def rawText = inputJson.text ?: \"\"\n    def totalExp = inputJson?.experience?.total_experience ?: \"N/A\"\n    def skillsExpMap = inputJson?.experience?.skills_experience ?: [:]\n\n    // Build appended experience text\n    def experienceText = \"\\n\\n--- EXPERIENCE SUMMARY ---\\n\"\n    experienceText += \"Total Experience: ${totalExp}\\n\"\n    if (skillsExpMap && skillsExpMap instanceof Map) {\n        experienceText += \"Skill-wise Experience:\\n\"\n        skillsExpMap.each { skill, duration ->\n            experienceText += \"- ${skill}: ${duration}\\n\"\n        }\n    }\n\n    def finalText = rawText + experienceText\n\n    def outputJson = [\n        filename: filename,\n        text    : finalText.trim()\n    ]\n\n    def result = JsonOutput.prettyPrint(JsonOutput.toJson(outputJson))\n    outputStream.write(result.getBytes(StandardCharsets.UTF_8))\n\n} as StreamCallback)\n\nflowFile = session.putAttribute(flowFile, \"resume.flattened\", \"true\")\nsession.transfer(flowFile, REL_SUCCESS)\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"41cdd101-483f-3f40-9723-d60a9582a17e","instanceIdentifier":"3122b3f0-0198-1000-0000-00002d3adad3","name":"LogAttribute","comments":"","position":{"x":4504.0,"y":1192.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"5cf14311-4fc6-3d72-0000-00007ef65e7d","instanceIdentifier":"34e2dded-c1f5-36a5-a992-b2dd4350d21b","name":"EvaluateJsonPath","comments":"","position":{"x":-48.0,"y":-1200.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","identifier":"$.identifier","Max String Length":"20 MB","Return Type":"json","identifier_type":"$.identifier_type","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"identifier":{"name":"identifier","displayName":"identifier","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"identifier_type":{"name":"identifier_type","displayName":"identifier_type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"2a602f4b-2e1b-3d22-ffff-ffff9c29e781","instanceIdentifier":"09e0b3be-75ab-3149-a06a-700f48d88ea2","name":"ExecuteStreamCommand","comments":"","position":{"x":792.0,"y":-944.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/yogesh/code","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/search.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"63ef47d4-c4f3-3fb9-ffff-ffffe5b97f80","instanceIdentifier":"29524231-a775-3efc-b7d3-a533f06de257","name":"Retailor Resume","comments":"","position":{"x":-976.0,"y":-1080.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","AZURE_API_VERSION":"#{AZURE_API_VERSION}","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/retailor_resume_nojd.py","Max Attribute Length":"256","AZURE_API_KEY":"#{AZURE_API_KEY}","Output MIME Type":null,"Output Destination Attribute":null,"AZURE_DEPLOYMENT":"#{AZURE_DEPLOYMENT}","AZURE_ENDPOINT":"#{AZURE_ENDPOINT}"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_VERSION":{"name":"AZURE_API_VERSION","displayName":"AZURE_API_VERSION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_KEY":{"name":"AZURE_API_KEY","displayName":"AZURE_API_KEY","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_DEPLOYMENT":{"name":"AZURE_DEPLOYMENT","displayName":"AZURE_DEPLOYMENT","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_ENDPOINT":{"name":"AZURE_ENDPOINT","displayName":"AZURE_ENDPOINT","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"09f0df3f-0580-32b0-ffff-ffff89063396","instanceIdentifier":"8b8c2f15-f3df-31e0-8227-3fc2398f607b","name":"PutFile","comments":"","position":{"x":1856.0,"y":-1064.0},"type":"org.apache.nifi.processors.standard.PutFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":"664","Maximum File Count":null,"Last Modified Time":null,"Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"3bbb7e4b-3f1e-3128-ffff-ffff89063396","instanceIdentifier":"3364bbff-6f3f-35c3-9061-765124c7b68c","name":"Resume Parsing","comments":"","position":{"x":1968.0,"y":-824.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"true","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/resume_parser.py;/home/nifi/nifi2/users/dhruv/hrbotingestion/data/${filename}"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"5ae769ad-7b63-376e-0000-00005bd06be9","instanceIdentifier":"90b01c4f-6c6e-3ea4-8436-6181c9c9d04a","name":"Fetch Resume from Elastic","comments":"","position":{"x":-976.0,"y":-856.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","AZURE_API_VERSION":"#{AZURE_API_VERSION}","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/fetch_resumes.py","Max Attribute Length":"256","AZURE_API_KEY":"#{AZURE_API_KEY}","Output MIME Type":null,"Output Destination Attribute":null,"AZURE_DEPLOYMENT":"#{AZURE_DEPLOYMENT}","AZURE_ENDPOINT":"#{AZURE_ENDPOINT}"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_VERSION":{"name":"AZURE_API_VERSION","displayName":"AZURE_API_VERSION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_API_KEY":{"name":"AZURE_API_KEY","displayName":"AZURE_API_KEY","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_DEPLOYMENT":{"name":"AZURE_DEPLOYMENT","displayName":"AZURE_DEPLOYMENT","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_ENDPOINT":{"name":"AZURE_ENDPOINT","displayName":"AZURE_ENDPOINT","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1399d99c-7e33-33f6-ffff-ffff89063396","instanceIdentifier":"11a458c1-1e65-3c1e-8bea-68ad5c1b1a1f","name":"EvaluateJsonPath","comments":"","position":{"x":2152.0,"y":-8.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","filename":"$.file","Max String Length":"20 MB","Return Type":"auto-detect","contetn_llama":"$.content.llama","cotent_ocr":"$.content.ocr","Null Value Representation":"empty string","links":"$.links","Character Set":"UTF-8","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"contetn_llama":{"name":"contetn_llama","displayName":"contetn_llama","identifiesControllerService":false,"sensitive":false,"dynamic":true},"cotent_ocr":{"name":"cotent_ocr","displayName":"cotent_ocr","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"links":{"name":"links","displayName":"links","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e2359023-4162-3347-ffff-ffff9cb15c65","instanceIdentifier":"c9664769-ecd8-307a-8df2-6ef4ea2eee94","name":"LogAttribute","comments":"","position":{"x":-176.0,"y":-776.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1eced8a6-75da-3f99-ffff-ffff89063396","instanceIdentifier":"d44096b4-0df3-35f5-a8fb-f011647d5528","name":"LogAttribute","comments":"","position":{"x":2576.0,"y":-888.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"d0de29a9-20ff-3819-ffff-ffffe00946a3","instanceIdentifier":"153e0b11-cb39-3321-a49a-59616154a092","name":"insert to elastic","comments":"","position":{"x":2272.0,"y":2544.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/yogesh/code","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/code/insert.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["output stream"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a8992021-ecc3-3ef3-884a-5c59cc565b0d","instanceIdentifier":"601b85db-0198-1000-ffff-ffffa271e0fb","name":"AttributesToJSON","comments":"","position":{"x":2960.0,"y":320.0},"type":"org.apache.nifi.processors.standard.AttributesToJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"attributes-to-json-regex":null,"Destination":"flowfile-content","Null Value":"false","Attributes List":"employee_id,llm_model,llm_prompt_tokens,llm_completion_tokens,llm_total_tokens,llm_total_cost","Pretty Print":"false","Include Core Attributes":"false","JSON Handling Strategy":"ESCAPED"},"propertyDescriptors":{"attributes-to-json-regex":{"name":"attributes-to-json-regex","displayName":"Attributes Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value":{"name":"Null Value","displayName":"Null Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes List":{"name":"Attributes List","displayName":"Attributes List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print":{"name":"Pretty Print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Include Core Attributes":{"name":"Include Core Attributes","displayName":"Include Core Attributes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JSON Handling Strategy":{"name":"JSON Handling Strategy","displayName":"JSON Handling Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233","name":"RouteOnAttribute","comments":"","position":{"x":616.0,"y":-1320.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"skills":"${http.request.uri:equals('/skills')}","add":"${http.request.uri:equals('/add')}","view":"${http.request.uri:equals('/view')}","search":"${http.request.uri:equals('/search')}","Routing Strategy":"Route to Property name","search2":"${http.request.uri:equals('/search2')}","upload2":"${http.request.uri:equals('/upload2')}","bulk":"${http.request.uri:equals('/bulk')}","delete":"${http.request.uri:equals('/delete')}","makeresume":"${http.request.uri:equals('/makeresume')}"},"propertyDescriptors":{"skills":{"name":"skills","displayName":"skills","identifiesControllerService":false,"sensitive":false,"dynamic":true},"add":{"name":"add","displayName":"add","identifiesControllerService":false,"sensitive":false,"dynamic":true},"view":{"name":"view","displayName":"view","identifiesControllerService":false,"sensitive":false,"dynamic":true},"search":{"name":"search","displayName":"search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"search2":{"name":"search2","displayName":"search2","identifiesControllerService":false,"sensitive":false,"dynamic":true},"upload2":{"name":"upload2","displayName":"upload2","identifiesControllerService":false,"sensitive":false,"dynamic":true},"bulk":{"name":"bulk","displayName":"bulk","identifiesControllerService":false,"sensitive":false,"dynamic":true},"delete":{"name":"delete","displayName":"delete","identifiesControllerService":false,"sensitive":false,"dynamic":true},"makeresume":{"name":"makeresume","displayName":"makeresume","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["search2","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"494594bb-eb58-3a95-be61-1341d648dda6","instanceIdentifier":"31209dc8-0198-1000-0000-00001eb649e3","name":"RouteOnContent","comments":"","position":{"x":3680.0,"y":1384.0},"type":"org.apache.nifi.processors.standard.RouteOnContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Content Buffer Size":"1 MB","wait":"wait_flag","green":"Succesfully_uploaded","Match Requirement":"content must contain match","Character Set":"UTF-8"},"propertyDescriptors":{"Content Buffer Size":{"name":"Content Buffer Size","displayName":"Content Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"wait":{"name":"wait","displayName":"wait","identifiesControllerService":false,"sensitive":false,"dynamic":true},"green":{"name":"green","displayName":"green","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Match Requirement":{"name":"Match Requirement","displayName":"Match Requirement","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c643f9f8-4907-3720-ffff-ffffe00946a3","instanceIdentifier":"68be6524-2b88-3691-ab8d-39cb309833f9","name":"flatten json","comments":"","position":{"x":2048.0,"y":1192.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport org.apache.nifi.processor.io.*\nimport java.nio.charset.StandardCharsets\n\n// Recursive flattener\ndef flattenMap(map, prefix = '', collector = []) {\n    map.each { k, v ->\n        def key = prefix ? \"${prefix}.${k}\" : \"${k}\"\n        if (v instanceof Map) {\n            flattenMap(v, key, collector)\n        } else if (v instanceof List) {\n            v.eachWithIndex { item, i ->\n                flattenMap([(i): item], key, collector)\n            }\n        } else {\n            collector << \"${key}=${v}\"\n        }\n    }\n    return collector\n}\n\nflowFile = session.get()\nif (!flowFile) return\n\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n\n    def json = new JsonSlurper().parse(inputStream)\n    def employeeId = json.employee_id ?: \"unknown\"\n    def filename = \"${employeeId}.txt\"\n\n    def flattenedList = flattenMap(json)\n    def textField = \"{\" + flattenedList.join(\", \") + \"}\"\n\n    def skillsStr = (json.skills ?: []).join(\", \")\n\n    def outputJson = [\n        filename: filename,\n        text    : textField,\n        skills  : skillsStr\n    ]\n\n    def resultStr = JsonOutput.toJson(outputJson)\n    outputStream.write(resultStr.getBytes(StandardCharsets.UTF_8))\n\n} as StreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"2d498dc9-2af4-3caa-0000-000023896563","instanceIdentifier":"ee25b2ef-c974-3747-870b-9a2c57df46a8","name":"retriever","comments":"","position":{"x":-312.0,"y":-96.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/yogesh/codes_split","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/codes_split/retrieve.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"2b7d0831-6551-378f-0000-0000142ba0bf","instanceIdentifier":"6a821153-0b54-3154-b462-d719fc3ffdb9","name":"embedd generation","comments":"","position":{"x":96.0,"y":-296.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AWS_REGION":"us-west-2","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/yogesh/codes","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/codes/embedding.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"EMBEDDING_PROVIDER":"azure","EMBEDDING_MODEL":"text-embedding-ada-002","AZURE_OPENAI_EMBEDDING_MODEL":"text-embedding-ada-002"},"propertyDescriptors":{"AWS_REGION":{"name":"AWS_REGION","displayName":"AWS_REGION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_KEY":{"name":"AZURE_OPENAI_KEY","displayName":"AZURE_OPENAI_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_ENDPOINT":{"name":"AZURE_OPENAI_ENDPOINT","displayName":"AZURE_OPENAI_ENDPOINT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"EMBEDDING_PROVIDER":{"name":"EMBEDDING_PROVIDER","displayName":"EMBEDDING_PROVIDER","identifiesControllerService":false,"sensitive":false,"dynamic":true},"EMBEDDING_MODEL":{"name":"EMBEDDING_MODEL","displayName":"EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_EMBEDDING_MODEL":{"name":"AZURE_OPENAI_EMBEDDING_MODEL","displayName":"AZURE_OPENAI_EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_API_VERSION":{"name":"AZURE_OPENAI_API_VERSION","displayName":"AZURE_OPENAI_API_VERSION","identifiesControllerService":false,"sensitive":true,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"dba5d071-760a-34f7-0000-000056ae1938","instanceIdentifier":"abf0932e-18b5-3a5b-8086-20f4304bcee1","name":"LogAttribute","comments":"","position":{"x":272.0,"y":-1984.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"bff29fcc-4263-36bb-ffff-ffff89063396","instanceIdentifier":"710dad36-614d-37b7-ac4f-fb0b6f85d4d6","name":"LogAttribute","comments":"","position":{"x":2728.0,"y":-392.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e2e5a3cf-a4e3-36f8-ffff-ffffe00946a3","instanceIdentifier":"8f381aec-c566-3986-b1ba-be2523d52c37","name":"Add experience","comments":"","position":{"x":2192.0,"y":1576.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.net.URL\nimport java.net.HttpURLConnection\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    flowFile = session.write(flowFile, { inputStream, outputStream ->\n\n        def jsonText = inputStream.getText(StandardCharsets.UTF_8.name())\n        def inputJson = new JsonSlurper().parseText(jsonText)\n\n        def resumeText = inputJson.text ?: \"\"\n        def skillList = inputJson.skills ?: \"\"\n\n        // Build prompt for LLM\n        def prompt = \"\"\"\nYou are a resume analysis assistant. Given the following resume and skills list, extract:\n1. The total professional experience duration.\n2. The experience duration for each skill listed.\n\nReturn strictly valid JSON in the format:\n{\n  \"total_experience\": \"X years\",\n  \"skills_experience\": {\n    \"Skill1\": \"X years\",\n    \"Skill2\": \"Y months\",\n    ...\n  }\n}\nNo explanations, only JSON.\nResume Text:\n${resumeText}\n\nSkills:\n${skillList}\n\"\"\"\n\n        // Prepare LLM call\n        def apiKey = ''\n        def endpoint = 'https://us-tax-law-rag-demo.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-08-01-preview'\n        def payload = JsonOutput.toJson([\n            messages: [\n                [role: \"system\", content: \"You are a helpful assistant.\"],\n                [role: \"user\", content: prompt.trim()]\n            ],\n            temperature: 0.2\n        ])\n\n        // Send HTTP POST request\n        def conn = new URL(endpoint).openConnection() as HttpURLConnection\n        conn.setRequestMethod(\"POST\")\n        conn.setRequestProperty(\"Content-Type\", \"application/json\")\n        conn.setRequestProperty(\"api-key\", apiKey)\n        conn.setDoOutput(true)\n        conn.outputStream.withWriter(\"UTF-8\") { it.write(payload) }\n\n        def responseText = conn.inputStream.getText(\"UTF-8\")\n        def llmContent = new JsonSlurper().parseText(responseText)?.choices?.getAt(0)?.message?.content?.trim()\n\n        // Parse LLM response (strip markdown if needed)\n        def experienceData\n        try {\n            def cleaned = llmContent?.replaceAll(\"(?s)```json\\\\s*(\\\\{.*?\\\\})\\\\s*```\", \"\\$1\")\n            experienceData = new JsonSlurper().parseText(cleaned)\n        } catch (Exception e) {\n            experienceData = [error: \"Invalid LLM JSON\", raw: llmContent]\n        }\n\n        // Attach experience to output JSON\n        inputJson[\"experience\"] = experienceData\n\n        // Write back to FlowFile\n        outputStream.write(JsonOutput.prettyPrint(JsonOutput.toJson(inputJson)).getBytes(StandardCharsets.UTF_8))\n    } as StreamCallback)\n\n    flowFile = session.putAttribute(flowFile, \"resume.enrichment\", \"success\")\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"❌ Failed to enrich resume experience: \", e)\n    flowFile = session.putAttribute(flowFile, \"resume.enrichment\", \"failed\")\n    session.transfer(flowFile, REL_FAILURE)\n}\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"d7a9e0fe-bcf2-37db-0000-00006aac04e8","instanceIdentifier":"3a9a3040-d110-3434-9dc4-960d748780f5","name":"LogAttribute","comments":"","position":{"x":432.0,"y":-1720.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c7ab161a-8512-3e01-0000-0000142ba0bf","instanceIdentifier":"8bf9e1ae-42d8-39ba-8875-214d600b88a6","name":"filter embedding","comments":"","position":{"x":96.0,"y":-136.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\nimport org.apache.commons.io.IOUtils\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n    def input = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n    def json = new JsonSlurper().parseText(input)\n\n    // Extract embedding array\n    def embeddingArray = json[\"embedding\"]\n\n    // Create output JSON\n    def outputJson = [query_vector: embeddingArray]\n    outputStream.write(JsonOutput.toJson(outputJson).getBytes(StandardCharsets.UTF_8))\n} as StreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ee88240f-4b0c-3b80-ffff-ffff89063396","instanceIdentifier":"f4e987c7-4985-3c42-9941-c51e39eafdb8","name":"LogAttribute","comments":"","position":{"x":3056.0,"y":-216.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"614215b2-eff1-3946-ffff-ffffe00946a3","instanceIdentifier":"ec5af142-4c87-3236-904d-148417a24729","name":"embedd generation","comments":"","position":{"x":2280.0,"y":2136.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AWS_REGION":"us-west-2","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/yogesh/code","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/code/embedding.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"EMBEDDING_PROVIDER":"azure","EMBEDDING_MODEL":"text-embedding-ada-002","AZURE_OPENAI_EMBEDDING_MODEL":"text-embedding-ada-002"},"propertyDescriptors":{"AWS_REGION":{"name":"AWS_REGION","displayName":"AWS_REGION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_KEY":{"name":"AZURE_OPENAI_KEY","displayName":"AZURE_OPENAI_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_ENDPOINT":{"name":"AZURE_OPENAI_ENDPOINT","displayName":"AZURE_OPENAI_ENDPOINT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"EMBEDDING_PROVIDER":{"name":"EMBEDDING_PROVIDER","displayName":"EMBEDDING_PROVIDER","identifiesControllerService":false,"sensitive":false,"dynamic":true},"EMBEDDING_MODEL":{"name":"EMBEDDING_MODEL","displayName":"EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_EMBEDDING_MODEL":{"name":"AZURE_OPENAI_EMBEDDING_MODEL","displayName":"AZURE_OPENAI_EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_API_VERSION":{"name":"AZURE_OPENAI_API_VERSION","displayName":"AZURE_OPENAI_API_VERSION","identifiesControllerService":false,"sensitive":true,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"f8050c3c-a87c-3875-0000-0000142ba0bf","instanceIdentifier":"b4276b07-7cb1-30bc-bc70-c9f288baaabd","name":"HandleHttpResponse","comments":"","position":{"x":448.0,"y":-120.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c3bcd75f-8b97-3489-0000-00004bb8abf0","instanceIdentifier":"ddc33201-cfd0-382b-bcde-5bd5a7ba6cb0","name":"LogAttribute","comments":"","position":{"x":-1656.0,"y":-1320.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"4e8afd9c-c981-3e5c-0000-000063209b6c","instanceIdentifier":"16cf0025-42a0-3e94-810c-0e34195e8352","name":"check counter","comments":"","position":{"x":3184.0,"y":1256.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Redirect Error Stream":"true","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/check_counter.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Redirect Error Stream":{"name":"Redirect Error Stream","displayName":"Redirect Error Stream","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"95f614d6-645f-3e60-0000-0000542991ae","instanceIdentifier":"38a85cda-c92c-35fb-ae68-509119825aac","name":"Insert to elastic","comments":"","position":{"x":2688.0,"y":968.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":" ","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/elastic_db_update.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ef620cf8-ce44-3661-0000-00007cd455c4","instanceIdentifier":"67b1fc13-19ba-3459-9768-e40390e26e9c","name":"Handle HTTP Request","comments":"","position":{"x":624.0,"y":-1560.0},"type":"org.apache.nifi.processors.standard.HandleHttpRequest","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"multipart-request-max-size":"10 MB","parameters-to-attributes":null,"Allow POST":"true","Hostname":"0.0.0.0","Default URL Character Set":"UTF-8","Allow DELETE":"false","Request Header Maximum Size":"8 KB","Maximum Threads":"200","HTTP Protocols":"HTTP_1_1","Additional HTTP Methods":null,"container-queue-size":"50","HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","multipart-read-buffer-size":"2 MB","SSL Context Service":null,"Allow OPTIONS":"false","Allowed Paths":"/.*","Allow GET":"false","Allow HEAD":"false","Listening Port":"8083","Client Authentication":"No Authentication","Allow PUT":"false"},"propertyDescriptors":{"multipart-request-max-size":{"name":"multipart-request-max-size","displayName":"Multipart Request Max Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"parameters-to-attributes":{"name":"parameters-to-attributes","displayName":"Parameters to Attributes List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow POST":{"name":"Allow POST","displayName":"Allow POST","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Hostname":{"name":"Hostname","displayName":"Hostname","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Default URL Character Set":{"name":"Default URL Character Set","displayName":"Default URL Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow DELETE":{"name":"Allow DELETE","displayName":"Allow DELETE","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Maximum Size":{"name":"Request Header Maximum Size","displayName":"Request Header Maximum Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Threads":{"name":"Maximum Threads","displayName":"Maximum Threads","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Protocols":{"name":"HTTP Protocols","displayName":"HTTP Protocols","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Additional HTTP Methods":{"name":"Additional HTTP Methods","displayName":"Additional HTTP Methods","identifiesControllerService":false,"sensitive":false,"dynamic":false},"container-queue-size":{"name":"container-queue-size","displayName":"Container Queue Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"multipart-read-buffer-size":{"name":"multipart-read-buffer-size","displayName":"Multipart Read Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Allow OPTIONS":{"name":"Allow OPTIONS","displayName":"Allow OPTIONS","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allowed Paths":{"name":"Allowed Paths","displayName":"Allowed Paths","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow GET":{"name":"Allow GET","displayName":"Allow GET","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow HEAD":{"name":"Allow HEAD","displayName":"Allow HEAD","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Listening Port":{"name":"Listening Port","displayName":"Listening Port","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Client Authentication":{"name":"Client Authentication","displayName":"Client Authentication","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow PUT":{"name":"Allow PUT","displayName":"Allow PUT","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"76969da1-81c1-3053-ffff-fffff263f631","instanceIdentifier":"8a89ac90-78a8-3f08-971c-3c2c26eb7d8b","name":"DocxConversion","comments":"","position":{"x":-984.0,"y":-1272.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/docx_utils.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"771adbc6-9a0b-38c1-ffff-ffffd023b7ca","instanceIdentifier":"eb04836c-fb65-31ce-a3f3-9c443558e373","name":"Fetch Resume from Elastic","comments":"","position":{"x":-32.0,"y":-1408.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Output MIME Type":null,"Working Directory":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/kushagra/MCP_HR_BOT/fetch_resumes.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"36d41513-ea9b-3222-ffff-ffff8b34c5f6","instanceIdentifier":"91aa8f69-e8ee-35b5-8937-d07ee7f38da7","name":"HandleHttpResponse","comments":"","position":{"x":2552.0,"y":-2016.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":"uploaded successfully","HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"5356c913-1cd4-32ab-ffff-ffff89063396","instanceIdentifier":"96cbc686-7ec7-36fb-a1ca-0470836f6bb8","name":"FetchFile","comments":"","position":{"x":1944.0,"y":-312.0},"type":"org.apache.nifi.processors.standard.FetchFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Move Conflict Strategy":"Rename","Log level when file not found":"ERROR","Move Destination Directory":null,"Log level when permission denied":"ERROR","File to Fetch":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data/${filename:replaceAll('\\\\.[^.]+$', '.json')}","Completion Strategy":"None"},"propertyDescriptors":{"Move Conflict Strategy":{"name":"Move Conflict Strategy","displayName":"Move Conflict Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log level when file not found":{"name":"Log level when file not found","displayName":"Log level when file not found","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Move Destination Directory":{"name":"Move Destination Directory","displayName":"Move Destination Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log level when permission denied":{"name":"Log level when permission denied","displayName":"Log level when permission denied","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File to Fetch":{"name":"File to Fetch","displayName":"File to Fetch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Completion Strategy":{"name":"Completion Strategy","displayName":"Completion Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a0908060-b536-32f7-0000-0000713bdac7","instanceIdentifier":"975451dd-5688-335a-a0d3-2fe9ce7ec016","name":"LogAttribute","comments":"","position":{"x":1488.0,"y":-696.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"65d56b3e-850b-350e-ffff-ffff8b34c5f6","instanceIdentifier":"ef07a6e1-b401-365f-8143-9e84f36801c8","name":"LogAttribute","comments":"","position":{"x":1920.0,"y":-2088.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"bbe547d9-ad1a-36f6-95c6-0ffb147e3525","instanceIdentifier":"551ac9c6-0198-1000-0000-00005efc364e","name":"RouteOnAttribute","comments":"","position":{"x":2776.0,"y":1176.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"add":"${http.request.uri:equals('/add')}","Routing Strategy":"Route to Property name","bulk":"${http.request.uri:equals('/bulk')}"},"propertyDescriptors":{"add":{"name":"add","displayName":"add","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"bulk":{"name":"bulk","displayName":"bulk","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"220964a2-ac82-3833-0000-00001659d879","instanceIdentifier":"5f6d995d-47f6-37fc-b6aa-189d21f8ab23","name":"HandleHttpResponse","comments":"","position":{"x":4160.0,"y":1496.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7b121cd3-c473-3607-0000-0000142ba0bf","instanceIdentifier":"30e7086b-ff07-35ce-b57d-0f5b6aaa06d7","name":"flatten query json","comments":"","position":{"x":96.0,"y":-456.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\nimport java.io.InputStream\nimport java.io.OutputStream\nimport java.io.IOException\nimport org.apache.nifi.processor.io.InputStreamCallback\nimport org.apache.nifi.processor.io.OutputStreamCallback\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def content = ''\n\n    // Read input from FlowFile\n    session.read(flowFile, new InputStreamCallback() {\n        @Override\n        void process(InputStream inputStream) throws IOException {\n            content = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        }\n    })\n\n    if (!content?.trim()) throw new IllegalArgumentException(\"FlowFile content is empty\")\n\n    def parsed = new JsonSlurper().parseText(content.trim())\n    if (!(parsed instanceof List)) {\n        parsed = [parsed]  // Wrap single object as list\n    }\n\n    parsed.eachWithIndex { doc, idx ->\n        def name = doc['name']?.toString()?.replaceAll(\"\\\\s+\", \"_\") ?: \"unknown\"\n        def empId = doc['employee_id']?.toString() ?: idx.toString()\n        def filename = \"${empId}_${name}.txt\"\n\n        def textValue = doc['query']?.toString() ?: \"\"  // Extract only the query value\n\n        def outputJson = JsonOutput.toJson([\n            filename: filename,\n            text    : textValue\n        ])\n\n        def ff = session.create(flowFile)\n        session.write(ff, new OutputStreamCallback() {\n            @Override\n            void process(OutputStream out) throws IOException {\n                out.write(JsonOutput.prettyPrint(outputJson).getBytes(StandardCharsets.UTF_8))\n            }\n        })\n\n        session.transfer(ff, REL_SUCCESS)\n    }\n\n    session.remove(flowFile)\n\n} catch (Exception e) {\n    log.error(\"ExecuteScript Error: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"3547491b-2f8e-3e40-ffff-ffff8b34c5f6","instanceIdentifier":"c4d8499b-d5c6-3ee7-be41-022003087f13","name":"EvaluateJsonPath","comments":"","position":{"x":1400.0,"y":-1760.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","employee_id":"$.employee_id","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"employee_id":{"name":"employee_id","displayName":"employee_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"4f1bcc96-bceb-3573-0000-000023896563","instanceIdentifier":"7f29a9dc-257b-345e-a723-fba1faf00f18","name":"embedd generation","comments":"","position":{"x":-304.0,"y":-448.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AWS_REGION":"us-west-2","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/yogesh/codes_split","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/yogesh/codes_split/query_embedd.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"EMBEDDING_PROVIDER":"azure","EMBEDDING_MODEL":"text-embedding-ada-002","AZURE_OPENAI_EMBEDDING_MODEL":"text-embedding-ada-002"},"propertyDescriptors":{"AWS_REGION":{"name":"AWS_REGION","displayName":"AWS_REGION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_KEY":{"name":"AZURE_OPENAI_KEY","displayName":"AZURE_OPENAI_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_ENDPOINT":{"name":"AZURE_OPENAI_ENDPOINT","displayName":"AZURE_OPENAI_ENDPOINT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"EMBEDDING_PROVIDER":{"name":"EMBEDDING_PROVIDER","displayName":"EMBEDDING_PROVIDER","identifiesControllerService":false,"sensitive":false,"dynamic":true},"EMBEDDING_MODEL":{"name":"EMBEDDING_MODEL","displayName":"EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_EMBEDDING_MODEL":{"name":"AZURE_OPENAI_EMBEDDING_MODEL","displayName":"AZURE_OPENAI_EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_API_VERSION":{"name":"AZURE_OPENAI_API_VERSION","displayName":"AZURE_OPENAI_API_VERSION","identifiesControllerService":false,"sensitive":true,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","nonzero status"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"26511176-3c7c-388d-ffff-ffff89063396","instanceIdentifier":"05e1f24f-9275-31df-b54c-4e0a6c777eb6","name":"Resume Standardisation","comments":"","position":{"x":2328.0,"y":344.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.4.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def filename = flowFile.getAttribute(\"filename\")\n    def employeeId = filename.replaceFirst(/\\.[^.]+$/, \"\")\n\n    // Azure OpenAI configuration\n    def API_KEY = \"\"\n    def ENDPOINT = \"https://us-tax-law-rag-demo.openai.azure.com\"\n    def DEPLOYMENT = \"gpt-4o-mini\"\n    def API_VERSION = \"2024-08-01-preview\"\n\n    def contentStream = session.read(flowFile)\n    def resumeJson = new JsonSlurper().parseText(IOUtils.toString(contentStream, StandardCharsets.UTF_8))\n    contentStream.close()\n\n    def contentMap = resumeJson.content ?: [:]\n    def llamaText = contentMap.llama ?: \"\"\n    def ocrText = contentMap.ocr ?: \"\"\n    def links = resumeJson.links ?: []\n\n    if (!llamaText.trim() && !ocrText.trim()) {\n        log.warn(\"⚠️ Both LlamaParse and OCR content are empty for file: $filename\")\n        session.transfer(flowFile, REL_FAILURE)\n        return\n    }\n\n    def prompt = \"\"\"\nYou are an intelligent and robust context-aware resume standardizer. Your task is to convert resume content into a clean, structured, normalized/standardized JSON format suitable for both semantic retrieval and relational database storage.\n\n--- PARSED RESUME CONTENT ---\nThe following text comes from two sources:\n1. *LlamaParse* - reliable markdown-style structure\n2. *OCR fallback* - may contain missing structure or artifacts\n\nUse both as needed to create the most complete structured resume.\n\n--- LlamaParse Content ---\n\\\"\\\"\\\"${llamaText}\\\"\\\"\\\"\n\n--- OCR Fallback Content ---\n\\\"\\\"\\\"${ocrText}\\\"\\\"\\\"\n\n--- EXTRACTED HYPERLINKS ---\n${JsonOutput.prettyPrint(JsonOutput.toJson(links))}\n\n--- STANDARDIZED STRUCTURE ---\nConvert the resume to a JSON object strictly following this structure:\n\n{\n  \"employee_id\": str,\n  \"name\": str,\n  \"email\": str,\n  \"phone\": str,\n  \"location\": str,\n  \"summary\": str,\n  \"education\": [\n    {\n      \"degree\": str,\n      \"institution\": str,\n      \"year\": int or str\n    }\n  ],\n  \"experience\": [\n    {\n      \"title\": str,\n      \"company\": str,\n      \"duration\": str,\n      \"location\": str (optional),\n      \"description\": str\n    }\n  ],\n  \"skills\": [str],\n  \"projects\": [\n    {\n      \"title\": str,\n      \"description\": str,\n      \"link\": str (optional)\n    }\n  ],\n  \"certifications\": [\n    {\n      \"title\": str,\n      \"issuer\": str (optional),\n      \"year\": str or int (optional),\n      \"link\": str (only if it can be reliably mapped from extracted hyperlinks)\n    }\n  ],\n  \"languages\": [str],\n  \"social_profiles\": [\n    {\n      \"platform\": str,\n      \"link\": str\n    }\n  ]\n}\n\n--- GUIDELINES ---\n- Use both content sections above to extract all information.\n- Do not introduce or remove fields arbitrarily.\n- Leave keys with empty arrays if data is missing.\n- Ensure the output is only valid JSON. No comments or markdown.\n\"\"\"\n\n    def requestBody = JsonOutput.toJson([\n        messages: [\n            [role: \"system\", content: \"You are a helpful assistant that formats resumes into structured JSON.\"],\n            [role: \"user\", content: prompt]\n        ],\n        temperature: 0.2,\n        max_tokens: 6000\n    ])\n\n    def conn = new URL(\"${ENDPOINT}/openai/deployments/${DEPLOYMENT}/chat/completions?api-version=${API_VERSION}\")\n            .openConnection()\n    conn.setRequestMethod(\"POST\")\n    conn.setDoOutput(true)\n    conn.setRequestProperty(\"Content-Type\", \"application/json\")\n    conn.setRequestProperty(\"api-key\", API_KEY)\n\n    conn.outputStream.withWriter(\"UTF-8\") { it.write(requestBody) }\n\n    def responseText = conn.inputStream.withReader(\"UTF-8\") { it.text }\n    def parsed = new JsonSlurper().parseText(responseText)\n\n    def rawLLM = parsed.choices[0].message.content?.trim()\n    def cleaned = rawLLM?.replaceAll(/(?s)```(json)?/, \"\")?.trim()\n    def standardized = new JsonSlurper().parseText(cleaned)\n\n    // Extract usage info\n    def usage = parsed.usage ?: [:]\n    def promptTokens = usage.prompt_tokens ?: 0\n    def completionTokens = usage.completion_tokens ?: 0\n    def totalTokens = usage.total_tokens ?: (promptTokens + completionTokens)\n    def model = parsed.model ?: DEPLOYMENT\n\n    // Cost estimation (adjust if pricing changes)\n    def costPer1K = 0.00025  // $/1K tokens for gpt-4o-mini\n    def totalCost = ((totalTokens / 1000.0) * costPer1K).round(6)\n\n    // Add employee_id to the JSON\n    standardized.employee_id = employeeId\n    def finalJson = JsonOutput.prettyPrint(JsonOutput.toJson(standardized))\n\n    // Write result to FlowFile\n    flowFile = session.write(flowFile, { out ->\n        out.write(finalJson.getBytes(StandardCharsets.UTF_8))\n    } as OutputStreamCallback)\n\n    def attributes = new HashMap<String, String>()\n    attributes.put(\"employee_id\", employeeId.toString())\n    attributes.put(\"llm_model\", model.toString())\n    attributes.put(\"llm_prompt_tokens\", promptTokens.toString())\n    attributes.put(\"llm_completion_tokens\", completionTokens.toString())\n    attributes.put(\"llm_total_tokens\", totalTokens.toString())\n    attributes.put(\"llm_total_cost\", \"\\$\" + totalCost.toString())\n\n    flowFile = session.putAllAttributes(flowFile, attributes)\n\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"❌ Error during resume standardization: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"fde6b58e-9915-3784-ffff-ffff89063396","instanceIdentifier":"4a04737a-6ef1-3fb1-9280-d2521383f233","name":"UpdateAttribute","comments":"","position":{"x":2200.0,"y":744.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"filename":"${employee_id}.json","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"cccdf270-c93b-3554-0000-000023896563","instanceIdentifier":"1956fd2d-2a4b-3a26-8573-598730708338","name":"filter embedding","comments":"","position":{"x":-304.0,"y":-272.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"2.4.0"},"properties":{"groovyx-script-body":"import org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\nimport org.apache.commons.io.IOUtils\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n    def input = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n    def json = new JsonSlurper().parseText(input)\n\n    // Extract embedding array\n    def embeddingArray = json[\"embedding\"]\n\n    // Create output JSON\n    def outputJson = [query_vector: embeddingArray]\n    outputStream.write(JsonOutput.toJson(outputJson).getBytes(StandardCharsets.UTF_8))\n} as StreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)\n","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false,"dynamic":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"aa013e32-82c2-3b8e-ffff-ffff9cdfb6ca","instanceIdentifier":"e13c06ea-4617-3cfc-bd3e-744f542535d8","name":"HandleHttpResponse","comments":"","position":{"x":-48.0,"y":-1632.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"d5794abb-9491-3964-0000-000048295029","instanceIdentifier":"1c3d4967-8f2c-39a5-ab9c-11883839aaf0","name":"HandleHttpResponse","comments":"","position":{"x":-624.0,"y":128.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1cfc16af-6a7b-3c7d-8de4-8ace50eb1d49","instanceIdentifier":"f411d6b6-0197-1000-ffff-ffffb023874d","name":"UpdateAttribute","comments":"","position":{"x":-968.0,"y":-1472.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.4.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","content-type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"content-type":{"name":"content-type","displayName":"content-type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"aaf7baba-240b-3593-0000-0000068abcae","instanceIdentifier":"0b2f8d18-21f5-32b0-8ed1-d0197707b4e7","name":"Log LLM Usage","comments":"","position":{"x":3488.0,"y":368.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"4096","Evaluate Expression Language":"True","Output MIME Type":"application/json","Working Directory":"/home/nifi/nifi2/users/dhruv/hrbotingestion","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/log_llm_usage.py"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluate Expression Language":{"name":"Evaluate Expression Language","displayName":"Evaluate Expression Language","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"799441e5-80a0-35f0-ffff-ffff9651230b","instanceIdentifier":"0c49bbce-1b50-3b37-bc92-62e99fd17572","name":"Remove Uploaded Resume No longer needed","comments":"","position":{"x":3456.0,"y":848.0},"type":"org.apache.nifi.processors.standard.DeleteFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Filename":"${filename}","Directory Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/data"},"propertyDescriptors":{"Filename":{"name":"Filename","displayName":"Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Directory Path":{"name":"Directory Path","displayName":"Directory Path","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"25eeb452-5b97-322e-ffff-ffff89063396","instanceIdentifier":"a26680b3-9c9b-3ea4-9900-7be4ec61498d","name":"LogAttribute","comments":"","position":{"x":3168.0,"y":600.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"bb1f0f4e-0558-3205-ffff-ffff895b397b","instanceIdentifier":"fd6bdbed-c3c2-3332-b44d-53df4fa8b2d4","name":"HandleHttpResponse","comments":"","position":{"x":2800.0,"y":1472.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"HTTP Context Map":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"3ee866aa-ec12-3547-ffff-fffffa1f4f96","instanceIdentifier":"15758db7-216f-3cbb-8599-ac3d6cf3745a","name":"LogAttribute","comments":"","position":{"x":3976.0,"y":920.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"88746f8a-e9ba-345c-b986-e37cdbd30012","instanceIdentifier":"e42b5652-0197-1000-0000-00004324cb97","name":"RouteOnAttribute","comments":"","position":{"x":-536.0,"y":-904.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Routing Strategy":"Route to Property name","hasjd":"${job_description:trim():length():gt(0)}","nojd":"${job_description:isNull():or(${job_description:trim():length():equals(0)})}","onlyJD":"${job_description:trim():length():gt(0):and(${identifier:isNull():or(${identifier:trim():length():equals(0)})})}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"hasjd":{"name":"hasjd","displayName":"hasjd","identifiesControllerService":false,"sensitive":false,"dynamic":true},"nojd":{"name":"nojd","displayName":"nojd","identifiesControllerService":false,"sensitive":false,"dynamic":true},"onlyJD":{"name":"onlyJD","displayName":"onlyJD","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"5bb86991-d98d-36ae-ffff-ffff89063396","instanceIdentifier":"05a00284-ef42-3343-b778-299bdb4f7f61","name":"LogAttribute","comments":"","position":{"x":3256.0,"y":176.0},"type":"org.apache.nifi.processors.standard.LogAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Log prefix":null,"character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log FlowFile Properties":{"name":"Log FlowFile Properties","displayName":"Log FlowFile Properties","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Format":{"name":"Output Format","displayName":"Output Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c93338ad-ddd3-3ec0-0000-0000665f62ad","instanceIdentifier":"6e085af9-9662-3076-8eea-1472ad9b2d98","name":"embedd generation","comments":"","position":{"x":1448.0,"y":1064.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"AWS_REGION":"us-west-2","argumentsStrategy":"Command Arguments Property","Working Directory":"/home/nifi/nifi2/users/yogesh/code","Command Path":"/home/nifi/nifi2/users/dhruv/hrbotingestion/venv/bin/python3","Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":"/home/nifi/nifi2/users/dhruv/hrbotingestion/embedding.py","Max Attribute Length":"256","Output MIME Type":null,"Output Destination Attribute":null,"EMBEDDING_PROVIDER":"azure","EMBEDDING_MODEL":"text-embedding-ada-002","AZURE_OPENAI_EMBEDDING_MODEL":"text-embedding-ada-002"},"propertyDescriptors":{"AWS_REGION":{"name":"AWS_REGION","displayName":"AWS_REGION","identifiesControllerService":false,"sensitive":false,"dynamic":true},"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_KEY":{"name":"AZURE_OPENAI_KEY","displayName":"AZURE_OPENAI_KEY","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AZURE_OPENAI_ENDPOINT":{"name":"AZURE_OPENAI_ENDPOINT","displayName":"AZURE_OPENAI_ENDPOINT","identifiesControllerService":false,"sensitive":true,"dynamic":true},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME Type":{"name":"Output MIME Type","displayName":"Output MIME Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"EMBEDDING_PROVIDER":{"name":"EMBEDDING_PROVIDER","displayName":"EMBEDDING_PROVIDER","identifiesControllerService":false,"sensitive":false,"dynamic":true},"EMBEDDING_MODEL":{"name":"EMBEDDING_MODEL","displayName":"EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_EMBEDDING_MODEL":{"name":"AZURE_OPENAI_EMBEDDING_MODEL","displayName":"AZURE_OPENAI_EMBEDDING_MODEL","identifiesControllerService":false,"sensitive":false,"dynamic":true},"AZURE_OPENAI_API_VERSION":{"name":"AZURE_OPENAI_API_VERSION","displayName":"AZURE_OPENAI_API_VERSION","identifiesControllerService":false,"sensitive":true,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["output stream","original","nonzero status"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"ff6bc7b0-e86d-3553-ffff-ffff89063396","instanceIdentifier":"1fb30ccd-533f-3606-b9c9-06c9e9a1ecae","name":"","source":{"id":"26511176-3c7c-388d-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Standardisation","comments":"","instanceIdentifier":"05e1f24f-9275-31df-b54c-4e0a6c777eb6"},"destination":{"id":"fde6b58e-9915-3784-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"4a04737a-6ef1-3fb1-9280-d2521383f233"},"labelIndex":0,"zIndex":42,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"4d9327a6-3bc4-3a1d-87e1-76c32d90644e","instanceIdentifier":"5f6b347c-0198-1000-0000-00002dab6d20","name":"","source":{"id":"aaf7baba-240b-3593-0000-0000068abcae","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Log LLM Usage","comments":"","instanceIdentifier":"0b2f8d18-21f5-32b0-8ed1-d0197707b4e7"},"destination":{"id":"35327f49-44e1-379f-ffff-ffff822e7409","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"396007b5-0f33-3427-a625-142a7e1175e1"},"labelIndex":0,"zIndex":212,"selectedRelationships":["output stream","original"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"00bd46b1-ac6f-387c-bae6-2274ff472937","instanceIdentifier":"551cc438-0198-1000-0000-00005f32c296","name":"","source":{"id":"bbe547d9-ad1a-36f6-95c6-0ffb147e3525","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"551ac9c6-0198-1000-0000-00005efc364e"},"destination":{"id":"4e8afd9c-c981-3e5c-0000-000063209b6c","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"check counter","comments":"","instanceIdentifier":"16cf0025-42a0-3e94-810c-0e34195e8352"},"labelIndex":0,"zIndex":209,"selectedRelationships":["bulk"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1000eff3-30c4-3451-af12-b62522d1d165","instanceIdentifier":"f3b70a9f-0197-1000-ffff-fffff490b6b7","name":"","source":{"id":"5ae769ad-7b63-376e-0000-00005bd06be9","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"90b01c4f-6c6e-3ea4-8436-6181c9c9d04a"},"destination":{"id":"63ef47d4-c4f3-3fb9-ffff-ffffe5b97f80","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Retailor Resume","comments":"","instanceIdentifier":"29524231-a775-3efc-b7d3-a533f06de257"},"labelIndex":0,"zIndex":118,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"91816472-e2b9-3938-b7c3-e6524a98bc50","instanceIdentifier":"3120be7d-0198-1000-0000-00006cb9ac57","name":"","source":{"id":"4e8afd9c-c981-3e5c-0000-000063209b6c","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"check counter","comments":"","instanceIdentifier":"16cf0025-42a0-3e94-810c-0e34195e8352"},"destination":{"id":"494594bb-eb58-3a95-be61-1341d648dda6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnContent","comments":"","instanceIdentifier":"31209dc8-0198-1000-0000-00001eb649e3"},"labelIndex":0,"zIndex":197,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ae755f6b-49c1-3a6a-bed4-5f1dc8b138b6","instanceIdentifier":"e3c4b363-0197-1000-0000-00006dacf11f","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"3547491b-2f8e-3e40-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"c4d8499b-d5c6-3ee7-be41-022003087f13"},"labelIndex":0,"zIndex":69,"selectedRelationships":["delete"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9c63fe63-64d4-369b-831e-291d29f844be","instanceIdentifier":"19624e73-0198-1000-ffff-ffffca5c7bc7","name":"","source":{"id":"2d498dc9-2af4-3caa-0000-000023896563","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"retriever","comments":"","instanceIdentifier":"ee25b2ef-c974-3747-870b-9a2c57df46a8"},"destination":{"id":"d5794abb-9491-3964-0000-000048295029","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"1c3d4967-8f2c-39a5-ab9c-11883839aaf0"},"labelIndex":0,"zIndex":184,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"da0fff2a-c908-3a23-bddf-2af08c9393df","instanceIdentifier":"fd57efd4-0197-1000-0000-000069f3f323","name":"","source":{"id":"5cf14311-4fc6-3d72-0000-00007ef65e7d","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"34e2dded-c1f5-36a5-a992-b2dd4350d21b"},"destination":{"id":"771adbc6-9a0b-38c1-ffff-ffffd023b7ca","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"eb04836c-fb65-31ce-a3f3-9c443558e373"},"labelIndex":0,"zIndex":134,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"109b70ed-e66b-3a35-8283-bfb10392a969","instanceIdentifier":"e8fec058-0197-1000-0000-000009e846f5","name":"","source":{"id":"88746f8a-e9ba-345c-b986-e37cdbd30012","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e42b5652-0197-1000-0000-00004324cb97"},"destination":{"id":"55894517-9553-399b-8786-67d1aaff3f15","type":"INPUT_PORT","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"Input JD","instanceIdentifier":"e8fe73d4-0197-1000-0000-0000374a8fb8"},"labelIndex":0,"zIndex":79,"selectedRelationships":["onlyJD"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"fe32c7f2-db82-3baa-b1c2-6c7b8d0b6f28","instanceIdentifier":"551eb8fe-0198-1000-ffff-fffffcccfd6d","name":"","source":{"id":"bbe547d9-ad1a-36f6-95c6-0ffb147e3525","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"551ac9c6-0198-1000-0000-00005efc364e"},"destination":{"id":"bb1f0f4e-0558-3205-ffff-ffff895b397b","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"fd6bdbed-c3c2-3332-b44d-53df4fa8b2d4"},"labelIndex":0,"zIndex":210,"selectedRelationships":["add"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"556de665-a37b-32f5-ffff-ffffe00946a3","instanceIdentifier":"3fc7fbd9-80f4-3fb0-97db-cefd772d6cce","name":"","source":{"id":"e2e5a3cf-a4e3-36f8-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Add experience","comments":"","instanceIdentifier":"8f381aec-c566-3986-b1ba-be2523d52c37"},"destination":{"id":"8d12cef2-bb4b-32ed-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten again","comments":"","instanceIdentifier":"76c181e3-b082-33f5-b8f1-4712544f449e"},"labelIndex":0,"zIndex":57,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"24fac052-757d-3ac7-b053-0bd33c1389ac","instanceIdentifier":"e884032b-0197-1000-ffff-ffffb6e780d5","name":"","source":{"id":"da92ac1b-2c72-320f-0000-00006dc5f855","type":"OUTPUT_PORT","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"Keywords Output","instanceIdentifier":"caf0e7cf-01bd-3b78-904a-54b50eec8b53"},"destination":{"id":"b0c280ad-d484-382e-0000-000060c81617","type":"INPUT_PORT","groupId":"9124e834-de98-34a8-0000-000060c81617","name":"Keywords Input","instanceIdentifier":"01a64bd7-4ec8-343e-a03d-f0f647cfa41d"},"labelIndex":0,"zIndex":77,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"f5e7db1a-26e3-3569-aee8-38424654a52e","instanceIdentifier":"1ba0c844-0198-1000-0000-00003f98592d","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"e5613e88-d158-36b7-a3f8-9f42118c9f71","type":"INPUT_PORT","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"/add","instanceIdentifier":"1b9fe01f-0198-1000-0000-0000631175bc"},"labelIndex":0,"zIndex":188,"selectedRelationships":["add"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1c55f523-f44f-31be-ffff-ffff89063396","instanceIdentifier":"926ae922-039a-3fe9-ba58-e6bbf20a4d01","name":"","source":{"id":"5356c913-1cd4-32ab-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"FetchFile","comments":"","instanceIdentifier":"96cbc686-7ec7-36fb-a1ca-0470836f6bb8"},"destination":{"id":"1399d99c-7e33-33f6-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"11a458c1-1e65-3c1e-8bea-68ad5c1b1a1f"},"labelIndex":0,"zIndex":36,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"2c36339b-aeeb-3910-ffff-ffff8b34c5f6","instanceIdentifier":"d533a118-cb3f-3e98-abec-20dce4c0725e","name":"","source":{"id":"f99c2fb5-4773-32bc-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"ef018b43-debf-3d4a-b8b7-01e09ed35954"},"destination":{"id":"36d41513-ea9b-3222-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"91aa8f69-e8ee-35b5-8937-d07ee7f38da7"},"labelIndex":0,"zIndex":6,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2479.616455078125,"y":-1781.583740234375}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"888e7a65-6e05-3694-852a-603fb946c2fb","instanceIdentifier":"17adad7b-0198-1000-0000-000049015522","name":"","source":{"id":"5cf14311-4fc6-3d72-0000-00007ef65e7d","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"34e2dded-c1f5-36a5-a992-b2dd4350d21b"},"destination":{"id":"dba5d071-760a-34f7-0000-000056ae1938","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"abf0932e-18b5-3a5b-8086-20f4304bcee1"},"labelIndex":0,"zIndex":154,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"61e4e505-2033-31dd-b9d4-1c83a6b6a642","instanceIdentifier":"b0b2d854-0197-1000-ffff-ffff9b56d212","name":"","source":{"id":"ef620cf8-ce44-3661-0000-00007cd455c4","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Handle HTTP Request","comments":"","instanceIdentifier":"67b1fc13-19ba-3459-9768-e40390e26e9c"},"destination":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"labelIndex":0,"zIndex":59,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e7d6261b-c125-3da4-976b-3c243f581cfc","instanceIdentifier":"601bc5d6-0198-1000-0000-0000797959d4","name":"","source":{"id":"26511176-3c7c-388d-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Standardisation","comments":"","instanceIdentifier":"05e1f24f-9275-31df-b54c-4e0a6c777eb6"},"destination":{"id":"a8992021-ecc3-3ef3-884a-5c59cc565b0d","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"AttributesToJSON","comments":"","instanceIdentifier":"601b85db-0198-1000-ffff-ffffa271e0fb"},"labelIndex":0,"zIndex":213,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"afb399bf-0be2-3a37-851f-f49d5381208f","instanceIdentifier":"17ad1589-0198-1000-ffff-ffffafebc993","name":"","source":{"id":"aa013e32-82c2-3b8e-ffff-ffff9cdfb6ca","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"e13c06ea-4617-3cfc-bd3e-744f542535d8"},"destination":{"id":"dba5d071-760a-34f7-0000-000056ae1938","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"abf0932e-18b5-3a5b-8086-20f4304bcee1"},"labelIndex":0,"zIndex":152,"selectedRelationships":["success","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e710d634-2a71-35c6-a8f4-584d918e7719","instanceIdentifier":"f8eefc97-0197-1000-ffff-ffffeaa9c7ef","name":"","source":{"id":"63ef47d4-c4f3-3fb9-ffff-ffffe5b97f80","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Retailor Resume","comments":"","instanceIdentifier":"29524231-a775-3efc-b7d3-a533f06de257"},"destination":{"id":"76969da1-81c1-3053-ffff-fffff263f631","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"DocxConversion","comments":"","instanceIdentifier":"8a89ac90-78a8-3f08-971c-3c2c26eb7d8b"},"labelIndex":0,"zIndex":129,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"07cb3bb0-dd04-364f-ffff-ffffe00946a3","instanceIdentifier":"79a287f6-ab4a-3468-885f-145a72f401e1","name":"","source":{"id":"8d12cef2-bb4b-32ed-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten again","comments":"","instanceIdentifier":"76c181e3-b082-33f5-b8f1-4712544f449e"},"destination":{"id":"614215b2-eff1-3946-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"ec5af142-4c87-3236-904d-148417a24729"},"labelIndex":0,"zIndex":59,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"53c744d2-a33d-326b-ae70-d74c9701001c","instanceIdentifier":"17b38cdb-0198-1000-0000-0000284208be","name":"","source":{"id":"88746f8a-e9ba-345c-b986-e37cdbd30012","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e42b5652-0197-1000-0000-00004324cb97"},"destination":{"id":"e2359023-4162-3347-ffff-ffff9cb15c65","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"c9664769-ecd8-307a-8df2-6ef4ea2eee94"},"labelIndex":0,"zIndex":161,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"103a0d86-0380-31b6-ffff-ffff89063396","instanceIdentifier":"61ee388e-6233-350c-b20a-06538ddb4c2e","name":"","source":{"id":"8ef6483f-3bf0-33c7-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"8d354a49-7fd9-31aa-8df8-ee1ec797c2ba"},"destination":{"id":"5356c913-1cd4-32ab-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"FetchFile","comments":"","instanceIdentifier":"96cbc686-7ec7-36fb-a1ca-0470836f6bb8"},"labelIndex":0,"zIndex":47,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7f5d7cca-f365-3742-ffff-ffff89063396","instanceIdentifier":"bd8b01db-5df0-35c1-a51b-f7b88fe35ea8","name":"","source":{"id":"8ef6483f-3bf0-33c7-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"8d354a49-7fd9-31aa-8df8-ee1ec797c2ba"},"destination":{"id":"bff29fcc-4263-36bb-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"710dad36-614d-37b7-ac4f-fb0b6f85d4d6"},"labelIndex":0,"zIndex":57,"selectedRelationships":["failure","not found"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"af31a924-2639-3053-ffff-ffff89063396","instanceIdentifier":"22f9fea2-da89-3240-84ad-08fb8909e5fe","name":"","source":{"id":"3bbb7e4b-3f1e-3128-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Parsing","comments":"","instanceIdentifier":"3364bbff-6f3f-35c3-9061-765124c7b68c"},"destination":{"id":"1eced8a6-75da-3f99-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"d44096b4-0df3-35f5-a8fb-f011647d5528"},"labelIndex":0,"zIndex":21,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"76620dbe-f6ed-3891-959d-38ca365d7bc5","instanceIdentifier":"17afdf4d-0198-1000-ffff-ffff829c9aa8","name":"","source":{"id":"5ae769ad-7b63-376e-0000-00005bd06be9","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"90b01c4f-6c6e-3ea4-8436-6181c9c9d04a"},"destination":{"id":"c3bcd75f-8b97-3489-0000-00004bb8abf0","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"ddc33201-cfd0-382b-bcde-5bd5a7ba6cb0"},"labelIndex":0,"zIndex":159,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"6476a7ca-f63a-31f0-a06b-2fc035124f00","instanceIdentifier":"f4133fdc-0197-1000-0000-0000425ee5aa","name":"","source":{"id":"1cfc16af-6a7b-3c7d-8de4-8ace50eb1d49","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"f411d6b6-0197-1000-ffff-ffffb023874d"},"destination":{"id":"ab352eae-3a08-3e12-bef2-8296e95a15c7","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"e89b6f19-0197-1000-0000-00004b982202"},"labelIndex":0,"zIndex":128,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"6e2a6378-c34a-3530-ae16-0e50c2beca2f","instanceIdentifier":"551aebf8-0198-1000-ffff-ffff90f85e64","name":"","source":{"id":"95f614d6-645f-3e60-0000-0000542991ae","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Insert to elastic","comments":"","instanceIdentifier":"38a85cda-c92c-35fb-ae68-509119825aac"},"destination":{"id":"bbe547d9-ad1a-36f6-95c6-0ffb147e3525","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"551ac9c6-0198-1000-0000-00005efc364e"},"labelIndex":0,"zIndex":208,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"87b21f4f-46ce-3552-8401-3439bc5e30f7","instanceIdentifier":"1c4a3449-0198-1000-0000-00005d4ee478","name":"","source":{"id":"799441e5-80a0-35f0-ffff-ffff9651230b","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"0c49bbce-1b50-3b37-bc92-62e99fd17572"},"destination":{"id":"3ee866aa-ec12-3547-ffff-fffffa1f4f96","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"15758db7-216f-3cbb-8599-ac3d6cf3745a"},"labelIndex":0,"zIndex":191,"selectedRelationships":["failure","not found"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7637fb7d-e504-39c4-0000-0000142ba0bf","instanceIdentifier":"86e760b5-6f5d-3ceb-b63c-9a04c4399e10","name":"","source":{"id":"c7ab161a-8512-3e01-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"filter embedding","comments":"","instanceIdentifier":"8bf9e1ae-42d8-39ba-8875-214d600b88a6"},"destination":{"id":"02fa968e-a606-3abf-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"retriever","comments":"","instanceIdentifier":"a7608b61-a413-365d-9522-b5b005ff8cf1"},"labelIndex":0,"zIndex":23,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"b6cf1cd5-fac8-392b-aca4-3652fd5f8c0b","instanceIdentifier":"17ad9313-0198-1000-0000-00004e67f6ba","name":"","source":{"id":"771adbc6-9a0b-38c1-ffff-ffffd023b7ca","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"eb04836c-fb65-31ce-a3f3-9c443558e373"},"destination":{"id":"dba5d071-760a-34f7-0000-000056ae1938","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"abf0932e-18b5-3a5b-8086-20f4304bcee1"},"labelIndex":0,"zIndex":153,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"076266b9-ce9d-3018-8d77-ec8e8e7bc195","instanceIdentifier":"3122c9f6-0198-1000-0000-000060914f3d","name":"","source":{"id":"494594bb-eb58-3a95-be61-1341d648dda6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnContent","comments":"","instanceIdentifier":"31209dc8-0198-1000-0000-00001eb649e3"},"destination":{"id":"41cdd101-483f-3f40-9723-d60a9582a17e","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"3122b3f0-0198-1000-0000-00002d3adad3"},"labelIndex":0,"zIndex":199,"selectedRelationships":["wait"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"d14322a4-024e-39dd-84b4-8cd7b482ff5d","instanceIdentifier":"17ac92c3-0198-1000-ffff-ffff866e97fd","name":"","source":{"id":"ef620cf8-ce44-3661-0000-00007cd455c4","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Handle HTTP Request","comments":"","instanceIdentifier":"67b1fc13-19ba-3459-9768-e40390e26e9c"},"destination":{"id":"d7a9e0fe-bcf2-37db-0000-00006aac04e8","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"3a9a3040-d110-3434-9dc4-960d748780f5"},"labelIndex":0,"zIndex":151,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7d7883e8-7939-3d13-85c3-73fa82df9321","instanceIdentifier":"e9064797-0197-1000-ffff-ffffc648ac58","name":"","source":{"id":"cf3fe6cd-bd79-319f-0000-000057c3d508","type":"OUTPUT_PORT","groupId":"6f869720-789e-3f1f-0000-000057c3d508","name":"Keywords Output","instanceIdentifier":"251331af-8527-35ac-a290-88ddef15cbac"},"destination":{"id":"3d107953-f5e7-3d66-0000-00006b63f6ab","type":"INPUT_PORT","groupId":"96c6da00-3a76-3ef8-0000-00006b63f6ab","name":"Keywords Input","instanceIdentifier":"d959dfab-83ac-325a-a100-317c8a4a30b1"},"labelIndex":0,"zIndex":80,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"76b29027-c53c-3641-9da9-1253c5668952","instanceIdentifier":"1962912f-0198-1000-0000-0000486ed9fa","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"4f1bcc96-bceb-3573-0000-000023896563","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"7f29a9dc-257b-345e-a723-fba1faf00f18"},"labelIndex":0,"zIndex":185,"selectedRelationships":["search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"37aff9fc-a32e-38ee-b39a-ed0f9a389798","instanceIdentifier":"00133044-0198-1000-ffff-ffff8881452b","name":"","source":{"id":"fde6b58e-9915-3784-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"4a04737a-6ef1-3fb1-9280-d2521383f233"},"destination":{"id":"c643f9f8-4907-3720-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten json","comments":"","instanceIdentifier":"68be6524-2b88-3691-ab8d-39cb309833f9"},"labelIndex":0,"zIndex":136,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"658a9e6d-ace7-30b3-ffff-ffff8b34c5f6","instanceIdentifier":"9ac9ae50-971e-3407-8b32-2d303934ea64","name":"","source":{"id":"f99c2fb5-4773-32bc-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"ef018b43-debf-3d4a-b8b7-01e09ed35954"},"destination":{"id":"65d56b3e-850b-350e-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"ef07a6e1-b401-365f-8143-9e84f36801c8"},"labelIndex":0,"zIndex":4,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"f6a81739-5053-30d1-abc9-4b110f02b913","instanceIdentifier":"e9c963bc-0197-1000-ffff-fffff326781d","name":"","source":{"id":"e59e95f3-4d18-3461-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"e259039c-bf13-3a3a-940f-062ad0d8fa3b"},"destination":{"id":"f8050c3c-a87c-3875-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"b4276b07-7cb1-30bc-bc70-c9f288baaabd"},"labelIndex":0,"zIndex":85,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"b6ee4b6f-30c6-3e18-9af0-332ddb8e1259","instanceIdentifier":"3bef5722-0198-1000-ffff-ffff83345d07","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"2a602f4b-2e1b-3d22-ffff-ffff9c29e781","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"09e0b3be-75ab-3149-a06a-700f48d88ea2"},"labelIndex":0,"zIndex":206,"selectedRelationships":["search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9ac9025f-586c-347c-9225-e1e2ba3ed6b7","instanceIdentifier":"fd5872a0-0197-1000-ffff-ffffef2462ce","name":"","source":{"id":"771adbc6-9a0b-38c1-ffff-ffffd023b7ca","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"eb04836c-fb65-31ce-a3f3-9c443558e373"},"destination":{"id":"aa013e32-82c2-3b8e-ffff-ffff9cdfb6ca","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"e13c06ea-4617-3cfc-bd3e-744f542535d8"},"labelIndex":0,"zIndex":135,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9539b0d5-f243-3467-8dca-8c126ed190b1","instanceIdentifier":"1b9a55a1-0198-1000-ffff-ffffe8cf4d93","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"fd15f13b-1cfd-3620-8465-799a2ab3829e","type":"INPUT_PORT","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"/bulk","instanceIdentifier":"1b98f1c5-0198-1000-0000-0000544a4b80"},"labelIndex":0,"zIndex":186,"selectedRelationships":["bulk"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"0768327a-fb93-387e-a92b-f5711bf8e0f4","instanceIdentifier":"e8824100-0197-1000-0000-000046da139b","name":"","source":{"id":"88746f8a-e9ba-345c-b986-e37cdbd30012","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e42b5652-0197-1000-0000-00004324cb97"},"destination":{"id":"6ff56010-461b-3c19-9d8d-16716f61f331","type":"INPUT_PORT","groupId":"210e8b7e-0cb7-3dbd-0000-00006dc5f855","name":"Input Candidate details + JD","instanceIdentifier":"e881ce63-0197-1000-0000-00004c1ce73e"},"labelIndex":0,"zIndex":76,"selectedRelationships":["hasjd"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"001b3d04-ba2a-3015-b651-cd70992d11ca","instanceIdentifier":"601beee1-0198-1000-ffff-fffff395feb2","name":"","source":{"id":"a8992021-ecc3-3ef3-884a-5c59cc565b0d","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"AttributesToJSON","comments":"","instanceIdentifier":"601b85db-0198-1000-ffff-ffffa271e0fb"},"destination":{"id":"aaf7baba-240b-3593-0000-0000068abcae","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Log LLM Usage","comments":"","instanceIdentifier":"0b2f8d18-21f5-32b0-8ed1-d0197707b4e7"},"labelIndex":0,"zIndex":214,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"d1f59c8d-3ddf-3c98-9169-5270bbbeebc1","instanceIdentifier":"3bf33b01-0198-1000-ffff-fffff09a3dea","name":"","source":{"id":"2a602f4b-2e1b-3d22-ffff-ffff9c29e781","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"09e0b3be-75ab-3149-a06a-700f48d88ea2"},"destination":{"id":"a0908060-b536-32f7-0000-0000713bdac7","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"975451dd-5688-335a-a0d3-2fe9ce7ec016"},"labelIndex":0,"zIndex":207,"selectedRelationships":["original","nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"affccf25-0654-36b6-ffff-ffff89063396","instanceIdentifier":"9308241e-9248-3076-a635-9487fd65032e","name":"","source":{"id":"09f0df3f-0580-32b0-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"PutFile","comments":"","instanceIdentifier":"8b8c2f15-f3df-31e0-8227-3fc2398f607b"},"destination":{"id":"3bbb7e4b-3f1e-3128-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Parsing","comments":"","instanceIdentifier":"3364bbff-6f3f-35c3-9061-765124c7b68c"},"labelIndex":0,"zIndex":17,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a3b63796-7f41-3c17-8ca4-997659d45dd9","instanceIdentifier":"3af90300-0198-1000-ffff-ffff8f15e960","name":"","source":{"id":"2a602f4b-2e1b-3d22-ffff-ffff9c29e781","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"09e0b3be-75ab-3149-a06a-700f48d88ea2"},"destination":{"id":"c0f1b92c-dbb2-3ae5-ffff-fffffc55c049","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"2b9d10f5-37a0-3ca5-bed4-371ea2ed8361"},"labelIndex":0,"zIndex":204,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"81b2aee0-93f4-3cf4-8256-cca96c01f354","instanceIdentifier":"17af8d48-0198-1000-0000-00003a5b7443","name":"","source":{"id":"ab352eae-3a08-3e12-bef2-8296e95a15c7","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"e89b6f19-0197-1000-0000-00004b982202"},"destination":{"id":"c3bcd75f-8b97-3489-0000-00004bb8abf0","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"ddc33201-cfd0-382b-bcde-5bd5a7ba6cb0"},"labelIndex":0,"zIndex":155,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"e69f4e43-ca31-3b04-ffff-ffff8b34c5f6","instanceIdentifier":"ea305a26-0b82-362e-962d-adfb1434eeb9","name":"","source":{"id":"3547491b-2f8e-3e40-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"c4d8499b-d5c6-3ee7-be41-022003087f13"},"destination":{"id":"f99c2fb5-4773-32bc-ffff-ffff8b34c5f6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"ef018b43-debf-3d4a-b8b7-01e09ed35954"},"labelIndex":0,"zIndex":2,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"059a1ced-b1de-3863-a690-1976d77afe3c","instanceIdentifier":"35aa259e-0198-1000-ffff-ffffc43ab5dc","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"ecb89bd4-f4de-3c0d-b0ca-d09e96b0d64e","type":"INPUT_PORT","groupId":"5424cfb1-26c4-3c39-bf56-344a51e2f95c","name":"Search","instanceIdentifier":"35a98ed0-0198-1000-ffff-ffffc621d5e0"},"labelIndex":0,"zIndex":202,"selectedRelationships":["search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"96a3dd3f-0604-3473-a6ca-f31c1ba9fc33","instanceIdentifier":"e9c9e1ea-0197-1000-ffff-ffffcedacd1f","name":"","source":{"id":"02fa968e-a606-3abf-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"retriever","comments":"","instanceIdentifier":"a7608b61-a413-365d-9522-b5b005ff8cf1"},"destination":{"id":"d5794abb-9491-3964-0000-000048295029","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"1c3d4967-8f2c-39a5-ab9c-11883839aaf0"},"labelIndex":0,"zIndex":86,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"aee47c47-7f34-3063-ffff-ffffe00946a3","instanceIdentifier":"481c3d54-01de-3cc8-98e0-e561889403fe","name":"","source":{"id":"c643f9f8-4907-3720-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten json","comments":"","instanceIdentifier":"68be6524-2b88-3691-ab8d-39cb309833f9"},"destination":{"id":"e2e5a3cf-a4e3-36f8-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Add experience","comments":"","instanceIdentifier":"8f381aec-c566-3986-b1ba-be2523d52c37"},"labelIndex":0,"zIndex":54,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9b6c74cf-5527-3a1a-8ab2-ad6d34d9de77","instanceIdentifier":"0013ee8c-0198-1000-ffff-ffff8b567537","name":"","source":{"id":"8d12cef2-bb4b-32ed-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten again","comments":"","instanceIdentifier":"76c181e3-b082-33f5-b8f1-4712544f449e"},"destination":{"id":"a99a8cd6-47af-3f30-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"9dbb6d38-798b-30ec-abd6-fb6e09cf38c2"},"labelIndex":0,"zIndex":139,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"34a02c1c-63b8-3cfe-a69b-5d049a0c04c6","instanceIdentifier":"17afb343-0198-1000-0000-000047f51ac3","name":"","source":{"id":"76969da1-81c1-3053-ffff-fffff263f631","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"DocxConversion","comments":"","instanceIdentifier":"8a89ac90-78a8-3f08-971c-3c2c26eb7d8b"},"destination":{"id":"c3bcd75f-8b97-3489-0000-00004bb8abf0","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"ddc33201-cfd0-382b-bcde-5bd5a7ba6cb0"},"labelIndex":0,"zIndex":157,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"69020984-a9c6-3691-9f4c-9fe9cd063932","instanceIdentifier":"0013d6f9-0198-1000-ffff-ffff86271217","name":"","source":{"id":"e2e5a3cf-a4e3-36f8-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Add experience","comments":"","instanceIdentifier":"8f381aec-c566-3986-b1ba-be2523d52c37"},"destination":{"id":"a99a8cd6-47af-3f30-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"9dbb6d38-798b-30ec-abd6-fb6e09cf38c2"},"labelIndex":0,"zIndex":138,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"b43387c9-2cce-340f-0000-0000142ba0bf","instanceIdentifier":"be795d67-7513-3fda-8f14-b0fdd71d230b","name":"","source":{"id":"2b7d0831-6551-378f-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"6a821153-0b54-3154-b462-d719fc3ffdb9"},"destination":{"id":"c7ab161a-8512-3e01-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"filter embedding","comments":"","instanceIdentifier":"8bf9e1ae-42d8-39ba-8875-214d600b88a6"},"labelIndex":0,"zIndex":25,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7224e679-bfc2-3bee-9f9f-3f30490badc6","instanceIdentifier":"1c499ba8-0198-1000-ffff-ffffbd9d45cc","name":"","source":{"id":"95f614d6-645f-3e60-0000-0000542991ae","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Insert to elastic","comments":"","instanceIdentifier":"38a85cda-c92c-35fb-ae68-509119825aac"},"destination":{"id":"799441e5-80a0-35f0-ffff-ffff9651230b","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"0c49bbce-1b50-3b37-bc92-62e99fd17572"},"labelIndex":0,"zIndex":190,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"bb456313-2bfc-372b-9597-73bc27c45d76","instanceIdentifier":"00142dae-0198-1000-ffff-ffff84faf253","name":"","source":{"id":"d0de29a9-20ff-3819-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"insert to elastic","comments":"","instanceIdentifier":"153e0b11-cb39-3321-a49a-59616154a092"},"destination":{"id":"a99a8cd6-47af-3f30-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"9dbb6d38-798b-30ec-abd6-fb6e09cf38c2"},"labelIndex":0,"zIndex":141,"selectedRelationships":["original","nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"1b2bb8b7-6658-3281-ffff-ffff89063396","instanceIdentifier":"861b9ef3-8146-3bea-b4b8-e3c8d8da6a13","name":"","source":{"id":"26511176-3c7c-388d-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Standardisation","comments":"","instanceIdentifier":"05e1f24f-9275-31df-b54c-4e0a6c777eb6"},"destination":{"id":"25eeb452-5b97-322e-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"a26680b3-9c9b-3ea4-9900-7be4ec61498d"},"labelIndex":0,"zIndex":39,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"6739a836-1f97-3b52-ad54-9e4568c1f8a7","instanceIdentifier":"e42e2884-0197-1000-ffff-ffffb5f968cb","name":"","source":{"id":"88746f8a-e9ba-345c-b986-e37cdbd30012","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e42b5652-0197-1000-0000-00004324cb97"},"destination":{"id":"5ae769ad-7b63-376e-0000-00005bd06be9","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Fetch Resume from Elastic","comments":"","instanceIdentifier":"90b01c4f-6c6e-3ea4-8436-6181c9c9d04a"},"labelIndex":0,"zIndex":74,"selectedRelationships":["nojd"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a8ddf376-7022-3c71-0000-000023896563","instanceIdentifier":"6904c57c-9883-3740-9ad9-ebbecea12830","name":"","source":{"id":"cccdf270-c93b-3554-0000-000023896563","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"filter embedding","comments":"","instanceIdentifier":"1956fd2d-2a4b-3a26-8573-598730708338"},"destination":{"id":"2d498dc9-2af4-3caa-0000-000023896563","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"retriever","comments":"","instanceIdentifier":"ee25b2ef-c974-3747-870b-9a2c57df46a8"},"labelIndex":0,"zIndex":23,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"36d1f0ca-27c2-301f-ac3e-09d22db8b544","instanceIdentifier":"1b9c0e5e-0198-1000-ffff-ffffa65e605a","name":"","source":{"id":"9be6fd52-7c26-3a6b-9906-00e10966416f","type":"OUTPUT_PORT","groupId":"56ba5156-9834-3426-a190-f5d7728d33fb","name":"filestoparsingpipleine","instanceIdentifier":"1b99b9f1-0198-1000-ffff-ffff9b50c907"},"destination":{"id":"09f0df3f-0580-32b0-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"PutFile","comments":"","instanceIdentifier":"8b8c2f15-f3df-31e0-8227-3fc2398f607b"},"labelIndex":0,"zIndex":187,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ef81f48a-ce0b-3cad-b600-ef5ec908db51","instanceIdentifier":"64311a45-0198-1000-0000-00005c011785","name":"","source":{"id":"ec3c5f16-c56b-36de-9490-531c7f43e446","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ReplaceText","comments":"","instanceIdentifier":"6412f941-0198-1000-ffff-ffffb32ca2ce"},"destination":{"id":"69249b6e-9687-31aa-ffff-ffffd8f15d8c","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Log LLM Usage","comments":"","instanceIdentifier":"d827fbdd-3270-3e12-b4d0-40e9a740494e"},"labelIndex":0,"zIndex":216,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"072c57fc-b70b-38d0-a27e-e2d50243f239","instanceIdentifier":"e42dbcd1-0197-1000-0000-000004736414","name":"","source":{"id":"f37f1775-0a8a-3f35-ffff-fffffbedc211","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"2c61f9cd-94c0-364a-8b66-171020776ab1"},"destination":{"id":"88746f8a-e9ba-345c-b986-e37cdbd30012","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e42b5652-0197-1000-0000-00004324cb97"},"labelIndex":0,"zIndex":73,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9664ebb6-43b7-3fd9-0000-0000142ba0bf","instanceIdentifier":"9ad37287-71c2-335e-be9c-3f73e45ab3cf","name":"","source":{"id":"7b121cd3-c473-3607-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten query json","comments":"","instanceIdentifier":"30e7086b-ff07-35ce-b57d-0f5b6aaa06d7"},"destination":{"id":"2b7d0831-6551-378f-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"6a821153-0b54-3154-b462-d719fc3ffdb9"},"labelIndex":0,"zIndex":3,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"0b8ac15a-3ee6-3f56-8de9-cb034020f1d7","instanceIdentifier":"f411fad1-0197-1000-0000-00002928a716","name":"","source":{"id":"76969da1-81c1-3053-ffff-fffff263f631","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"DocxConversion","comments":"","instanceIdentifier":"8a89ac90-78a8-3f08-971c-3c2c26eb7d8b"},"destination":{"id":"1cfc16af-6a7b-3c7d-8de4-8ace50eb1d49","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"f411d6b6-0197-1000-ffff-ffffb023874d"},"labelIndex":0,"zIndex":127,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"ee1a5d37-cca0-3008-ffff-ffff89063396","instanceIdentifier":"c8cc2e1a-d67e-397c-83ce-c165e809bfa0","name":"","source":{"id":"1399d99c-7e33-33f6-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"11a458c1-1e65-3c1e-8bea-68ad5c1b1a1f"},"destination":{"id":"26511176-3c7c-388d-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Standardisation","comments":"","instanceIdentifier":"05e1f24f-9275-31df-b54c-4e0a6c777eb6"},"labelIndex":0,"zIndex":37,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a11c4594-26d8-3f61-816f-01aa4d930e44","instanceIdentifier":"1ba10138-0198-1000-0000-00005fce3432","name":"","source":{"id":"3fdef2ae-b317-30af-b041-31b4a8f2e049","type":"OUTPUT_PORT","groupId":"1ee48191-c730-345e-8370-52d0fabee237","name":"fileforward","instanceIdentifier":"1ba0487f-0198-1000-0000-00002d9fac82"},"destination":{"id":"09f0df3f-0580-32b0-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"PutFile","comments":"","instanceIdentifier":"8b8c2f15-f3df-31e0-8227-3fc2398f607b"},"labelIndex":0,"zIndex":189,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"b8c58492-e231-3c8e-bd97-0b4e31d64c61","instanceIdentifier":"3b66d21d-0198-1000-ffff-ffff8be46791","name":"","source":{"id":"fde6b58e-9915-3784-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"4a04737a-6ef1-3fb1-9280-d2521383f233"},"destination":{"id":"c93338ad-ddd3-3ec0-0000-0000665f62ad","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"6e085af9-9662-3076-8eea-1472ad9b2d98"},"labelIndex":0,"zIndex":205,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"bad8ffb5-fab5-349c-ffff-ffff89063396","instanceIdentifier":"c7d63191-f501-324f-be17-09966df15ced","name":"","source":{"id":"1399d99c-7e33-33f6-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"11a458c1-1e65-3c1e-8bea-68ad5c1b1a1f"},"destination":{"id":"5bb86991-d98d-36ae-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"05a00284-ef42-3343-b778-299bdb4f7f61"},"labelIndex":0,"zIndex":56,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c2bc0716-19d6-33bc-a149-58b1ec6264e8","instanceIdentifier":"17af9cdb-0198-1000-0000-000018691dcd","name":"","source":{"id":"1cfc16af-6a7b-3c7d-8de4-8ace50eb1d49","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"f411d6b6-0197-1000-ffff-ffffb023874d"},"destination":{"id":"c3bcd75f-8b97-3489-0000-00004bb8abf0","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"ddc33201-cfd0-382b-bcde-5bd5a7ba6cb0"},"labelIndex":0,"zIndex":156,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a5d1049d-e3a1-3cb2-b43c-48f848c15441","instanceIdentifier":"fd57808e-0197-1000-0000-000020cbf8d5","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"5cf14311-4fc6-3d72-0000-00007ef65e7d","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"34e2dded-c1f5-36a5-a992-b2dd4350d21b"},"labelIndex":0,"zIndex":133,"selectedRelationships":["view"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7089a851-1068-3bf0-ffff-ffff89063396","instanceIdentifier":"9baad05f-5f42-3b54-b224-254f004ff1ee","name":"","source":{"id":"3bbb7e4b-3f1e-3128-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Resume Parsing","comments":"","instanceIdentifier":"3364bbff-6f3f-35c3-9061-765124c7b68c"},"destination":{"id":"8ef6483f-3bf0-33c7-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Remove Uploaded Resume No longer needed","comments":"","instanceIdentifier":"8d354a49-7fd9-31aa-8df8-ee1ec797c2ba"},"labelIndex":0,"zIndex":46,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"53f6bccb-d67a-3acb-9c16-ce34e6da633e","instanceIdentifier":"31228488-0198-1000-0000-000028b8b204","name":"","source":{"id":"494594bb-eb58-3a95-be61-1341d648dda6","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnContent","comments":"","instanceIdentifier":"31209dc8-0198-1000-0000-00001eb649e3"},"destination":{"id":"220964a2-ac82-3833-0000-00001659d879","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"HandleHttpResponse","comments":"","instanceIdentifier":"5f6d995d-47f6-37fc-b6aa-189d21f8ab23"},"labelIndex":0,"zIndex":198,"selectedRelationships":["green"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"bfeb4d46-0c65-36c6-bb42-6dd01077edc6","instanceIdentifier":"17b379b6-0198-1000-0000-00006f56aa49","name":"","source":{"id":"f37f1775-0a8a-3f35-ffff-fffffbedc211","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"2c61f9cd-94c0-364a-8b66-171020776ab1"},"destination":{"id":"e2359023-4162-3347-ffff-ffff9cb15c65","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"c9664769-ecd8-307a-8df2-6ef4ea2eee94"},"labelIndex":0,"zIndex":160,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"7030f1cf-7477-3147-ffff-ffffe00946a3","instanceIdentifier":"ee812eac-6cd5-3f4d-9a4e-4d69b8fe63cf","name":"","source":{"id":"614215b2-eff1-3946-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"ec5af142-4c87-3236-904d-148417a24729"},"destination":{"id":"d0de29a9-20ff-3819-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"insert to elastic","comments":"","instanceIdentifier":"153e0b11-cb39-3321-a49a-59616154a092"},"labelIndex":0,"zIndex":53,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"901a0069-4cac-3160-a157-58453348236b","instanceIdentifier":"e9c92c16-0197-1000-ffff-fffff02ebf5f","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"e548875f-d2aa-3276-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"060a67db-1354-365f-b713-90e43e202053"},"labelIndex":0,"zIndex":83,"selectedRelationships":["skills"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"63eb683c-6cfd-3d8e-ffff-ffff89063396","instanceIdentifier":"1719251e-6bfc-3fb8-b5db-f614f342eea2","name":"","source":{"id":"5356c913-1cd4-32ab-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"FetchFile","comments":"","instanceIdentifier":"96cbc686-7ec7-36fb-a1ca-0470836f6bb8"},"destination":{"id":"ee88240f-4b0c-3b80-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"f4e987c7-4985-3c42-9941-c51e39eafdb8"},"labelIndex":0,"zIndex":30,"selectedRelationships":["failure","permission.denied","not.found"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"2820abeb-ba0e-34ae-9467-1f227248a024","instanceIdentifier":"07dde028-0198-1000-ffff-ffffc98537cb","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"6b0c838b-aa06-3766-a558-eacc6681678d","type":"INPUT_PORT","groupId":"9f356439-5c28-3992-0000-00001eb25888","name":"resume","instanceIdentifier":"07d9ea7d-0198-1000-ffff-ffffbee06fe4"},"labelIndex":0,"zIndex":142,"selectedRelationships":["upload2"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"4440b3a0-122b-3407-b8b5-640281f3868f","instanceIdentifier":"0013ba3e-0198-1000-ffff-ffffe41482ac","name":"","source":{"id":"c643f9f8-4907-3720-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten json","comments":"","instanceIdentifier":"68be6524-2b88-3691-ab8d-39cb309833f9"},"destination":{"id":"a99a8cd6-47af-3f30-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"9dbb6d38-798b-30ec-abd6-fb6e09cf38c2"},"labelIndex":0,"zIndex":137,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"9726deb6-717e-3057-0000-0000142ba0bf","instanceIdentifier":"bcc9cbe2-e356-318d-9ce4-94d857890ce2","name":"","source":{"id":"e548875f-d2aa-3276-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"060a67db-1354-365f-b713-90e43e202053"},"destination":{"id":"e59e95f3-4d18-3461-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"e259039c-bf13-3a3a-940f-062ad0d8fa3b"},"labelIndex":0,"zIndex":42,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"b2a8c8fe-3a79-342d-0000-000023896563","instanceIdentifier":"08d69588-13d7-3264-bea7-0bfd7be21cc5","name":"","source":{"id":"4f1bcc96-bceb-3573-0000-000023896563","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"7f29a9dc-257b-345e-a723-fba1faf00f18"},"destination":{"id":"cccdf270-c93b-3554-0000-000023896563","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"filter embedding","comments":"","instanceIdentifier":"1956fd2d-2a4b-3a26-8573-598730708338"},"labelIndex":0,"zIndex":94,"selectedRelationships":["output stream"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"4b8265a9-15a1-3af9-96fd-2ac8c975bb5c","instanceIdentifier":"00140fc1-0198-1000-0000-0000484593db","name":"","source":{"id":"614215b2-eff1-3946-ffff-ffffe00946a3","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"embedd generation","comments":"","instanceIdentifier":"ec5af142-4c87-3236-904d-148417a24729"},"destination":{"id":"a99a8cd6-47af-3f30-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"9dbb6d38-798b-30ec-abd6-fb6e09cf38c2"},"labelIndex":0,"zIndex":140,"selectedRelationships":["original","nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"795039c2-ff3c-3fd8-ab65-794aa0da73f8","instanceIdentifier":"1c75d152-0198-1000-0000-000012eb3165","name":"","source":{"id":"09f0df3f-0580-32b0-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"PutFile","comments":"","instanceIdentifier":"8b8c2f15-f3df-31e0-8227-3fc2398f607b"},"destination":{"id":"8bbb373d-9fa7-38b0-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"4bf9c058-b25a-324e-8357-abb06156c528"},"labelIndex":0,"zIndex":192,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"c5c10326-6ecf-3970-b0a3-fb91e6bff5e7","instanceIdentifier":"e9c9476d-0197-1000-0000-00006367bd40","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"7b121cd3-c473-3607-0000-0000142ba0bf","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"flatten query json","comments":"","instanceIdentifier":"30e7086b-ff07-35ce-b57d-0f5b6aaa06d7"},"labelIndex":0,"zIndex":84,"selectedRelationships":["search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"cf2137f2-8ae2-395f-9acc-ea6ab076a4c4","instanceIdentifier":"64133602-0198-1000-ffff-fffffd0652a3","name":"","source":{"id":"ef620cf8-ce44-3661-0000-00007cd455c4","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Handle HTTP Request","comments":"","instanceIdentifier":"67b1fc13-19ba-3459-9768-e40390e26e9c"},"destination":{"id":"ec3c5f16-c56b-36de-9490-531c7f43e446","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"ReplaceText","comments":"","instanceIdentifier":"6412f941-0198-1000-ffff-ffffb32ca2ce"},"labelIndex":0,"zIndex":215,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"50cbdda6-4086-3554-b60a-da284d134751","instanceIdentifier":"fd572e19-0197-1000-ffff-ffffa79bb13e","name":"","source":{"id":"70a23787-ea4c-3b16-ba4e-b140cc5da8b5","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b0b2c125-0197-1000-0000-000013762233"},"destination":{"id":"f37f1775-0a8a-3f35-ffff-fffffbedc211","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"2c61f9cd-94c0-364a-8b66-171020776ab1"},"labelIndex":0,"zIndex":132,"selectedRelationships":["makeresume"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"d9ebd3ec-ecbd-3759-9d1e-f11babeb74e8","instanceIdentifier":"e9b9dff3-0197-1000-0000-00004da6e310","name":"","source":{"id":"fde6b58e-9915-3784-ffff-ffff89063396","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"UpdateAttribute","comments":"","instanceIdentifier":"4a04737a-6ef1-3fb1-9280-d2521383f233"},"destination":{"id":"95f614d6-645f-3e60-0000-0000542991ae","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Insert to elastic","comments":"","instanceIdentifier":"38a85cda-c92c-35fb-ae68-509119825aac"},"labelIndex":0,"zIndex":81,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"3f14f6f9-5dbe-39dc-9bc8-cb5a25786ded","instanceIdentifier":"17afc68d-0198-1000-ffff-ffffca078437","name":"","source":{"id":"63ef47d4-c4f3-3fb9-ffff-ffffe5b97f80","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"Retailor Resume","comments":"","instanceIdentifier":"29524231-a775-3efc-b7d3-a533f06de257"},"destination":{"id":"c3bcd75f-8b97-3489-0000-00004bb8abf0","type":"PROCESSOR","groupId":"359399bb-0c7e-360e-a64f-886b6a9a50dc","name":"LogAttribute","comments":"","instanceIdentifier":"ddc33201-cfd0-382b-bcde-5bd5a7ba6cb0"},"labelIndex":0,"zIndex":158,"selectedRelationships":["nonzero status"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"}],"labels":[{"identifier":"d7eacafb-550c-32fe-ffff-ffffd39e6077","instanceIdentifier":"642dfb04-c505-3f50-b7b0-5eb19382d46a","position":{"x":-808.0,"y":-1768.0},"label":"Retailoring \nwithout  \nJD","zIndex":1,"width":150.0,"height":150.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"2bc7da9c-f631-35b2-0000-0000753bb18a","instanceIdentifier":"45792123-65c1-3b49-86b9-e1801b39cb9c","position":{"x":-1248.0,"y":-712.0},"label":"Retailoring\ncandidate\n with JD","zIndex":1,"width":150.0,"height":150.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"db6ca5d5-8cb2-314f-ffff-fffffed19ae5","instanceIdentifier":"4fd98e3d-0705-3c3e-a089-cb2e804f645c","position":{"x":24.0,"y":-1728.0},"label":"View Candidate Resume","zIndex":1,"width":150.0,"height":150.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"f78562a2-bdb7-3d81-ffff-ffffa5ad0296","instanceIdentifier":"cebeef89-c8ba-39db-96cd-62aef318455a","position":{"x":-496.0,"y":-1584.0},"label":"Bulk Scoring and Retailoring\n","zIndex":1,"width":150.0,"height":150.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"}],"funnels":[],"controllerServices":[{"identifier":"0afc0ebc-6a10-36a9-8311-7f0dce25595a","instanceIdentifier":"b0b748e5-0197-1000-ffff-ffff9139c7ad","name":"StandardHttpContextMap","comments":"","type":"org.apache.nifi.http.StandardHttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-http-context-map-nar","version":"2.4.0"},"properties":{"Request Expiration":"10 min","Maximum Outstanding Requests":"5000"},"propertyDescriptors":{"Request Expiration":{"name":"Request Expiration","displayName":"Request Expiration","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Outstanding Requests":{"name":"Maximum Outstanding Requests","displayName":"Maximum Outstanding Requests","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.http.HttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"5162735c-aecf-3ec7-8e05-6d0a135daa60","instanceIdentifier":"2c58d066-0198-1000-ffff-ffff833c4764","name":"RedisDistributedMapCacheClientService","comments":"","type":"org.apache.nifi.redis.service.RedisDistributedMapCacheClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-nar","version":"2.4.0"},"properties":{"redis-connection-pool":null,"redis-cache-ttl":"0 secs"},"propertyDescriptors":{"redis-connection-pool":{"name":"redis-connection-pool","displayName":"Redis Connection Pool","identifiesControllerService":true,"sensitive":false,"dynamic":false},"redis-cache-ttl":{"name":"redis-cache-ttl","displayName":"TTL","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}},{"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"6cd18090-8718-3060-8b30-62ba79838e87","instanceIdentifier":"2c59a3fc-0198-1000-ffff-ffffdb70bb37","name":"HazelcastMapCacheClient","comments":"","type":"org.apache.nifi.hazelcast.services.cacheclient.HazelcastMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-hazelcast-services-nar","version":"2.4.0"},"properties":{"hazelcast-cache-name":"resume_upload_signal_cache","hazelcast-cache-manager":"b856fc0f-21fa-3d6d-a3f1-d9c840b6d6d8","hazelcast-entry-ttl":"2 hours"},"propertyDescriptors":{"hazelcast-cache-name":{"name":"hazelcast-cache-name","displayName":"Hazelcast Cache Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"hazelcast-cache-manager":{"name":"hazelcast-cache-manager","displayName":"Hazelcast Cache Manager","identifiesControllerService":true,"sensitive":false,"dynamic":false},"hazelcast-entry-ttl":{"name":"hazelcast-entry-ttl","displayName":"Hazelcast Entry Lifetime","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}},{"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"b856fc0f-21fa-3d6d-a3f1-d9c840b6d6d8","instanceIdentifier":"2c5affd8-0198-1000-0000-00003ba437a7","name":"EmbeddedHazelcastCacheManager","comments":"","type":"org.apache.nifi.hazelcast.services.cachemanager.EmbeddedHazelcastCacheManager","bundle":{"group":"org.apache.nifi","artifact":"nifi-hazelcast-services-nar","version":"2.4.0"},"properties":{"hazelcast-port":"5701","hazelcast-clustering-strategy":"none","hazelcast-instances":null,"hazelcast-cluster-name":"nifi"},"propertyDescriptors":{"hazelcast-port":{"name":"hazelcast-port","displayName":"Hazelcast Port","identifiesControllerService":false,"sensitive":false,"dynamic":false},"hazelcast-clustering-strategy":{"name":"hazelcast-clustering-strategy","displayName":"Hazelcast Clustering Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"hazelcast-instances":{"name":"hazelcast-instances","displayName":"Hazelcast Instances","identifiesControllerService":false,"sensitive":false,"dynamic":false},"hazelcast-cluster-name":{"name":"hazelcast-cluster-name","displayName":"Hazelcast Cluster Name","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.hazelcast.services.cachemanager.HazelcastCacheManager","bundle":{"group":"org.apache.nifi","artifact":"nifi-hazelcast-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"},{"identifier":"a3cb3d88-4b88-3369-9989-4ad54760cb5d","instanceIdentifier":"e9bb40e1-0197-1000-ffff-ffffa9788b41","name":"StandardHttpContextMap","comments":"","type":"org.apache.nifi.http.StandardHttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-http-context-map-nar","version":"2.4.0"},"properties":{"Request Expiration":"10 min","Maximum Outstanding Requests":"5000"},"propertyDescriptors":{"Request Expiration":{"name":"Request Expiration","displayName":"Request Expiration","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Outstanding Requests":{"name":"Maximum Outstanding Requests","displayName":"Maximum Outstanding Requests","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.http.HttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"359399bb-0c7e-360e-a64f-886b6a9a50dc"}],"parameterContextName":"Azure_OpenAI_Config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{"Azure_OpenAI_Config":{"name":"Azure_OpenAI_Config","parameters":[{"name":"AZURE_API_KEY","description":"","sensitive":false,"provided":false,"value":""},{"name":"employee_id","description":"","sensitive":false,"provided":false,"value":"${employee_id}"},{"name":"llm_prompt_tokens","description":"","sensitive":false,"provided":false,"value":"${llm_prompt_tokens}"},{"name":"llm_model","description":"","sensitive":false,"provided":false,"value":"${llm_model}"},{"name":"llm_total_tokens","description":"","sensitive":false,"provided":false,"value":"${llm_total_tokens}"},{"name":"AZURE_API_VERSION","description":"","sensitive":false,"provided":false,"value":"2024-08-01-preview"},{"name":"llm_completion_tokens","description":"","sensitive":false,"provided":false,"value":"${llm_completion_tokens}"},{"name":"AZURE_DEPLOYMENT","description":"","sensitive":false,"provided":false,"value":"gpt-4o-mini"},{"name":"AZURE_ENDPOINT","description":"","sensitive":false,"provided":false,"value":"https://us-tax-law-rag-demo.openai.azure.com/"},{"name":"llm_total_cost","description":"","sensitive":false,"provided":false,"value":"${llm_total_cost}"}],"inheritedParameterContexts":[],"componentType":"PARAMETER_CONTEXT"}},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}